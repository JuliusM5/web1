// src/utils/i18n.js
import { useState, useEffect, createContext, useContext } from 'react';

// Create a context for internationalization
const I18nContext = createContext();

// Default language
const DEFAULT_LANGUAGE = 'en-US';

// Available languages
export const AVAILABLE_LANGUAGES = [
  { code: 'en-US', name: 'English (US)' },
  { code: 'en-GB', name: 'English (UK)' },
  { code: 'es-ES', name: 'Spanish' },
  { code: 'fr-FR', name: 'French' },
  { code: 'de-DE', name: 'German' },
  { code: 'it-IT', name: 'Italian' },
  { code: 'ja-JP', name: 'Japanese' },
  { code: 'zh-CN', name: 'Chinese (Simplified)' },
];

// Translation dictionaries for each language
const translations = {
  'en-US': {
    // General
    'app.name': 'TravelEase',
    'app.tagline': 'Plan your trips with ease',
    
    // Navigation
    'nav.dashboard': 'Dashboard',
    'nav.planner': 'Plan Trip',
    'nav.trips': 'My Trips',
    'nav.settings': 'Settings',
    'nav.templates': 'Templates',
    
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.stats.totalTrips': 'Total Trips',
    'dashboard.stats.upcoming': 'Upcoming',
    'dashboard.stats.daysTraveled': 'Days Traveled',
    'dashboard.stats.budgetTotal': 'Budget Total',
    'dashboard.nextAdventure': 'Next Adventure',
    'dashboard.startDate': 'Start Date',
    'dashboard.days': 'Days',
    'dashboard.budget': 'Budget',
    'dashboard.transportation': 'Transportation',
    'dashboard.viewDetails': 'View Trip Details',
    'dashboard.noTrips': 'No upcoming trips planned.',
    'dashboard.planTrip': 'Plan a Trip Now',
    'dashboard.timeline': 'Your Travel Timeline',
    'dashboard.timelineEmpty': 'Your travel timeline will appear here once you plan trips.',
    'dashboard.statisticsTitle': 'Travel Statistics',
    'dashboard.statisticsEmpty': 'Your travel statistics will appear here once you plan trips.',

    
    // Forms and common actions
    'form.save': 'Save',
    'form.cancel': 'Cancel',
    'form.add': 'Add',
    'form.edit': 'Edit',
    'form.delete': 'Delete',
    'form.close': 'Close',
    
    // Trip planner tabs
    'planner.basicInfo': 'Basic Info',
    'planner.budget': 'Budget',
    'planner.transport': 'Transportation',
    'planner.photos': 'Photos',
    'planner.tasks': 'Tasks',
    'planner.packing': 'Packing',
    'planner.notes': 'Notes',
    'planner.external': 'External',
    'planner.saveTrip': 'Save Trip',
    'planner.updateTrip': 'Update Trip',
    
    // Basic info tab
    'basicInfo.destination': 'Destination',
    'basicInfo.destinationPlaceholder': 'Where are you going?',
    'basicInfo.startDate': 'Start Date',
    'basicInfo.endDate': 'End Date',
    'basicInfo.budget': 'Budget',
    'basicInfo.budgetPlaceholder': 'Estimated budget',
    'basicInfo.duration': 'Duration',
    'basicInfo.days': 'days',
    'basicInfo.destinationHint': 'Enter any city or destination to get started',

    
    // Error messages
    'error.required': 'This field is required',
    'error.invalidEmail': 'Please enter a valid email address',
    'error.invalidDate': 'Please enter a valid date',
    
    // Success messages
    'success.tripSaved': 'Trip saved successfully',
    'success.tripUpdated': 'Trip updated successfully',
    'success.settingsSaved': 'Settings saved successfully',

    // Budget messages
    'budget.accommodation': 'Accommodation',
    'budget.accommodationPlaceholder': 'Hotels, Airbnb, etc.',
    'budget.food': 'Food',
    'budget.foodPlaceholder': 'Restaurants, groceries, etc.',
    'budget.transportation': 'Transportation',
    'budget.transportationPlaceholder': 'Flights, trains, taxis, etc.',
    'budget.activities': 'Activities',
    'budget.activitiesPlaceholder': 'Tours, attractions, etc.',
    'budget.other': 'Other',
    'budget.otherPlaceholder': 'Souvenirs, gifts, miscellaneous',
    'budget.summary': 'Budget Summary',
    'budget.total': 'Total',
    'budget.dailyBudget': 'Daily Budget',
    'budget.perDay': 'per day',
    'budget.for': 'for',
    'budget.days': 'days',
    'budget.budgetTips': 'Budget Tips',
    'budget.tip1': 'Always keep a buffer of 10-15% for unexpected expenses',
    'budget.tip2': 'Research local tipping customs before your trip',
    'budget.tip3': 'Consider accommodations with kitchens to save on food',
    'budget.tip4': 'Use public transportation when possible to reduce costs',
    'budget.noData': 'No budget data to display. Add budget items to see the chart.',
    'budget.noData.line1': 'No budget data to display.',
    'budget.noData.line2': 'Add budget items to see the chart.',
    'budget.totalBudget': 'Total Budget',

    // Transportation messages
    'transport.addTransportation': 'Add Transportation',
    'transport.type': 'Type',
    'transport.selectType': 'Select type',
    'transport.types.Flight': 'Flight',
    'transport.types.Train': 'Train',
    'transport.types.Bus': 'Bus',
    'transport.types.Ferry': 'Ferry',
    'transport.types.Rental Car': 'Rental Car',
    'transport.types.Taxi/Rideshare': 'Taxi/Rideshare',
    'transport.from': 'From',
    'transport.to': 'To',
    'transport.price': 'Price',
    'transport.cost': 'Cost',
    'transport.departurePoint': 'Departure point',
    'transport.arrivalPoint': 'Arrival point',
    'transport.yourTransportation': 'Your Transportation',
    'transport.noOptions': 'No transportation options added yet.',
    'transport.totalOptions': 'Total Options',
    'transport.totalCost': 'Total Cost',

    // Photos messages
   'photos.addPhotos': 'Add Photos',
    'photos.uploadFromDevice': 'Upload from Device',
    'photos.selectImageFile': 'Select an image file',
    'photos.preview': 'Preview',
    'photos.chooseFile': 'Choose file',
    'photos.caption': 'Caption',
    'photos.captionPlaceholder': 'Description of the photo',
    'photos.addPhoto': 'Add Photo',
    'photos.galleryTips': 'Photo Gallery Tips:',
    'photos.tip1': 'Upload photos of places you want to visit',
    'photos.tip2': 'Add inspirational travel images from your device',
    'photos.tip3': 'Include photos of important documents like tickets',
    'photos.tip4': 'Create a visual wishlist for your trip',
    'photos.yourPhotos': 'Your Photos',
    'photos.noPhotos': 'No photos added yet.',
    'photos.travelInspiration': 'Travel inspiration',
    'photos.remove': 'Remove',
    'photos.noFileChosen': 'No file chosen', 

    // Tasks messages
    'tasks.addTask': 'Add Task',
    'tasks.taskDescription': 'Task Description',
    'tasks.whatNeedsToBeDone': 'What needs to be done?',
    'tasks.dueDate': 'Due Date',
    'tasks.time': 'Time',
    'tasks.optional': 'Optional',
    'tasks.tripDates': 'Trip Dates',
    'tasks.to': 'to',
    'tasks.category': 'Category',
    'tasks.priority': 'Priority',
    'tasks.yourTasks': 'Your Tasks',
    'tasks.options': 'Options',
    'tasks.showCompleted': 'Show Completed',
    'tasks.filterByCategory': 'Filter by Category',
    'tasks.allCategories': 'All Categories',
    'tasks.filterByPriority': 'Filter by Priority',
    'tasks.allPriorities': 'All Priorities',
    'tasks.sortBy': 'Sort By',
    'tasks.recentlyAdded': 'Recently Added',
    'tasks.groupBy': 'Group By',
    'tasks.date': 'Date',
    'tasks.noGrouping': 'No Grouping',
    'tasks.noTasksMatch': 'No tasks match your filters.',
    'tasks.resetFilters': 'Reset Filters',
    'tasks.taskCount': 'task(s)',
    'tasks.noTasksInGroup': 'No tasks in this group',
    'tasks.noDate': 'No Date',
    'tasks.allTasks': 'All Tasks',
    'tasks.taskProgress': 'Task Progress',
    'tasks.of': 'of',
    'tasks.completed': 'completed',
    'tasks.taskBreakdown': 'Task Breakdown',
    'tasks.editTask': 'Edit Task',
    'tasks.deleteTask': 'Delete Task',
    'tasks.taskPlanningTips': 'Task Planning Tips',
    'tasks.tips.packingChecklist': 'Create a packing checklist before your trip',
    'tasks.tips.bookingDeadlines': 'Set reminders for booking deadlines',
    'tasks.tips.prioritySensitive': 'Mark time-sensitive tasks with high priority',
    'tasks.tips.useDependencies': 'Use dependencies for tasks that must be done in order',
    'tasks.completeDependenciesFirst': 'Complete dependencies first',
    'tasks.dependenciesComplete': 'Dependencies complete',
    'tasks.dependenciesPending': 'Dependencies pending',
    'tasks.ready': 'Ready',
    'tasks.waiting': 'Waiting',
    'tasks.dependenciesNotCompleteError': 'You must complete all dependencies first',
    'tasks.deleteTaskWithDependentsConfirmation': 'This task has {count} dependent task(s). Deleting it will remove the dependency. Continue?',

    // Task categories
    'tasks.categories.preparation': 'Preparation',
    'tasks.categories.packing': 'Packing',
    'tasks.categories.booking': 'Booking',
    'tasks.categories.activity': 'Activity',
    'tasks.categories.transportation': 'Transportation',
    'tasks.categories.accommodation': 'Accommodation',
    'tasks.categories.other': 'Other',

    // Task priorities
    'tasks.priorities.high': 'High',
    'tasks.priorities.medium': 'Medium',
    'tasks.priorities.low': 'Low',

    // Packing messages
    'packing.title': 'Packing List',
    'packing.tripTypeLabel': 'Trip Type',
    'packing.tripType.leisure': 'Leisure/General',
    'packing.tripType.business': 'Business Trip',
    'packing.tripType.beach': 'Beach Vacation',
    'packing.tripType.adventure': 'Adventure/Hiking',
    'packing.tripType.winter': 'Winter/Ski Trip',
    'packing.tripType.city': 'City Break',
    'packing.tripTypeHint': 'Select your trip type to get tailored packing recommendations',
    'packing.noDestinationWarning': 'Please set your destination in the Basic Info tab to get personalized packing recommendations.',
    'packing.defaultDestination': 'Your Trip',
    'packing.progress': '{packed} of {total} packed ({percentage}%)',
    'packing.categories.clothing': 'Clothing',
    'packing.categories.toiletries': 'Toiletries',
    'packing.categories.electronics': 'Electronics',
    'packing.categories.documents': 'Documents',
    'packing.categories.accessories': 'Accessories',
    'packing.categories.medications': 'Medications',
    'packing.categories.miscellaneous': 'Miscellaneous',
    'packing.categories.essentials': 'Essentials',
    'packing.add': 'Add',
    'packing.showRecommendations': 'Show Packing Recommendations',
    'packing.hideRecommendations': 'Hide Packing Recommendations',
    'packing.allItems': 'All Items',
    'packing.noItems': 'No packing items added yet.',
    'packing.addItemsPrompt': 'Add items above or use recommendations',
    'packing.tips.title': 'Packing Tips:',
    'packing.tips.weather': 'Check destination weather forecast before finalizing your list',
    'packing.tips.rolling': 'Roll clothes instead of folding to save space',
    'packing.tips.essentials': 'Pack essential items and medications in your carry-on',
    'packing.tips.organization': 'Use packing cubes to organize different categories',
    
    // Packing items
    'packing.items.passport': 'Passport/ID',
    'packing.items.wallet': 'Wallet',
    'packing.items.phone': 'Phone',
    'packing.items.phoneCharger': 'Phone charger',
    'packing.items.travelInsurance': 'Travel insurance documents',
    'packing.items.cashCards': 'Cash/credit cards',
    'packing.items.houseKeys': 'House keys',
    'packing.items.underwear': 'Underwear',
    'packing.items.socks': 'Socks',
    'packing.items.tshirts': 'T-shirts',
    'packing.items.pants': 'Pants/shorts',
    'packing.items.sleepwear': 'Sleepwear',
    'packing.items.belt': 'Belt',
    'packing.items.toothbrush': 'Toothbrush',
    'packing.items.toothpaste': 'Toothpaste',
    'packing.items.deodorant': 'Deodorant',
    'packing.items.shampoo': 'Shampoo',
    'packing.items.soap': 'Soap/shower gel',
    'packing.items.razor': 'Razor',
    'packing.items.hairbrush': 'Hairbrush/comb',
    'packing.items.camera': 'Camera',
    'packing.items.headphones': 'Headphones',
    'packing.items.travelAdapter': 'Travel adapter',
    'packing.items.powerBank': 'Power bank',
    'packing.items.personalMeds': 'Personal medications',
    'packing.items.painRelievers': 'Pain relievers',
    'packing.items.bandaids': 'Band-aids',
    'packing.items.antidiarrheals': 'Antidiarrheals',
    'packing.items.motionSickness': 'Motion sickness pills',
    
    // Weather items
    'packing.items.sunglasses': 'Sunglasses',
    'packing.items.hatCap': 'Hat or cap',
    'packing.items.sandals': 'Sandals',
    'packing.items.swimwear': 'Swimwear',
    'packing.items.sunscreen': 'Sunscreen',
    'packing.items.afterSun': 'After-sun lotion',
    'packing.items.portableFan': 'Portable fan',
    'packing.items.winterCoat': 'Winter coat',
    'packing.items.sweaters': 'Sweaters/jumpers',
    'packing.items.thermalUnderwear': 'Thermal underwear',
    'packing.items.gloves': 'Gloves',
    'packing.items.scarf': 'Scarf',
    'packing.items.winterHat': 'Winter hat',
    'packing.items.warmSocks': 'Warm socks',
    'packing.items.rainJacket': 'Rain jacket',
    'packing.items.waterproofShoes': 'Waterproof shoes',
    'packing.items.umbrella': 'Umbrella',
    'packing.items.waterproofBagCover': 'Waterproof bag cover',
    'packing.items.lightweightClothes': 'Lightweight clothes',
    'packing.items.antiHumidityHair': 'Anti-humidity hair product',
    'packing.items.mosquitoRepellent': 'Mosquito repellent',
    
    // Business items
    'packing.items.businessSuits': 'Business suits',
    'packing.items.formalShoes': 'Formal shoes',
    'packing.items.tiesScarves': 'Ties/Scarves',
    'packing.items.laptop': 'Laptop',
    'packing.items.laptopCharger': 'Laptop charger',
    'packing.items.businessCards': 'Business cards',
    'packing.items.notebook': 'Notebook',
    'packing.items.presentationMaterials': 'Presentation materials',
    
    // Beach items
    'packing.items.beachCoverUp': 'Beach cover-up',
    'packing.items.flipFlops': 'Flip-flops',
    'packing.items.beachTowel': 'Beach towel',
    'packing.items.beachBag': 'Beach bag',
    
    // Adventure/hiking items
    'packing.items.hikingBoots': 'Hiking boots',
    'packing.items.moistureWickingShirts': 'Moisture-wicking shirts',
    'packing.items.hikingPants': 'Hiking pants/shorts',
    'packing.items.backpack': 'Backpack',
    'packing.items.waterBottle': 'Water bottle',
    'packing.items.flashlight': 'Flashlight/headlamp',
    'packing.items.multiTool': 'Multi-tool',
    'packing.items.insectRepellent': 'Insect repellent',
    
    // Winter/ski items
    'packing.items.skiJacket': 'Ski jacket',
    'packing.items.skiPants': 'Ski pants',
    'packing.items.thermalBaseLayers': 'Thermal base layers',
    'packing.items.thickSocks': 'Thick socks',
    'packing.items.skiGoggles': 'Ski goggles',
    'packing.items.lipBalm': 'Lip balm',
    'packing.items.moisturizer': 'Moisturizer',
    
    // Urban/city items
    'packing.items.walkingShoes': 'Comfortable walking shoes',
    'packing.items.dayBag': 'Day bag/backpack',
    'packing.items.cityMap': 'City map/guide',
    
    // Document items
    'packing.documents.id': 'ID/Driver\'s License',
    'packing.documents.cards': 'Credit/Debit Cards',
    'packing.documents.insurance': 'Travel Insurance Info',
    'packing.documents.emergency': 'Emergency Contact List',
    'packing.documents.hotel': 'Hotel Reservation',
    'packing.documents.transportation': 'Transportation Tickets',
    'packing.documents.passport': 'Passport',
    'packing.documents.visa': 'Visa Documentation',
    'packing.documents.driverPermit': 'International Driver\'s Permit',
    'packing.documents.vaccination': 'Vaccination Records',
    'packing.documents.currency': 'Currency Exchange Info',
    'packing.documents.embassy': 'Embassy Contact Info',
    'packing.documents.adapter': 'Travel Adapter Info',
    
    // Weather message
    'weather.expected': 'Expected Weather',
    'weather.conditions.sunny': 'sunny',
    'weather.conditions.variable': 'variable',
    'weather.conditions.humid': 'humid',
    'weather.conditions.mild': 'mild',
    'weather.rainfall': 'Rainfall',
    'weather.rainfall.high': 'high',
    'weather.rainfall.medium': 'medium',
    'weather.rainfall.low': 'low',
  },
  
  'es-ES': {
    // General
    'app.name': 'TravelEase',
    'app.tagline': 'Planifica tus viajes con facilidad',
    
    // Navigation
    'nav.dashboard': 'Panel',
    'nav.planner': 'Planificar Viaje',
    'nav.trips': 'Mis Viajes',
    'nav.settings': 'Configuración',
    'nav.templates': 'Plantillas',

    'itinerary.title': 'Itinerario de Viaje',
    'itinerary.day': 'Día',
    'itinerary.schedule': 'Horario',
    'itinerary.addEvent': 'Añadir Evento',
    'itinerary.noEvents': 'No hay eventos programados para este día.',
    'itinerary.startTime': 'Hora de inicio',
    'itinerary.endTime': 'Hora de fin',
    'itinerary.eventTitle': 'Título del evento',
    'itinerary.eventDescription': 'Descripción',
    'itinerary.eventType': 'Tipo',
    'itinerary.location': 'Ubicación',
    'itinerary.save': 'Guardar',
    'itinerary.cancel': 'Cancelar',
    'itinerary.noTripDays': 'Por favor, establece las fechas de tu viaje para ver el itinerario.',
    
    'calendar.title': 'Calendario',
    'calendar.today': 'Hoy',
    'calendar.month': 'Mes',
    'calendar.week': 'Semana',
    'calendar.day': 'Día',
    'calendar.events': 'Eventos',
    'calendar.noEvents': 'No hay eventos para mostrar.',
    'calendar.addEvent': 'Añadir Evento',

    
    // TripDetails translations
    'tripDetails.backToTrips': 'Volver a Viajes',
    'tripDetails.overview': 'Resumen',
    'tripDetails.itinerary': 'Itinerario',
    'tripDetails.tasks': 'Tareas',
    'tripDetails.expenses': 'Gastos',
    'tripDetails.share': 'Compartir',
    'tripDetails.budget': 'Presupuesto',
    'tripDetails.budgetVisualization': 'Visualización del Presupuesto',
    'tripDetails.transportation': 'Transporte',
    'tripDetails.tripTasks': 'Tareas del Viaje',
    'tripDetails.viewAllTasks': 'Ver todas',
    'tripDetails.tasks': 'tareas',
    'tripDetails.photoGallery': 'Galería de Fotos',
    'tripDetails.tripNotes': 'Notas del Viaje',
    'tripDetails.externalServices': 'Servicios Externos',
    'tripDetails.noTransportation': 'No se han añadido opciones de transporte.',
    'tripDetails.noTasks': 'No se han añadido tareas a este viaje.',
    'tripDetails.noPhotos': 'No se han añadido fotos a este viaje.',
    'tripDetails.noNotes': 'No se han añadido notas a este viaje.',
    'tripDetails.noExternalServices': 'No se han añadido servicios externos a este viaje.',
    'tripDetails.noTasksAdded': 'No se han añadido tareas a este viaje.',
    'tripDetails.addTasks': 'Añadir Tareas',
    'tripDetails.overallProgress': 'Progreso General',
    'tripDetails.tasksComplete': 'tareas completadas',
    'tripDetails.priority': 'Prioridad',
    'tripDetails.completed': 'Completada',
    'tripDetails.pending': 'Pendiente',
    'tripDetails.manageTasks': 'Gestionar Tareas',
    'tripDetails.shareYourTrip': 'Compartir Tu Viaje',
    'tripDetails.shareViaSocial': 'Compartir por Redes Sociales',
    'tripDetails.exportOptions': 'Opciones de Exportación',
    'tripDetails.exportAsPDF': 'Exportar como PDF',
    'tripDetails.emailItinerary': 'Enviar Itinerario por Email',
    'tripDetails.enterEmail': 'Introduce dirección de email',
    'tripDetails.send': 'Enviar',
    'tripDetails.collaborateWithCompanions': 'Colaborar con Compañeros de Viaje',
    'tripDetails.inviteToContribute': 'Invita a otros a ver y contribuir a la planificación de tu viaje.',
    'tripDetails.enterCompanionEmail': 'Introduce el email del compañero',
    'tripDetails.canView': 'Puede Ver',
    'tripDetails.canEdit': 'Puede Editar',
    'tripDetails.invite': 'Invitar',
    'tripDetails.sharedWith': 'Compartido Con',
    'tripDetails.noOneYet': 'Nadie aún. Invita a compañeros arriba.', 

    // TripsList translations
    'trips.myTrips': 'Mis Viajes',
    'trips.compareTrips': 'Comparar Viajes',
    'trips.dates': 'Fechas',
    'trips.to': 'a',
    'trips.duration': 'Duración',
    'trips.days': 'días',
    'trips.budget': 'Presupuesto',
    'trips.transportation': 'Transporte',
    'trips.options': 'opciones',
    'trips.notes': 'Notas',
    'trips.items': 'elementos',
    'trips.photos': 'Fotos',
    'trips.saved': 'guardadas',
    'trips.viewDetails': 'Ver Detalles',
    'trips.editTrip': 'Editar Viaje',
    'trips.delete': 'Eliminar',

    // External tab messages
    'external.title': 'Servicios Externos e Integración',
    'external.addService': 'Añadir Servicio Externo',
    'external.serviceType': 'Tipo de Servicio',
    'external.selectType': 'Seleccionar tipo',
    'external.map': 'Mapa/Dirección',
    'external.booking': 'Confirmación de Reserva',
    'external.translation': 'Herramienta de Traducción',
    'external.other': 'Otro Servicio',
    'external.serviceUrl': 'URL del Servicio o Referencia',
    'external.urlPlaceholder': 'Enlace o número de referencia',
    'external.notes': 'Notas',
    'external.notesPlaceholder': 'Cualquier información adicional sobre este servicio',
    'external.addButton': 'Añadir Servicio',
    'external.importFromEmail': 'Importar Reserva desde Email',
    'external.enterEmail': 'Introduce tu dirección de email',
    'external.importButton': 'Importar Confirmación',
    'external.importHelp': 'Nos conectaremos a tu email e importaremos tus reservas de viaje',
    'external.integrationTips': 'Consejos de Integración',
    'external.tip1': 'Guarda las confirmaciones de reserva para acceder fácilmente durante tu viaje',
    'external.tip2': 'Enlaza a Google Maps personalizados con tus ubicaciones guardadas',
    'external.tip3': 'Añade herramientas de traducción específicas para tu destino',
    'external.yourServices': 'Tus Servicios Externos',
    'external.noServices': 'Aún no se han añadido servicios externos.',
    'external.remove': 'Eliminar servicio',

     // Notes messages
     'notes.addNotes': 'Añadir Notas',
     'notes.title': 'Título',
     'notes.titlePlaceholder': 'Restaurante, atracción, etc.',
     'notes.category': 'Categoría',
     'notes.categoryRestaurant': 'Restaurante',
     'notes.categoryAttraction': 'Atracción',
     'notes.categoryHotel': 'Hotel',
     'notes.categoryActivity': 'Actividad',
     'notes.categoryShopping': 'Compras',
     'notes.categoryContact': 'Contacto Local',
     'notes.categoryGeneral': 'Nota General',
     'notes.notes': 'Notas',
     'notes.notesPlaceholder': 'Detalles, dirección, etc.',
     'notes.addButton': 'Añadir Nota',
     'notes.yourNotes': 'Tus Notas',
     'notes.noNotes': 'Aún no hay notas añadidas.',
     'notes.removeNote': 'Eliminar nota',
    
    // Dashboard
    'dashboard.title': 'Panel',
    'dashboard.stats.totalTrips': 'Viajes Totales',
    'dashboard.stats.upcoming': 'Próximos',
    'dashboard.stats.daysTraveled': 'Días Viajados',
    'dashboard.stats.budgetTotal': 'Presupuesto Total',
    'dashboard.nextAdventure': 'Próxima Aventura',
    'dashboard.startDate': 'Fecha de Inicio',
    'dashboard.days': 'Días',
    'dashboard.budget': 'Presupuesto',
    'dashboard.transportation': 'Transporte',
    'dashboard.viewDetails': 'Ver Detalles del Viaje',
    'dashboard.noTrips': 'No hay viajes próximos planificados.',
    'dashboard.planTrip': 'Planificar un Viaje Ahora',
    'dashboard.timeline': 'Tu Línea de Tiempo de Viajes',
    'dashboard.timelineEmpty': 'Tu línea de tiempo de viajes aparecerá aquí una vez que planifiques viajes.',
    'dashboard.statisticsTitle': 'Estadísticas de Viaje',
    'dashboard.statisticsEmpty': 'Tus estadísticas de viaje aparecerán aquí una vez que planifiques viajes.',
    
    // Forms and common actions
    'form.save': 'Guardar',
    'form.cancel': 'Cancelar',
    'form.add': 'Añadir',
    'form.edit': 'Editar',
    'form.delete': 'Eliminar',
    'form.close': 'Cerrar',
    
    // Trip planner tabs
    'planner.basicInfo': 'Información Básica',
    'planner.budget': 'Presupuesto',
    'planner.transport': 'Transporte',
    'planner.photos': 'Fotos',
    'planner.tasks': 'Tareas',
    'planner.packing': 'Equipaje',
    'planner.notes': 'Notas',
    'planner.external': 'Externo',
    'planner.saveTrip': 'Guardar Viaje',
    'planner.updateTrip': 'Actualizar Viaje',
    
    // Basic info tab
    'basicInfo.destination': 'Destino',
    'basicInfo.destinationPlaceholder': '¿A dónde vas?',
    'basicInfo.startDate': 'Fecha de Inicio',
    'basicInfo.endDate': 'Fecha de Fin',
    'basicInfo.budget': 'Presupuesto',
    'basicInfo.budgetPlaceholder': 'Presupuesto estimado',
    'basicInfo.duration': 'Duración',
    'basicInfo.days': 'días',
    'basicInfo.destinationHint': 'Introduce cualquier ciudad o destino para comenzar',

    
    // Error messages
    'error.required': 'Este campo es obligatorio',
    'error.invalidEmail': 'Por favor, introduce un correo electrónico válido',
    'error.invalidDate': 'Por favor, introduce una fecha válida',
    
    // Success messages
    'success.tripSaved': 'Viaje guardado correctamente',
    'success.tripUpdated': 'Viaje actualizado correctamente',
    'success.settingsSaved': 'Configuración guardada correctamente',

    // Budget messages
    'budget.accommodation': 'Alojamiento',
    'budget.accommodationPlaceholder': 'Hoteles, Airbnb, etc.',
    'budget.food': 'Comida',
    'budget.foodPlaceholder': 'Restaurantes, comestibles, etc.',
    'budget.transportation': 'Transporte',
    'budget.transportationPlaceholder': 'Vuelos, trenes, taxis, etc.',
    'budget.activities': 'Actividades',
    'budget.activitiesPlaceholder': 'Tours, atracciones, etc.',
    'budget.other': 'Otros',
    'budget.otherPlaceholder': 'Recuerdos, regalos, varios',
    'budget.summary': 'Resumen del Presupuesto',
    'budget.total': 'Total',
    'budget.dailyBudget': 'Presupuesto Diario',
    'budget.perDay': 'por día',
    'budget.for': 'para',
    'budget.days': 'días',
    'budget.budgetTips': 'Consejos de Presupuesto',
    'budget.tip1': 'Mantén siempre un margen del 10-15% para gastos inesperados',
    'budget.tip2': 'Investiga las costumbres locales de propinas antes de tu viaje',
    'budget.tip3': 'Considera alojamientos con cocina para ahorrar en comida',
    'budget.tip4': 'Usa el transporte público cuando sea posible para reducir costos',
    'budget.noData': 'No hay datos de presupuesto para mostrar. Agrega elementos al presupuesto para ver el gráfico.',
    'budget.noData.line1': 'No hay datos de presupuesto para mostrar.',
    'budget.noData.line2': 'Agregue elementos al presupuesto para ver el gráfico.',
    'budget.totalBudget': 'Presupuesto Total',

    // Transportation messages
    'transport.addTransportation': 'Añadir Transporte',
    'transport.type': 'Tipo',
    'transport.selectType': 'Seleccionar tipo',
    'transport.types.Flight': 'Vuelo',
    'transport.types.Train': 'Tren',
    'transport.types.Bus': 'Autobús',
    'transport.types.Ferry': 'Ferry',
    'transport.types.Rental Car': 'Coche de Alquiler',
    'transport.types.Taxi/Rideshare': 'Taxi/Viaje Compartido',
    'transport.from': 'Desde',
    'transport.to': 'Hasta',
    'transport.price': 'Precio',
    'transport.cost': 'Costo',
    'transport.departurePoint': 'Punto de salida',
    'transport.arrivalPoint': 'Punto de llegada',
    'transport.yourTransportation': 'Tu Transporte',
    'transport.noOptions': 'Aún no se han añadido opciones de transporte.',
    'transport.totalOptions': 'Opciones Totales',
    'transport.totalCost': 'Costo Total',

    // Photos messages
    'photos.addPhotos': 'Añadir Fotos',
    'photos.uploadFromDevice': 'Subir desde Dispositivo',
    'photos.selectImageFile': 'Selecciona un archivo de imagen',
    'photos.preview': 'Vista previa',
    'photos.chooseFile': 'Elegir archivo',
    'photos.caption': 'Título',
    'photos.captionPlaceholder': 'Descripción de la foto',
    'photos.addPhoto': 'Añadir Foto',
    'photos.galleryTips': 'Consejos para la Galería de Fotos:',
    'photos.tip1': 'Sube fotos de lugares que quieres visitar',
    'photos.tip2': 'Añade imágenes inspiradoras de viajes desde tu dispositivo',
    'photos.tip3': 'Incluye fotos de documentos importantes como tickets',
    'photos.tip4': 'Crea una lista visual de deseos para tu viaje',
    'photos.yourPhotos': 'Tus Fotos',
    'photos.noPhotos': 'Aún no se han añadido fotos.',
    'photos.travelInspiration': 'Inspiración para viajar',
    'photos.remove': 'Eliminar',
    'photos.noFileChosen': 'Ningún archivo seleccionado',

    // Tasks messages
    'tasks.addTask': 'Añadir Tarea',
    'tasks.taskDescription': 'Descripción de Tarea',
    'tasks.whatNeedsToBeDone': '¿Qué necesita hacerse?',
    'tasks.dueDate': 'Fecha de Vencimiento',
    'tasks.time': 'Hora',
    'tasks.optional': 'Opcional',
    'tasks.tripDates': 'Fechas de Viaje',
    'tasks.to': 'a',
    'tasks.category': 'Categoría',
    'tasks.priority': 'Prioridad',
    'tasks.yourTasks': 'Tus Tareas',
    'tasks.options': 'Opciones',
    'tasks.showCompleted': 'Mostrar Completadas',
    'tasks.filterByCategory': 'Filtrar por Categoría',
    'tasks.allCategories': 'Todas las Categorías',
    'tasks.filterByPriority': 'Filtrar por Prioridad',
    'tasks.allPriorities': 'Todas las Prioridades',
    'tasks.sortBy': 'Ordenar Por',
    'tasks.recentlyAdded': 'Recientemente Añadidas',
    'tasks.groupBy': 'Agrupar Por',
    'tasks.date': 'Fecha',
    'tasks.noGrouping': 'Sin Agrupación',
    'tasks.noTasksMatch': 'Ninguna tarea coincide con tus filtros.',
    'tasks.resetFilters': 'Reiniciar Filtros',
    'tasks.taskCount': 'tarea(s)',
    'tasks.noTasksInGroup': 'No hay tareas en este grupo',
    'tasks.noDate': 'Sin Fecha',
    'tasks.allTasks': 'Todas las Tareas',
    'tasks.taskProgress': 'Progreso de Tareas',
    'tasks.of': 'de',
    'tasks.completed': 'completadas',
    'tasks.taskBreakdown': 'Desglose de Tareas',
    'tasks.editTask': 'Editar Tarea',
    'tasks.deleteTask': 'Eliminar Tarea',
    'tasks.taskPlanningTips': 'Consejos para Planificar Tareas',
    'tasks.tips.packingChecklist': 'Crea una lista de equipaje antes de tu viaje',
    'tasks.tips.bookingDeadlines': 'Establece recordatorios para plazos de reserva',
    'tasks.tips.prioritySensitive': 'Marca las tareas urgentes con alta prioridad',
    'tasks.tips.useDependencies': 'Usa dependencias para tareas que deben hacerse en orden',
    'tasks.completeDependenciesFirst': 'Completa las dependencias primero',
    'tasks.dependenciesComplete': 'Dependencias completadas',
    'tasks.dependenciesPending': 'Dependencias pendientes',
    'tasks.ready': 'Listo',
    'tasks.waiting': 'Esperando',
    'tasks.dependenciesNotCompleteError': 'Debes completar todas las dependencias primero',
    'tasks.deleteTaskWithDependentsConfirmation': 'Esta tarea tiene {count} tarea(s) dependiente(s). Eliminarla quitará la dependencia. ¿Continuar?',

    // Task categories
    'tasks.categories.preparation': 'Preparación',
    'tasks.categories.packing': 'Equipaje',
    'tasks.categories.booking': 'Reserva',
    'tasks.categories.activity': 'Actividad',
    'tasks.categories.transportation': 'Transporte',
    'tasks.categories.accommodation': 'Alojamiento',
    'tasks.categories.other': 'Otro',

    // Task priorities
    'tasks.priorities.high': 'Alta',
    'tasks.priorities.medium': 'Media',
    'tasks.priorities.low': 'Baja',

    // Packing messages
    'packing.title': 'Lista de Equipaje',
    'packing.tripTypeLabel': 'Tipo de Viaje',
    'packing.tripType.leisure': 'Ocio/General',
    'packing.tripType.business': 'Viaje de Negocios',
    'packing.tripType.beach': 'Vacaciones en la Playa',
    'packing.tripType.adventure': 'Aventura/Senderismo',
    'packing.tripType.winter': 'Viaje de Invierno/Esquí',
    'packing.tripType.city': 'Escapada Urbana',
    'packing.tripTypeHint': 'Selecciona tu tipo de viaje para obtener recomendaciones personalizadas',
    'packing.noDestinationWarning': 'Por favor, establece tu destino en la pestaña de Información Básica para obtener recomendaciones de equipaje personalizadas.',
    'packing.defaultDestination': 'Tu Viaje',
    'packing.progress': '{packed} de {total} empacado ({percentage}%)',
    'packing.categories.clothing': 'Ropa',
    'packing.categories.toiletries': 'Artículos de Aseo',
    'packing.categories.electronics': 'Electrónicos',
    'packing.categories.documents': 'Documentos',
    'packing.categories.accessories': 'Accesorios',
    'packing.categories.medications': 'Medicamentos',
    'packing.categories.miscellaneous': 'Misceláneos',
    'packing.categories.essentials': 'Esenciales',
    'packing.add': 'Añadir',
    'packing.showRecommendations': 'Mostrar Recomendaciones de Equipaje',
    'packing.hideRecommendations': 'Ocultar Recomendaciones de Equipaje',
    'packing.allItems': 'Todos los Artículos',
    'packing.noItems': 'Aún no se ha añadido ningún artículo de equipaje.',
    'packing.addItemsPrompt': 'Añade artículos arriba o usa las recomendaciones',
    'packing.tips.title': 'Consejos de Equipaje:',
    'packing.tips.weather': 'Consulta el pronóstico del tiempo del destino antes de finalizar tu lista',
    'packing.tips.rolling': 'Enrolla la ropa en lugar de doblarla para ahorrar espacio',
    'packing.tips.essentials': 'Empaca artículos esenciales y medicamentos en tu equipaje de mano',
    'packing.tips.organization': 'Usa cubos de embalaje para organizar diferentes categorías',
    
    // Packing items
    'packing.items.passport': 'Pasaporte/ID',
    'packing.items.wallet': 'Cartera',
    'packing.items.phone': 'Teléfono',
    'packing.items.phoneCharger': 'Cargador de teléfono',
    'packing.items.travelInsurance': 'Documentos de seguro de viaje',
    'packing.items.cashCards': 'Efectivo/tarjetas de crédito',
    'packing.items.houseKeys': 'Llaves de casa',
    'packing.items.underwear': 'Ropa interior',
    'packing.items.socks': 'Calcetines',
    'packing.items.tshirts': 'Camisetas',
    'packing.items.pants': 'Pantalones/shorts',
    'packing.items.sleepwear': 'Ropa de dormir',
    'packing.items.belt': 'Cinturón',
    'packing.items.toothbrush': 'Cepillo de dientes',
    'packing.items.toothpaste': 'Pasta de dientes',
    'packing.items.deodorant': 'Desodorante',
    'packing.items.shampoo': 'Champú',
    'packing.items.soap': 'Jabón/gel de ducha',
    'packing.items.razor': 'Afeitadora',
    'packing.items.hairbrush': 'Cepillo/peine para el pelo',
    'packing.items.camera': 'Cámara',
    'packing.items.headphones': 'Auriculares',
    'packing.items.travelAdapter': 'Adaptador de viaje',
    'packing.items.powerBank': 'Batería externa',
    'packing.items.personalMeds': 'Medicamentos personales',
    'packing.items.painRelievers': 'Analgésicos',
    'packing.items.bandaids': 'Tiritas',
    'packing.items.antidiarrheals': 'Antidiarreicos',
    'packing.items.motionSickness': 'Pastillas para el mareo',
    
    // Weather items
    'packing.items.sunglasses': 'Gafas de sol',
    'packing.items.hatCap': 'Sombrero o gorra',
    'packing.items.sandals': 'Sandalias',
    'packing.items.swimwear': 'Traje de baño',
    'packing.items.sunscreen': 'Protector solar',
    'packing.items.afterSun': 'Loción para después del sol',
    'packing.items.portableFan': 'Ventilador portátil',
    'packing.items.winterCoat': 'Abrigo de invierno',
    'packing.items.sweaters': 'Suéteres/jerseys',
    'packing.items.thermalUnderwear': 'Ropa interior térmica',
    'packing.items.gloves': 'Guantes',
    'packing.items.scarf': 'Bufanda',
    'packing.items.winterHat': 'Gorro de invierno',
    'packing.items.warmSocks': 'Calcetines térmicos',
    'packing.items.rainJacket': 'Chaqueta impermeable',
    'packing.items.waterproofShoes': 'Zapatos impermeables',
    'packing.items.umbrella': 'Paraguas',
    'packing.items.waterproofBagCover': 'Cubierta impermeable para bolso',
    'packing.items.lightweightClothes': 'Ropa ligera',
    'packing.items.antiHumidityHair': 'Producto anticaspa para el cabello',
    'packing.items.mosquitoRepellent': 'Repelente de mosquitos',
    
    // Business items
    'packing.items.businessSuits': 'Trajes de negocios',
    'packing.items.formalShoes': 'Zapatos formales',
    'packing.items.tiesScarves': 'Corbatas/Pañuelos',
    'packing.items.laptop': 'Portátil',
    'packing.items.laptopCharger': 'Cargador de portátil',
    'packing.items.businessCards': 'Tarjetas de visita',
    'packing.items.notebook': 'Cuaderno',
    'packing.items.presentationMaterials': 'Materiales de presentación',
    
    // Beach items
    'packing.items.beachCoverUp': 'Pareo de playa',
    'packing.items.flipFlops': 'Chanclas',
    'packing.items.beachTowel': 'Toalla de playa',
    'packing.items.beachBag': 'Bolsa de playa',
    
    // Adventure/hiking items
    'packing.items.hikingBoots': 'Botas de senderismo',
    'packing.items.moistureWickingShirts': 'Camisetas de secado rápido',
    'packing.items.hikingPants': 'Pantalones/shorts de senderismo',
    'packing.items.backpack': 'Mochila',
    'packing.items.waterBottle': 'Botella de agua',
    'packing.items.flashlight': 'Linterna/frontal',
    'packing.items.multiTool': 'Multiherramienta',
    'packing.items.insectRepellent': 'Repelente de insectos',
    
    // Winter/ski items
    'packing.items.skiJacket': 'Chaqueta de esquí',
    'packing.items.skiPants': 'Pantalones de esquí',
    'packing.items.thermalBaseLayers': 'Capas base térmicas',
    'packing.items.thickSocks': 'Calcetines gruesos',
    'packing.items.skiGoggles': 'Gafas de esquí',
    'packing.items.lipBalm': 'Bálsamo labial',
    'packing.items.moisturizer': 'Hidratante',
    
    // Urban/city items
    'packing.items.walkingShoes': 'Zapatos cómodos para caminar',
    'packing.items.dayBag': 'Bolso/mochila de día',
    'packing.items.cityMap': 'Mapa/guía de la ciudad',
    
    // Document items
    'packing.documents.id': 'DNI/Carnet de conducir',
    'packing.documents.cards': 'Tarjetas de crédito/débito',
    'packing.documents.insurance': 'Información del seguro de viaje',
    'packing.documents.emergency': 'Lista de contactos de emergencia',
    'packing.documents.hotel': 'Reserva de hotel',
    'packing.documents.transportation': 'Billetes de transporte',
    'packing.documents.passport': 'Pasaporte',
    'packing.documents.visa': 'Documentación de visado',
    'packing.documents.driverPermit': 'Permiso internacional de conducir',
    'packing.documents.vaccination': 'Registros de vacunación',
    'packing.documents.currency': 'Información de cambio de divisas',
    'packing.documents.embassy': 'Información de contacto de la embajada',
    'packing.documents.adapter': 'Información del adaptador de viaje',
    
    // Weather message
    'weather.expected': 'Clima Esperado',
    'weather.conditions.sunny': 'soleado',
    'weather.conditions.variable': 'variable',
    'weather.conditions.humid': 'húmedo',
    'weather.conditions.mild': 'templado',
    'weather.rainfall': 'Precipitaciones',
    'weather.rainfall.high': 'altas',
    'weather.rainfall.medium': 'medias',
    'weather.rainfall.low': 'bajas',

    // Notes messages
    'notes.addNotes': 'Añadir Notas',
    'notes.title': 'Título',
    'notes.titlePlaceholder': 'Restaurante, atracción, etc.',
    'notes.category': 'Categoría',
    'notes.categoryRestaurant': 'Restaurante',
    'notes.categoryAttraction': 'Atracción',
    'notes.categoryHotel': 'Hotel',
    'notes.categoryActivity': 'Actividad',
    'notes.categoryShopping': 'Compras',
    'notes.categoryContact': 'Contacto Local',
    'notes.categoryGeneral': 'Nota General',
    'notes.notes': 'Notas',
    'notes.notesPlaceholder': 'Detalles, dirección, etc.',
    'notes.addButton': 'Añadir Nota',
    'notes.yourNotes': 'Tus Notas',
    'notes.noNotes': 'Aún no hay notas añadidas.',
    'notes.removeNote': 'Eliminar nota',
  },
  'fr-FR': {
    // General
    'app.name': 'TravelEase',
    'app.tagline': 'Planifiez vos voyages facilement',

    'expenses.title': 'Seguimiento de Gastos',
    'expenses.addExpense': 'Añadir Gasto',
    'expenses.category': 'Categoría',
    'expenses.amount': 'Importe',
    'expenses.date': 'Fecha',
    'expenses.notes': 'Notas',
    'expenses.addButton': 'Añadir Gasto',
    'expenses.yourExpenses': 'Tus Gastos',
    'expenses.noExpenses': 'No hay gastos registrados para este viaje.',
    'expenses.total': 'Total',
    'expenses.trackingTips': 'Consejos para el Seguimiento de Gastos',
    'expenses.tip1': 'Registra los gastos diariamente para mayor precisión',
    'expenses.tip2': 'Conserva los recibos para referencia futura',
    'expenses.tip3': 'Establece alertas para no exceder tu presupuesto',
    'expenses.editExpense': 'Editar Gasto',
    'expenses.deleteExpense': 'Eliminar Gasto',

    'calendar.title': 'Calendrier',
    'calendar.today': 'Aujourd\'hui',
    'calendar.month': 'Mois',
    'calendar.week': 'Semaine',
    'calendar.day': 'Jour',
    'calendar.events': 'Événements',
    'calendar.noEvents': 'Aucun événement à afficher.',
    'calendar.addEvent': 'Ajouter un Événement',

    'expenses.title': 'Suivi des Dépenses',
  'expenses.addExpense': 'Ajouter une Dépense',
  'expenses.category': 'Catégorie',
  'expenses.amount': 'Montant',
  'expenses.date': 'Date',
  'expenses.notes': 'Notes',
  'expenses.addButton': 'Ajouter la Dépense',
  'expenses.yourExpenses': 'Vos Dépenses',
  'expenses.noExpenses': 'Aucune dépense enregistrée pour ce voyage.',
  'expenses.total': 'Total',
  'expenses.trackingTips': 'Conseils pour le Suivi des Dépenses',
  'expenses.tip1': 'Enregistrez les dépenses quotidiennement pour plus de précision',
  'expenses.tip2': 'Conservez les reçus pour référence future',
  'expenses.tip3': 'Définissez des alertes pour ne pas dépasser votre budget',
  'expenses.editExpense': 'Modifier la Dépense',
  'expenses.deleteExpense': 'Supprimer la Dépense',

    'itinerary.title': 'Itinéraire du Voyage',
    'itinerary.day': 'Jour',
    'itinerary.schedule': 'Programme',
    'itinerary.addEvent': 'Ajouter un Événement',
    'itinerary.noEvents': 'Aucun événement prévu pour ce jour.',
    'itinerary.startTime': 'Heure de début',
    'itinerary.endTime': 'Heure de fin',
    'itinerary.eventTitle': 'Titre de l\'événement',
    'itinerary.eventDescription': 'Description',
    'itinerary.eventType': 'Type',
    'itinerary.location': 'Emplacement',
    'itinerary.save': 'Enregistrer',
    'itinerary.cancel': 'Annuler',
    'itinerary.noTripDays': 'Veuillez définir les dates de votre voyage pour voir l\'itinéraire.',
    
    // Navigation
    'nav.dashboard': 'Tableau de bord',
    'nav.planner': 'Planifier un Voyage',
    'nav.trips': 'Mes Voyages',
    'nav.settings': 'Paramètres',
    'nav.templates': 'Modèles',
    // TripDetails translations
    'tripDetails.backToTrips': 'Retour aux Voyages',
    'tripDetails.overview': 'Aperçu',
    'tripDetails.itinerary': 'Itinéraire',
    'tripDetails.tasks': 'Tâches',
    'tripDetails.expenses': 'Dépenses',
    'tripDetails.share': 'Partager',
    'tripDetails.budget': 'Budget',
    'tripDetails.budgetVisualization': 'Visualisation du Budget',
    'tripDetails.transportation': 'Transport',
    'tripDetails.tripTasks': 'Tâches du Voyage',
    'tripDetails.viewAllTasks': 'Voir toutes les',
    'tripDetails.tasks': 'tâches',
    'tripDetails.photoGallery': 'Galerie Photos',
    'tripDetails.tripNotes': 'Notes de Voyage',
    'tripDetails.externalServices': 'Services Externes',
    'tripDetails.noTransportation': 'Aucune option de transport ajoutée.',
    'tripDetails.noTasks': 'Aucune tâche ajoutée à ce voyage.',
    'tripDetails.noPhotos': 'Aucune photo ajoutée à ce voyage.',
    'tripDetails.noNotes': 'Aucune note ajoutée à ce voyage.',
    'tripDetails.noExternalServices': 'Aucun service externe ajouté à ce voyage.',
    'tripDetails.noTasksAdded': 'Aucune tâche n\'a été ajoutée à ce voyage.',
    'tripDetails.addTasks': 'Ajouter des Tâches',
    'tripDetails.overallProgress': 'Progression Globale',
    'tripDetails.tasksComplete': 'tâches terminées',
    'tripDetails.priority': 'Priorité',
    'tripDetails.completed': 'Terminée',
    'tripDetails.pending': 'En attente',
    'tripDetails.manageTasks': 'Gérer les Tâches',
    'tripDetails.shareYourTrip': 'Partager Votre Voyage',
    'tripDetails.shareViaSocial': 'Partager via Réseaux Sociaux',
    'tripDetails.exportOptions': 'Options d\'Exportation',
    'tripDetails.exportAsPDF': 'Exporter en PDF',
    'tripDetails.emailItinerary': 'Envoyer l\'Itinéraire par Email',
    'tripDetails.enterEmail': 'Entrez l\'adresse email',
    'tripDetails.send': 'Envoyer',
    'tripDetails.collaborateWithCompanions': 'Collaborer avec des Compagnons de Voyage',
    'tripDetails.inviteToContribute': 'Invitez d\'autres personnes à consulter et à contribuer à la planification de votre voyage.',
    'tripDetails.enterCompanionEmail': 'Entrez l\'email du compagnon',
    'tripDetails.canView': 'Peut Consulter',
    'tripDetails.canEdit': 'Peut Modifier',
    'tripDetails.invite': 'Inviter',
    'tripDetails.sharedWith': 'Partagé Avec',
    'tripDetails.noOneYet': 'Personne pour l\'instant. Invitez des compagnons ci-dessus.',

    // TripsList translations
    'trips.myTrips': 'Mes Voyages',
    'trips.compareTrips': 'Comparer les Voyages',
    'trips.dates': 'Dates',
    'trips.to': 'à',
    'trips.duration': 'Durée',
    'trips.days': 'jours',
    'trips.budget': 'Budget',
    'trips.transportation': 'Transport',
    'trips.options': 'options',
    'trips.notes': 'Notes',
    'trips.items': 'éléments',
    'trips.photos': 'Photos',
    'trips.saved': 'enregistrées',
    'trips.viewDetails': 'Voir les Détails',
    'trips.editTrip': 'Modifier le Voyage',
    'trips.delete': 'Supprimer',

    // External tab messages
    'external.title': 'Services Externes et Intégration',
    'external.addService': 'Ajouter un Service Externe',
    'external.serviceType': 'Type de Service',
    'external.selectType': 'Sélectionner un type',
    'external.map': 'Carte/Itinéraire',
    'external.booking': 'Confirmation de Réservation',
    'external.translation': 'Outil de Traduction',
    'external.other': 'Autre Service',
    'external.serviceUrl': 'URL du Service ou Référence',
    'external.urlPlaceholder': 'Lien ou numéro de référence',
    'external.notes': 'Notes',
    'external.notesPlaceholder': 'Toute information supplémentaire sur ce service',
    'external.addButton': 'Ajouter le Service',
    'external.importFromEmail': 'Importer une Réservation depuis Email',
    'external.enterEmail': 'Entrez votre adresse email',
    'external.importButton': 'Importer la Confirmation',
    'external.importHelp': 'Nous nous connecterons à votre email et importerons vos réservations de voyage',
    'external.integrationTips': 'Conseils d\'Intégration',
    'external.tip1': 'Enregistrez les confirmations de réservation pour un accès facile pendant votre voyage',
    'external.tip2': 'Ajoutez des liens vers Google Maps personnalisés avec vos emplacements enregistrés',
    'external.tip3': 'Ajoutez des outils de traduction spécifiques à votre destination',
    'external.yourServices': 'Vos Services Externes',
    'external.noServices': 'Aucun service externe ajouté pour le moment.',
    'external.remove': 'Supprimer le service',
    'external.edit': 'Modifier le service',  

    // Dashboard
    'dashboard.title': 'Tableau de bord',
    'dashboard.stats.totalTrips': 'Voyages Totaux',
    'dashboard.stats.upcoming': 'À venir',
    'dashboard.stats.daysTraveled': 'Jours Voyagés',
    'dashboard.stats.budgetTotal': 'Budget Total',
    'dashboard.nextAdventure': 'Prochaine Aventure',
    'dashboard.startDate': 'Date de Début',
    'dashboard.days': 'Jours',
    'dashboard.budget': 'Budget',
    'dashboard.transportation': 'Transport',
    'dashboard.viewDetails': 'Voir les Détails du Voyage',
    'dashboard.noTrips': 'Aucun voyage à venir planifié.',
    'dashboard.planTrip': 'Planifier un Voyage Maintenant',
    'dashboard.timeline': 'Votre Chronologie de Voyage',
    'dashboard.timelineEmpty': 'Votre chronologie de voyage apparaîtra ici une fois que vous aurez planifié des voyages.',
    'dashboard.statisticsTitle': 'Statistiques de Voyage',
    'dashboard.statisticsEmpty': 'Vos statistiques de voyage apparaîtront ici une fois que vous aurez planifié des voyages.',

     // Notes messages
     'notes.addNotes': 'Ajouter des Notes',
     'notes.title': 'Titre',
     'notes.titlePlaceholder': 'Restaurant, attraction, etc.',
     'notes.category': 'Catégorie',
     'notes.categoryRestaurant': 'Restaurant',
     'notes.categoryAttraction': 'Attraction',
     'notes.categoryHotel': 'Hôtel',
     'notes.categoryActivity': 'Activité',
     'notes.categoryShopping': 'Shopping',
     'notes.categoryContact': 'Contact Local',
     'notes.categoryGeneral': 'Note Générale',
     'notes.notes': 'Notes',
     'notes.notesPlaceholder': 'Détails, adresse, etc.',
     'notes.addButton': 'Ajouter une Note',
     'notes.yourNotes': 'Vos Notes',
     'notes.noNotes': 'Aucune note ajoutée pour le moment.',
     'notes.removeNote': 'Supprimer la note',
    
    // Forms and common actions
    'form.save': 'Enregistrer',
    'form.cancel': 'Annuler',
    'form.add': 'Ajouter',
    'form.edit': 'Modifier',
    'form.delete': 'Supprimer',
    'form.close': 'Fermer',
    
    // Trip planner tabs
    'planner.basicInfo': 'Informations de Base',
    'planner.budget': 'Budget',
    'planner.transport': 'Transport',
    'planner.photos': 'Photos',
    'planner.tasks': 'Tâches',
    'planner.packing': 'Bagages',
    'planner.notes': 'Notes',
    'planner.external': 'Externe',
    'planner.saveTrip': 'Enregistrer le Voyage',
    'planner.updateTrip': 'Mettre à Jour le Voyage',
    
    // Basic info tab
    'basicInfo.destination': 'Destination',
    'basicInfo.destinationPlaceholder': 'Où allez-vous?',
    'basicInfo.startDate': 'Date de Début',
    'basicInfo.endDate': 'Date de Fin',
    'basicInfo.budget': 'Budget',
    'basicInfo.budgetPlaceholder': 'Budget estimé',
    'basicInfo.duration': 'Durée',
    'basicInfo.days': 'jours',
    'basicInfo.destinationHint': 'Entrez n\'importe quelle ville ou destination pour commencer',

    
    // Error messages
    'error.required': 'Ce champ est requis',
    'error.invalidEmail': 'Veuillez entrer une adresse email valide',
    'error.invalidDate': 'Veuillez entrer une date valide',
    
    // Success messages
    'success.tripSaved': 'Voyage enregistré avec succès',
    'success.tripUpdated': 'Voyage mis à jour avec succès',
    'success.settingsSaved': 'Paramètres enregistrés avec succès',

    // Budget messages
    'budget.accommodation': 'Hébergement',
    'budget.accommodationPlaceholder': 'Hôtels, Airbnb, etc.',
    'budget.food': 'Nourriture',
    'budget.foodPlaceholder': 'Restaurants, épicerie, etc.',
    'budget.transportation': 'Transport',
    'budget.transportationPlaceholder': 'Vols, trains, taxis, etc.',
    'budget.activities': 'Activités',
    'budget.activitiesPlaceholder': 'Visites, attractions, etc.',
    'budget.other': 'Autres',
    'budget.otherPlaceholder': 'Souvenirs, cadeaux, divers',
    'budget.summary': 'Résumé du Budget',
    'budget.total': 'Total',
    'budget.dailyBudget': 'Budget Quotidien',
    'budget.perDay': 'par jour',
    'budget.for': 'pour',
    'budget.days': 'jours',
    'budget.budgetTips': 'Conseils Budgétaires',
    'budget.tip1': 'Gardez toujours une marge de 10-15% pour les dépenses imprévues',
    'budget.tip2': 'Renseignez-vous sur les coutumes locales de pourboire avant votre voyage',
    'budget.tip3': 'Envisagez des hébergements avec cuisine pour économiser sur la nourriture',
    'budget.tip4': 'Utilisez les transports en commun quand c\'est possible pour réduire les coûts',
    'budget.noData': 'Aucune donnée budgétaire à afficher. Ajoutez des éléments au budget pour voir le graphique.',
    'budget.noData.line1': 'Aucune donnée budgétaire à afficher.',
    'budget.noData.line2': 'Ajoutez des éléments budgétaires pour voir le graphique.',
    'budget.totalBudget': 'Budget Total',

    // Transportation messages
    'transport.addTransportation': 'Ajouter Transport',
    'transport.type': 'Type',
    'transport.selectType': 'Sélectionner le type',
    'transport.types.Flight': 'Vol',
    'transport.types.Train': 'Train',
    'transport.types.Bus': 'Bus',
    'transport.types.Ferry': 'Ferry',
    'transport.types.Rental Car': 'Voiture de Location',
    'transport.types.Taxi/Rideshare': 'Taxi/Covoiturage',
    'transport.from': 'De',
    'transport.to': 'À',
    'transport.price': 'Prix',
    'transport.cost': 'Coût',
    'transport.departurePoint': 'Point de départ',
    'transport.arrivalPoint': 'Point d\'arrivée',
    'transport.yourTransportation': 'Votre Transport',
    'transport.noOptions': 'Aucune option de transport ajoutée pour le moment.',
    'transport.totalOptions': 'Options Totales',
    'transport.totalCost': 'Coût Total',

    // Tasks messages
    'tasks.addTask': 'Ajouter une Tâche',
    'tasks.taskDescription': 'Description de la Tâche',
    'tasks.whatNeedsToBeDone': 'Que faut-il faire?',
    'tasks.dueDate': 'Date d\'Échéance',
    'tasks.time': 'Heure',
    'tasks.optional': 'Optionnel',
    'tasks.tripDates': 'Dates du Voyage',
    'tasks.to': 'à',
    'tasks.category': 'Catégorie',
    'tasks.priority': 'Priorité',
    'tasks.yourTasks': 'Vos Tâches',
    'tasks.options': 'Options',
    'tasks.showCompleted': 'Afficher les Tâches Terminées',
    'tasks.filterByCategory': 'Filtrer par Catégorie',
    'tasks.allCategories': 'Toutes les Catégories',
    'tasks.filterByPriority': 'Filtrer par Priorité',
    'tasks.allPriorities': 'Toutes les Priorités',
    'tasks.sortBy': 'Trier Par',
    'tasks.recentlyAdded': 'Récemment Ajoutées',
    'tasks.groupBy': 'Grouper Par',
    'tasks.date': 'Date',
    'tasks.noGrouping': 'Pas de Groupement',
    'tasks.noTasksMatch': 'Aucune tâche ne correspond à vos filtres.',
    'tasks.resetFilters': 'Réinitialiser les Filtres',
    'tasks.taskCount': 'tâche(s)',
    'tasks.noTasksInGroup': 'Pas de tâches dans ce groupe',
    'tasks.noDate': 'Sin Fecha',
    'tasks.allTasks': 'Toutes les Tâches',
    'tasks.taskProgress': 'Progression des Tâches',
    'tasks.of': 'sur',
    'tasks.completed': 'terminées',
    'tasks.taskBreakdown': 'Répartition des Tâches',
    'tasks.editTask': 'Modifier la Tâche',
    'tasks.deleteTask': 'Supprimer la Tâche',
    'tasks.taskPlanningTips': 'Conseils pour Planifier des Tâches',
    'tasks.tips.packingChecklist': 'Créez une liste d\'emballage avant votre voyage',
    'tasks.tips.bookingDeadlines': 'Définissez des rappels pour les délais de réservation',
    'tasks.tips.prioritySensitive': 'Marquez les tâches urgentes avec une priorité élevée',
    'tasks.tips.useDependencies': 'Utilisez des dépendances pour les tâches qui doivent être effectuées dans un ordre précis',
    'tasks.completeDependenciesFirst': 'Complétez d\'abord les dépendances',
    'tasks.dependenciesComplete': 'Dépendances complétées',
    'tasks.dependenciesPending': 'Dépendances en attente',
    'tasks.ready': 'Prêt',
    'tasks.waiting': 'En Attente',
    'tasks.dependenciesNotCompleteError': 'Vous devez d\'abord compléter toutes les dépendances',
    'tasks.deleteTaskWithDependentsConfirmation': 'Cette tâche a {count} tâche(s) dépendante(s). La supprimer enlèvera la dépendance. Continuer?',

    // Task categories
    'tasks.categories.preparation': 'Préparation',
    'tasks.categories.packing': 'Bagages',
    'tasks.categories.booking': 'Réservation',
    'tasks.categories.activity': 'Activité',
    'tasks.categories.transportation': 'Transport',
    'tasks.categories.accommodation': 'Hébergement',
    'tasks.categories.other': 'Autre',

    // Task priorities
    'tasks.priorities.high': 'Haute',
    'tasks.priorities.medium': 'Moyenne',
    'tasks.priorities.low': 'Basse',

    // Photos messages
    'photos.addPhotos': 'Ajouter des Photos',
    'photos.uploadFromDevice': 'Télécharger depuis l\'Appareil',
    'photos.selectImageFile': 'Sélectionner un fichier image',
    'photos.preview': 'Aperçu',
    'photos.chooseFile': 'Choisir un fichier',
    'photos.caption': 'Légende',
    'photos.captionPlaceholder': 'Description de la photo',
    'photos.addPhoto': 'Ajouter une Photo',
    'photos.galleryTips': 'Conseils pour la Galerie Photos:',
    'photos.tip1': 'Téléchargez des photos des lieux que vous souhaitez visiter',
    'photos.tip2': 'Ajoutez des images de voyage inspirantes depuis votre appareil',
    'photos.tip3': 'Incluez des photos de documents importants comme les billets',
    'photos.tip4': 'Créez une liste de souhaits visuelle pour votre voyage',
    'photos.yourPhotos': 'Vos Photos',
    'photos.noPhotos': 'Aucune photo ajoutée pour le moment.',
    'photos.travelInspiration': 'Inspiration de voyage',
    'photos.noFileChosen': 'Aucun fichier choisi',
    'photos.remove': 'Supprimer',

    // Packing messages
    'packing.title': 'Liste de Bagages',
    'packing.tripTypeLabel': 'Type de Voyage',
    'packing.tripType.leisure': 'Loisirs/Général',
    'packing.tripType.business': 'Voyage d\'Affaires',
    'packing.tripType.beach': 'Vacances à la Plage',
    'packing.tripType.adventure': 'Aventure/Randonnée',
    'packing.tripType.winter': 'Voyage d\'Hiver/Ski',
    'packing.tripType.city': 'Escapade Urbaine',
    'packing.tripTypeHint': 'Sélectionnez votre type de voyage pour obtenir des recommandations personnalisées',
    'packing.noDestinationWarning': 'Veuillez définir votre destination dans l\'onglet Informations de Base pour obtenir des recommandations personnalisées.',
    'packing.defaultDestination': 'Votre Voyage',
    'packing.progress': '{packed} sur {total} emballés ({percentage}%)',
    'packing.categories.clothing': 'Vêtements',
    'packing.categories.toiletries': 'Articles de Toilette',
    'packing.categories.electronics': 'Électroniques',
    'packing.categories.documents': 'Documents',
    'packing.categories.accessories': 'Accessoires',
    'packing.categories.medications': 'Médicaments',
    'packing.categories.miscellaneous': 'Divers',
    'packing.categories.essentials': 'Essentiels',
    'packing.add': 'Ajouter',
    'packing.showRecommendations': 'Afficher les Recommandations de Bagages',
    'packing.hideRecommendations': 'Masquer les Recommandations de Bagages',
    'packing.allItems': 'Tous les Articles',
    'packing.noItems': 'Aucun article de bagage ajouté pour le moment.',
    'packing.addItemsPrompt': 'Ajoutez des articles ci-dessus ou utilisez les recommandations',
    'packing.tips.title': 'Conseils pour les Bagages:',
    'packing.tips.weather': 'Vérifiez les prévisions météo de la destination avant de finaliser votre liste',
    'packing.tips.rolling': 'Roulez les vêtements au lieu de les plier pour économiser de l\'espace',
    'packing.tips.essentials': 'Emportez les articles essentiels et les médicaments dans votre bagage à main',
    'packing.tips.organization': 'Utilisez des cubes d\'emballage pour organiser différentes catégories',
    
    // Packing items
    'packing.items.passport': 'Passeport/Pièce d\'identité',
    'packing.items.wallet': 'Portefeuille',
    'packing.items.phone': 'Téléphone',
    'packing.items.phoneCharger': 'Chargeur de téléphone',
    'packing.items.travelInsurance': 'Documents d\'assurance voyage',
    'packing.items.cashCards': 'Argent liquide/cartes de crédit',
    'packing.items.houseKeys': 'Clés de maison',
    'packing.items.underwear': 'Sous-vêtements',
    'packing.items.socks': 'Chaussettes',
    'packing.items.tshirts': 'T-shirts',
    'packing.items.pants': 'Pantalons/shorts',
    'packing.items.sleepwear': 'Vêtements de nuit',
    'packing.items.belt': 'Ceinture',
    'packing.items.toothbrush': 'Brosse à dents',
    'packing.items.toothpaste': 'Dentifrice',
    'packing.items.deodorant': 'Déodorant',
    'packing.items.shampoo': 'Shampooing',
    'packing.items.soap': 'Savon/gel douche',
    'packing.items.razor': 'Rasoir',
    'packing.items.hairbrush': 'Brosse à cheveux/peigne',
    'packing.items.camera': 'Appareil photo',
    'packing.items.headphones': 'Écouteurs',
    'packing.items.travelAdapter': 'Adaptateur de voyage',
    'packing.items.powerBank': 'Batterie externe',
    'packing.items.personalMeds': 'Médicaments personnels',
    'packing.items.painRelievers': 'Analgésiques',
    'packing.items.bandaids': 'Pansements',
    'packing.items.antidiarrheals': 'Anti-diarrhéiques',
    'packing.items.motionSickness': 'Médicaments contre le mal des transports',
    
    // Weather items
    'packing.items.sunglasses': 'Lunettes de soleil',
    'packing.items.hatCap': 'Chapeau ou casquette',
    'packing.items.sandals': 'Sandales',
    'packing.items.swimwear': 'Maillot de bain',
    'packing.items.sunscreen': 'Crème solaire',
    'packing.items.afterSun': 'Lotion après-soleil',
    'packing.items.portableFan': 'Ventilateur portable',
    'packing.items.winterCoat': 'Manteau d\'hiver',
    'packing.items.sweaters': 'Pulls/Gilets',
    'packing.items.thermalUnderwear': 'Sous-vêtements thermiques',
    'packing.items.gloves': 'Gants',
    'packing.items.scarf': 'Écharpe',
    'packing.items.winterHat': 'Bonnet d\'hiver',
    'packing.items.warmSocks': 'Chaussettes chaudes',
    'packing.items.rainJacket': 'Veste imperméable',
    'packing.items.waterproofShoes': 'Chaussures imperméables',
    'packing.items.umbrella': 'Parapluie',
    'packing.items.waterproofBagCover': 'Housse imperméable pour sac',
    'packing.items.lightweightClothes': 'Vêtements légers',
    'packing.items.antiHumidityHair': 'Produit anti-humidité pour cheveux',
    'packing.items.mosquitoRepellent': 'Anti-moustiques',
    
    // Business items
    'packing.items.businessSuits': 'Costumes d\'affaires',
    'packing.items.formalShoes': 'Chaussures formelles',
    'packing.items.tiesScarves': 'Cravates/Foulards',
    'packing.items.laptop': 'Ordinateur portable',
    'packing.items.laptopCharger': 'Chargeur d\'ordinateur portable',
    'packing.items.businessCards': 'Cartes de visite',
    'packing.items.notebook': 'Carnet de notes',
    'packing.items.presentationMaterials': 'Matériel de présentation',
    
    // Beach items
    'packing.items.beachCoverUp': 'Paréo/Cover-up',
    'packing.items.flipFlops': 'Tongs',
    'packing.items.beachTowel': 'Serviette de plage',
    'packing.items.beachBag': 'Sac de plage',
    
    // Adventure/hiking items
    'packing.items.hikingBoots': 'Chaussures de randonnée',
    'packing.items.moistureWickingShirts': 'T-shirts absorbants',
    'packing.items.hikingPants': 'Pantalons/shorts de randonnée',
    'packing.items.backpack': 'Sac à dos',
    'packing.items.waterBottle': 'Gourde',
    'packing.items.flashlight': 'Lampe/frontale',
    'packing.items.multiTool': 'Outil multifonction',
    'packing.items.insectRepellent': 'Répulsif à insectes',
    
    // Winter/ski items
    'packing.items.skiJacket': 'Veste de ski',
    'packing.items.skiPants': 'Pantalon de ski',
    'packing.items.thermalBaseLayers': 'Sous-couches thermiques',
    'packing.items.thickSocks': 'Chaussettes épaisses',
    'packing.items.skiGoggles': 'Lunettes de ski',
    'packing.items.lipBalm': 'Baume à lèvres',
    'packing.items.moisturizer': 'Hydratant',
    
    // Urban/city items
    'packing.items.walkingShoes': 'Chaussures de marche confortables',
    'packing.items.dayBag': 'Sac à dos/sac journalier',
    'packing.items.cityMap': 'Plan/guide de la ville',
    
    // Document items
    'packing.documents.id': 'Carte d\'identité/Permis de conduire',
    'packing.documents.cards': 'Cartes de crédit/débit',
    'packing.documents.insurance': 'Informations d\'assurance voyage',
    'packing.documents.emergency': 'Liste de contacts d\'urgence',
    'packing.documents.hotel': 'Réservation d\'hôtel',
    'packing.documents.transportation': 'Billets de transport',
    'packing.documents.passport': 'Passeport',
    'packing.documents.visa': 'Documentation de visa',
    'packing.documents.driverPermit': 'Permis de conduire international',
    'packing.documents.vaccination': 'Carnet de vaccination',
    'packing.documents.currency': 'Informations sur le change de devises',
    'packing.documents.embassy': 'Coordonnées de l\'ambassade',
    'packing.documents.adapter': 'Informations sur l\'adaptateur de voyage',
    
    // Weather message
    'weather.expected': 'Météo Prévue',
    'weather.conditions.sunny': 'ensoleillé',
    'weather.conditions.variable': 'variable',
    'weather.conditions.humid': 'humide',
    'weather.conditions.mild': 'tempéré',
    'weather.rainfall': 'Précipitations',
    'weather.rainfall.high': 'élevées',
    'weather.rainfall.medium': 'moyennes',
    'weather.rainfall.low': 'faibles',

    // Notes messages
    
  },
  // Add more languages as needed
};

// Provider component for internationalization
export const I18nProvider = ({ children }) => {
  const [language, setLanguage] = useState(DEFAULT_LANGUAGE);
  
  // Function to set the language
  const changeLanguage = (lang) => {
    if (translations[lang]) {
      setLanguage(lang);
      // Update HTML lang attribute
      document.documentElement.setAttribute('lang', lang.split('-')[0]);
      // Store in local storage for persistence
      localStorage.setItem('userLanguage', lang);
    }
  };
  
  // Get translation for a key
  const t = (key, replacements = {}) => {
    // Get the translation from the current language
    let translation = translations[language]?.[key] || translations[DEFAULT_LANGUAGE]?.[key] || key;
    
    // Replace placeholders with actual values
    Object.entries(replacements).forEach(([placeholder, value]) => {
      translation = translation.replace(`{${placeholder}}`, value);
    });
    
    return translation;
  };
  
  // Initialize language from localStorage or settings
  useEffect(() => {
    const storedLanguage = localStorage.getItem('userLanguage');
    if (storedLanguage && translations[storedLanguage]) {
      setLanguage(storedLanguage);
      document.documentElement.setAttribute('lang', storedLanguage.split('-')[0]);
    } else {
      // Try to get language from user settings
      try {
        const userSettings = JSON.parse(localStorage.getItem('userSettings'));
        const settingsLanguage = userSettings?.preferences?.language;
        
        if (settingsLanguage && translations[settingsLanguage]) {
          setLanguage(settingsLanguage);
          document.documentElement.setAttribute('lang', settingsLanguage.split('-')[0]);
        }
      } catch (error) {
        console.error('Error loading language from settings:', error);
      }
    }
  }, []);
  
  // Listen for settings changes to sync language
  useEffect(() => {
    const handleStorageChange = (e) => {
      if (e.key === 'userSettings') {
        try {
          const userSettings = JSON.parse(e.newValue);
          const settingsLanguage = userSettings?.preferences?.language;
          
          if (settingsLanguage && translations[settingsLanguage] && settingsLanguage !== language) {
            setLanguage(settingsLanguage);
            document.documentElement.setAttribute('lang', settingsLanguage.split('-')[0]);
          }
        } catch (error) {
          console.error('Error syncing language from settings:', error);
        }
      }
    };
    
    window.addEventListener('storage', handleStorageChange);
    return () => window.removeEventListener('storage', handleStorageChange);
  }, [language]);
  
  return (
    <I18nContext.Provider value={{ language, changeLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
};

// Custom hook to use the internationalization context
export const useI18n = () => {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
};

// Connect the settings language preference with the i18n system
export const syncLanguageWithSettings = (userSettings) => {
  if (userSettings?.preferences?.language) {
    const settingsLanguage = userSettings.preferences.language;
    if (translations[settingsLanguage]) {
      localStorage.setItem('userLanguage', settingsLanguage);
      document.documentElement.setAttribute('lang', settingsLanguage.split('-')[0]);
      return true;
    }
  }
  return false;
};