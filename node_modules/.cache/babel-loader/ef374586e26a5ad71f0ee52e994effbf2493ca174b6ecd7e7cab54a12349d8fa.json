{"ast":null,"code":"// src/utils/premiumFeatures.js\n\n/**\r\n * Utility for managing premium features and access\r\n */\nconst premiumFeatures = {\n  // Feature definitions with access requirements\n  features: {\n    // Trip planning features\n    unlimited_trips: {\n      id: 'unlimited_trips',\n      name: 'Unlimited Trip Plans',\n      description: 'Create and manage as many trip plans as you need',\n      freeTier: {\n        enabled: true,\n        limit: 3,\n        limitType: 'count'\n      },\n      category: 'trip_planning'\n    },\n    trip_templates: {\n      id: 'trip_templates',\n      name: 'Trip Templates',\n      description: 'Save and reuse your favorite trip plans',\n      freeTier: {\n        enabled: false\n      },\n      category: 'trip_planning'\n    },\n    enhanced_budget: {\n      id: 'enhanced_budget',\n      name: 'Enhanced Budget Tools',\n      description: 'Advanced budget tracking and expense categorization',\n      freeTier: {\n        enabled: false\n      },\n      category: 'budget'\n    },\n    // Flight features\n    flight_alerts: {\n      id: 'flight_alerts',\n      name: 'Flight Deal Alerts',\n      description: 'Get notified when flight prices drop',\n      freeTier: {\n        enabled: false\n      },\n      category: 'flights'\n    },\n    flight_search: {\n      id: 'flight_search',\n      name: 'Flight Search',\n      description: 'Search for flights across multiple airlines',\n      freeTier: {\n        enabled: true,\n        limit: 3,\n        limitType: 'uses_per_day'\n      },\n      category: 'flights'\n    },\n    // Budget features\n    budget_tracking: {\n      id: 'budget_tracking',\n      name: 'Enhanced Budget Tracking',\n      description: 'Track and analyze your travel expenses',\n      freeTier: {\n        enabled: false\n      },\n      category: 'budget'\n    },\n    expense_reports: {\n      id: 'expense_reports',\n      name: 'Expense Reports',\n      description: 'Generate detailed reports of your travel expenses',\n      freeTier: {\n        enabled: false\n      },\n      category: 'budget'\n    }\n  },\n  /**\r\n   * Check if a user has access to a premium feature\r\n   * @param {string} featureId - The ID of the feature to check\r\n   * @param {Object} options - Access check options\r\n   * @param {boolean} options.isSubscribed - Whether the user is subscribed\r\n   * @param {number} options.usageCount - Current usage count for limited features\r\n   * @returns {Object} Access result\r\n   */\n  checkAccess(featureId, options = {}) {\n    const {\n      isSubscribed = false,\n      usageCount = 0\n    } = options;\n\n    // If subscribed, always grant access\n    if (isSubscribed) {\n      return {\n        hasAccess: true,\n        reason: 'subscribed'\n      };\n    }\n\n    // Get feature config\n    const feature = this.features[featureId];\n    if (!feature) {\n      return {\n        hasAccess: false,\n        reason: 'feature_not_found'\n      };\n    }\n\n    // Check if feature has free tier\n    if (!feature.freeTier.enabled) {\n      return {\n        hasAccess: false,\n        reason: 'premium_only'\n      };\n    }\n\n    // Check usage limits for free tier\n    if (feature.freeTier.limitType === 'count' && usageCount >= feature.freeTier.limit) {\n      return {\n        hasAccess: false,\n        reason: 'limit_reached',\n        limit: feature.freeTier.limit,\n        current: usageCount\n      };\n    }\n\n    // Access granted for free tier\n    return {\n      hasAccess: true,\n      reason: 'free_tier',\n      limit: feature.freeTier.limit,\n      current: usageCount\n    };\n  },\n  /**\r\n   * Get all features in a specific category\r\n   * @param {string} category - Category to filter by\r\n   * @returns {Array} Features in the category\r\n   */\n  getFeaturesByCategory(category) {\n    return Object.values(this.features).filter(feature => feature.category === category);\n  },\n  /**\r\n   * Get all available premium features\r\n   * @returns {Array} All premium features\r\n   */\n  getAllFeatures() {\n    return Object.values(this.features);\n  }\n};\nexport default premiumFeatures;","map":{"version":3,"names":["premiumFeatures","features","unlimited_trips","id","name","description","freeTier","enabled","limit","limitType","category","trip_templates","enhanced_budget","flight_alerts","flight_search","budget_tracking","expense_reports","checkAccess","featureId","options","isSubscribed","usageCount","hasAccess","reason","feature","current","getFeaturesByCategory","Object","values","filter","getAllFeatures"],"sources":["C:/Users/juliu/Desktop/web/src/utils/premiumFeatures.js"],"sourcesContent":["// src/utils/premiumFeatures.js\r\n\r\n/**\r\n * Utility for managing premium features and access\r\n */\r\nconst premiumFeatures = {\r\n  // Feature definitions with access requirements\r\n  features: {\r\n    // Trip planning features\r\n    unlimited_trips: {\r\n      id: 'unlimited_trips',\r\n      name: 'Unlimited Trip Plans',\r\n      description: 'Create and manage as many trip plans as you need',\r\n      freeTier: {\r\n        enabled: true,\r\n        limit: 3,\r\n        limitType: 'count'\r\n      },\r\n      category: 'trip_planning'\r\n    },\r\n    trip_templates: {\r\n      id: 'trip_templates',\r\n      name: 'Trip Templates',\r\n      description: 'Save and reuse your favorite trip plans',\r\n      freeTier: {\r\n        enabled: false\r\n      },\r\n      category: 'trip_planning'\r\n    },\r\n    enhanced_budget: {\r\n      id: 'enhanced_budget',\r\n      name: 'Enhanced Budget Tools',\r\n      description: 'Advanced budget tracking and expense categorization',\r\n      freeTier: {\r\n        enabled: false\r\n      },\r\n      category: 'budget'\r\n    },\r\n  \r\n    \r\n    // Flight features\r\n    flight_alerts: {\r\n      id: 'flight_alerts',\r\n      name: 'Flight Deal Alerts',\r\n      description: 'Get notified when flight prices drop',\r\n      freeTier: {\r\n        enabled: false\r\n      },\r\n      category: 'flights'\r\n    },\r\n    flight_search: {\r\n      id: 'flight_search',\r\n      name: 'Flight Search',\r\n      description: 'Search for flights across multiple airlines',\r\n      freeTier: {\r\n        enabled: true,\r\n        limit: 3,\r\n        limitType: 'uses_per_day'\r\n      },\r\n      category: 'flights'\r\n    },\r\n    \r\n    // Budget features\r\n    budget_tracking: {\r\n      id: 'budget_tracking',\r\n      name: 'Enhanced Budget Tracking',\r\n      description: 'Track and analyze your travel expenses',\r\n      freeTier: {\r\n        enabled: false\r\n      },\r\n      category: 'budget'\r\n    },\r\n    expense_reports: {\r\n      id: 'expense_reports',\r\n      name: 'Expense Reports',\r\n      description: 'Generate detailed reports of your travel expenses',\r\n      freeTier: {\r\n        enabled: false\r\n      },\r\n      category: 'budget'\r\n    }\r\n  },\r\n  \r\n  /**\r\n   * Check if a user has access to a premium feature\r\n   * @param {string} featureId - The ID of the feature to check\r\n   * @param {Object} options - Access check options\r\n   * @param {boolean} options.isSubscribed - Whether the user is subscribed\r\n   * @param {number} options.usageCount - Current usage count for limited features\r\n   * @returns {Object} Access result\r\n   */\r\n  checkAccess(featureId, options = {}) {\r\n    const { isSubscribed = false, usageCount = 0 } = options;\r\n    \r\n    // If subscribed, always grant access\r\n    if (isSubscribed) {\r\n      return {\r\n        hasAccess: true,\r\n        reason: 'subscribed'\r\n      };\r\n    }\r\n    \r\n    // Get feature config\r\n    const feature = this.features[featureId];\r\n    if (!feature) {\r\n      return {\r\n        hasAccess: false,\r\n        reason: 'feature_not_found'\r\n      };\r\n    }\r\n    \r\n    // Check if feature has free tier\r\n    if (!feature.freeTier.enabled) {\r\n      return {\r\n        hasAccess: false,\r\n        reason: 'premium_only'\r\n      };\r\n    }\r\n    \r\n    // Check usage limits for free tier\r\n    if (feature.freeTier.limitType === 'count' && usageCount >= feature.freeTier.limit) {\r\n      return {\r\n        hasAccess: false,\r\n        reason: 'limit_reached',\r\n        limit: feature.freeTier.limit,\r\n        current: usageCount\r\n      };\r\n    }\r\n    \r\n    // Access granted for free tier\r\n    return {\r\n      hasAccess: true,\r\n      reason: 'free_tier',\r\n      limit: feature.freeTier.limit,\r\n      current: usageCount\r\n    };\r\n  },\r\n  \r\n  /**\r\n   * Get all features in a specific category\r\n   * @param {string} category - Category to filter by\r\n   * @returns {Array} Features in the category\r\n   */\r\n  getFeaturesByCategory(category) {\r\n    return Object.values(this.features)\r\n      .filter(feature => feature.category === category);\r\n  },\r\n  \r\n  /**\r\n   * Get all available premium features\r\n   * @returns {Array} All premium features\r\n   */\r\n  getAllFeatures() {\r\n    return Object.values(this.features);\r\n  }\r\n};\r\n\r\nexport default premiumFeatures;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}