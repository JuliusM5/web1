{"ast":null,"code":"/**\r\n * Streamlined Settings Manager - A singleton to manage theme settings\r\n * With improved error handling and safety checks\r\n */// Single source of truth for current settings state\nconst currentState={appearance:null,accessibility:null,language:null};// Single active operation flag\nlet operationInProgress=false;let pendingOperation=null;/**\r\n   * Enhanced deep equality check for objects and arrays\r\n   */const isEqual=(a,b)=>{// Handle identical references and primitive cases\nif(a===b)return true;// Handle nulls and undefined\nif(a==null||b==null)return a===b;// Handle different types\nif(typeof a!==typeof b)return false;// Handle primitive types\nif(typeof a!=='object')return a===b;// Handle arrays\nif(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return false;return a.every((val,i)=>isEqual(val,b[i]));}// If one is array and other is not\nif(Array.isArray(a)!==Array.isArray(b))return false;// Handle regular objects\nconst keysA=Object.keys(a);const keysB=Object.keys(b);if(keysA.length!==keysB.length)return false;return keysA.every(key=>keysB.includes(key)&&isEqual(a[key],b[key]));};/**\r\n   * Safely get a property or return a default value\r\n   */const safeGet=function(obj,path){var _result;let defaultValue=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(obj==null)return defaultValue;const keys=path.split('.');let result=obj;for(const key of keys){if(result==null||result[key]===undefined){return defaultValue;}result=result[key];}return(_result=result)!==null&&_result!==void 0?_result:defaultValue;};/**\r\n   * Apply settings using a single operation approach with enhanced safety\r\n   */const applySettings=settings=>{// Guard against invalid settings\nif(!settings||typeof settings!=='object'){console.error('Invalid settings object provided');return false;}try{// Check if settings have actually changed\nconst hasAppearanceChanged=settings.appearance&&!isEqual(currentState.appearance,settings.appearance);const hasAccessibilityChanged=settings.accessibility&&!isEqual(currentState.accessibility,settings.accessibility);const language=safeGet(settings,'preferences.language');const hasLanguageChanged=language&&currentState.language!==language;// Skip if nothing has changed\nif(!hasAppearanceChanged&&!hasAccessibilityChanged&&!hasLanguageChanged){return true;}// If operation in progress, queue this one and exit\nif(operationInProgress){pendingOperation={...settings};return true;}// Lock operations\noperationInProgress=true;// Apply appearance settings if changed\nif(hasAppearanceChanged){const fontSize=safeGet(settings,'appearance.fontSize','medium');const colorScheme=safeGet(settings,'appearance.colorScheme','blue');const darkMode=safeGet(settings,'appearance.darkMode',false);try{// Apply font size\ndocument.documentElement.classList.remove('text-sm','text-base','text-lg');if(fontSize==='small'){document.documentElement.classList.add('text-sm');}else if(fontSize==='medium'){document.documentElement.classList.add('text-base');}else if(fontSize==='large'){document.documentElement.classList.add('text-lg');}// Apply color scheme\nconst colorSchemeClasses=['theme-blue','theme-purple','theme-green','theme-red','theme-amber','theme-indigo'];document.documentElement.classList.remove(...colorSchemeClasses);document.documentElement.classList.add(`theme-${colorScheme}`);// Apply dark mode\nif(darkMode){document.documentElement.classList.add('dark-mode');document.body.classList.add('dark-mode');}else{document.documentElement.classList.remove('dark-mode');document.body.classList.remove('dark-mode');}// Set theme property\ndocument.documentElement.style.setProperty('--current-theme',colorScheme);document.documentElement.setAttribute('data-theme',darkMode?'dark':'light');// Update current state (deep copy to prevent reference issues)\ncurrentState.appearance=JSON.parse(JSON.stringify(settings.appearance));}catch(appearanceError){console.error('Error applying appearance settings:',appearanceError);// Continue with other settings despite appearance error\n}}// Apply accessibility settings if changed\nif(hasAccessibilityChanged){try{const highContrast=safeGet(settings,'accessibility.highContrast',false);const reducedMotion=safeGet(settings,'accessibility.reducedMotion',false);const largerClickTargets=safeGet(settings,'accessibility.largerClickTargets',false);const textScaling=safeGet(settings,'accessibility.textScaling',100);const screenReaderOptimized=safeGet(settings,'accessibility.screenReaderOptimized',false);// Apply high contrast\nif(highContrast){document.documentElement.classList.add('high-contrast');}else{document.documentElement.classList.remove('high-contrast');}// Apply reduced motion\nif(reducedMotion){document.documentElement.classList.add('reduced-motion');}else{document.documentElement.classList.remove('reduced-motion');}// Apply larger click targets\nif(largerClickTargets){document.documentElement.classList.add('larger-targets');}else{document.documentElement.classList.remove('larger-targets');}// Apply text scaling\nif(textScaling&&textScaling!==100){document.documentElement.style.setProperty('--text-scale-ratio',`${textScaling/100}`);document.documentElement.classList.add('custom-text-scaling');}else{document.documentElement.classList.remove('custom-text-scaling');document.documentElement.style.removeProperty('--text-scale-ratio');}// Apply screen reader optimizations\nif(screenReaderOptimized){document.documentElement.setAttribute('data-screen-reader-optimized','true');}else{document.documentElement.removeAttribute('data-screen-reader-optimized');}// Update current state (deep copy to prevent reference issues)\ncurrentState.accessibility=JSON.parse(JSON.stringify(settings.accessibility));}catch(accessibilityError){console.error('Error applying accessibility settings:',accessibilityError);// Continue with other settings despite accessibility error\n}}// Apply language settings if changed\nif(hasLanguageChanged){try{const languageCode=language.split('-')[0];document.documentElement.setAttribute('lang',languageCode);currentState.language=language;}catch(languageError){console.error('Error applying language settings:',languageError);}}return true;}catch(error){console.error('Error applying settings:',error);return false;}finally{// Always release lock regardless of errors\noperationInProgress=false;// Process any pending operation\nif(pendingOperation){const nextOperation=pendingOperation;pendingOperation=null;setTimeout(()=>applySettings(nextOperation),0);}}};/**\r\n   * Initialize settings manager\r\n   */const initialize=()=>{try{// Load the CSS file for dark mode and accessibility if not already loaded\nif(!document.getElementById('accessibility-darkmode-css')){const link=document.createElement('link');link.id='accessibility-darkmode-css';link.rel='stylesheet';link.href='/accessibility-darkmode.css';document.head.appendChild(link);}}catch(error){console.error('Error initializing settings manager:',error);}};// Initialize on import\ninitialize();// Export the manager\nconst settingsManager={applySettings,initialize};export default settingsManager;","map":{"version":3,"names":["currentState","appearance","accessibility","language","operationInProgress","pendingOperation","isEqual","a","b","Array","isArray","length","every","val","i","keysA","Object","keys","keysB","key","includes","safeGet","obj","path","_result","defaultValue","arguments","undefined","split","result","applySettings","settings","console","error","hasAppearanceChanged","hasAccessibilityChanged","hasLanguageChanged","fontSize","colorScheme","darkMode","document","documentElement","classList","remove","add","colorSchemeClasses","body","style","setProperty","setAttribute","JSON","parse","stringify","appearanceError","highContrast","reducedMotion","largerClickTargets","textScaling","screenReaderOptimized","removeProperty","removeAttribute","accessibilityError","languageCode","languageError","nextOperation","setTimeout","initialize","getElementById","link","createElement","id","rel","href","head","appendChild","settingsManager"],"sources":["C:/Users/juliu/Desktop/web/src/utils/settingsManager.js"],"sourcesContent":["/**\r\n * Streamlined Settings Manager - A singleton to manage theme settings\r\n * With improved error handling and safety checks\r\n */\r\n\r\n// Single source of truth for current settings state\r\nconst currentState = {\r\n    appearance: null,\r\n    accessibility: null,\r\n    language: null\r\n  };\r\n  \r\n  // Single active operation flag\r\n  let operationInProgress = false;\r\n  let pendingOperation = null;\r\n  \r\n  /**\r\n   * Enhanced deep equality check for objects and arrays\r\n   */\r\n  const isEqual = (a, b) => {\r\n    // Handle identical references and primitive cases\r\n    if (a === b) return true;\r\n    \r\n    // Handle nulls and undefined\r\n    if (a == null || b == null) return a === b;\r\n    \r\n    // Handle different types\r\n    if (typeof a !== typeof b) return false;\r\n    \r\n    // Handle primitive types\r\n    if (typeof a !== 'object') return a === b;\r\n    \r\n    // Handle arrays\r\n    if (Array.isArray(a) && Array.isArray(b)) {\r\n      if (a.length !== b.length) return false;\r\n      return a.every((val, i) => isEqual(val, b[i]));\r\n    }\r\n    \r\n    // If one is array and other is not\r\n    if (Array.isArray(a) !== Array.isArray(b)) return false;\r\n    \r\n    // Handle regular objects\r\n    const keysA = Object.keys(a);\r\n    const keysB = Object.keys(b);\r\n    \r\n    if (keysA.length !== keysB.length) return false;\r\n    \r\n    return keysA.every(key => \r\n      keysB.includes(key) && isEqual(a[key], b[key])\r\n    );\r\n  };\r\n  \r\n  /**\r\n   * Safely get a property or return a default value\r\n   */\r\n  const safeGet = (obj, path, defaultValue = null) => {\r\n    if (obj == null) return defaultValue;\r\n    \r\n    const keys = path.split('.');\r\n    let result = obj;\r\n    \r\n    for (const key of keys) {\r\n      if (result == null || result[key] === undefined) {\r\n        return defaultValue;\r\n      }\r\n      result = result[key];\r\n    }\r\n    \r\n    return result ?? defaultValue;\r\n  };\r\n  \r\n  /**\r\n   * Apply settings using a single operation approach with enhanced safety\r\n   */\r\n  const applySettings = (settings) => {\r\n    // Guard against invalid settings\r\n    if (!settings || typeof settings !== 'object') {\r\n      console.error('Invalid settings object provided');\r\n      return false;\r\n    }\r\n    \r\n    try {\r\n      // Check if settings have actually changed\r\n      const hasAppearanceChanged = \r\n        settings.appearance && !isEqual(currentState.appearance, settings.appearance);\r\n      \r\n      const hasAccessibilityChanged = \r\n        settings.accessibility && !isEqual(currentState.accessibility, settings.accessibility);\r\n      \r\n      const language = safeGet(settings, 'preferences.language');\r\n      const hasLanguageChanged = \r\n        language && currentState.language !== language;\r\n      \r\n      // Skip if nothing has changed\r\n      if (!hasAppearanceChanged && !hasAccessibilityChanged && !hasLanguageChanged) {\r\n        return true;\r\n      }\r\n      \r\n      // If operation in progress, queue this one and exit\r\n      if (operationInProgress) {\r\n        pendingOperation = { ...settings };\r\n        return true;\r\n      }\r\n      \r\n      // Lock operations\r\n      operationInProgress = true;\r\n      \r\n      // Apply appearance settings if changed\r\n      if (hasAppearanceChanged) {\r\n        const fontSize = safeGet(settings, 'appearance.fontSize', 'medium');\r\n        const colorScheme = safeGet(settings, 'appearance.colorScheme', 'blue');\r\n        const darkMode = safeGet(settings, 'appearance.darkMode', false);\r\n        \r\n        try {\r\n          // Apply font size\r\n          document.documentElement.classList.remove('text-sm', 'text-base', 'text-lg');\r\n          if (fontSize === 'small') {\r\n            document.documentElement.classList.add('text-sm');\r\n          } else if (fontSize === 'medium') {\r\n            document.documentElement.classList.add('text-base');\r\n          } else if (fontSize === 'large') {\r\n            document.documentElement.classList.add('text-lg');\r\n          }\r\n          \r\n          // Apply color scheme\r\n          const colorSchemeClasses = [\r\n            'theme-blue', 'theme-purple', 'theme-green', \r\n            'theme-red', 'theme-amber', 'theme-indigo'\r\n          ];\r\n          document.documentElement.classList.remove(...colorSchemeClasses);\r\n          document.documentElement.classList.add(`theme-${colorScheme}`);\r\n          \r\n          // Apply dark mode\r\n          if (darkMode) {\r\n            document.documentElement.classList.add('dark-mode');\r\n            document.body.classList.add('dark-mode');\r\n          } else {\r\n            document.documentElement.classList.remove('dark-mode');\r\n            document.body.classList.remove('dark-mode');\r\n          }\r\n          \r\n          // Set theme property\r\n          document.documentElement.style.setProperty('--current-theme', colorScheme);\r\n          document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');\r\n          \r\n          // Update current state (deep copy to prevent reference issues)\r\n          currentState.appearance = JSON.parse(JSON.stringify(settings.appearance));\r\n        } catch (appearanceError) {\r\n          console.error('Error applying appearance settings:', appearanceError);\r\n          // Continue with other settings despite appearance error\r\n        }\r\n      }\r\n      \r\n      // Apply accessibility settings if changed\r\n      if (hasAccessibilityChanged) {\r\n        try {\r\n          const highContrast = safeGet(settings, 'accessibility.highContrast', false);\r\n          const reducedMotion = safeGet(settings, 'accessibility.reducedMotion', false);\r\n          const largerClickTargets = safeGet(settings, 'accessibility.largerClickTargets', false);\r\n          const textScaling = safeGet(settings, 'accessibility.textScaling', 100);\r\n          const screenReaderOptimized = safeGet(settings, 'accessibility.screenReaderOptimized', false);\r\n          \r\n          // Apply high contrast\r\n          if (highContrast) {\r\n            document.documentElement.classList.add('high-contrast');\r\n          } else {\r\n            document.documentElement.classList.remove('high-contrast');\r\n          }\r\n          \r\n          // Apply reduced motion\r\n          if (reducedMotion) {\r\n            document.documentElement.classList.add('reduced-motion');\r\n          } else {\r\n            document.documentElement.classList.remove('reduced-motion');\r\n          }\r\n          \r\n          // Apply larger click targets\r\n          if (largerClickTargets) {\r\n            document.documentElement.classList.add('larger-targets');\r\n          } else {\r\n            document.documentElement.classList.remove('larger-targets');\r\n          }\r\n          \r\n          // Apply text scaling\r\n          if (textScaling && textScaling !== 100) {\r\n            document.documentElement.style.setProperty('--text-scale-ratio', `${textScaling / 100}`);\r\n            document.documentElement.classList.add('custom-text-scaling');\r\n          } else {\r\n            document.documentElement.classList.remove('custom-text-scaling');\r\n            document.documentElement.style.removeProperty('--text-scale-ratio');\r\n          }\r\n          \r\n          // Apply screen reader optimizations\r\n          if (screenReaderOptimized) {\r\n            document.documentElement.setAttribute('data-screen-reader-optimized', 'true');\r\n          } else {\r\n            document.documentElement.removeAttribute('data-screen-reader-optimized');\r\n          }\r\n          \r\n          // Update current state (deep copy to prevent reference issues)\r\n          currentState.accessibility = JSON.parse(JSON.stringify(settings.accessibility));\r\n        } catch (accessibilityError) {\r\n          console.error('Error applying accessibility settings:', accessibilityError);\r\n          // Continue with other settings despite accessibility error\r\n        }\r\n      }\r\n      \r\n      // Apply language settings if changed\r\n      if (hasLanguageChanged) {\r\n        try {\r\n          const languageCode = language.split('-')[0];\r\n          document.documentElement.setAttribute('lang', languageCode);\r\n          currentState.language = language;\r\n        } catch (languageError) {\r\n          console.error('Error applying language settings:', languageError);\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error applying settings:', error);\r\n      return false;\r\n    } finally {\r\n      // Always release lock regardless of errors\r\n      operationInProgress = false;\r\n      \r\n      // Process any pending operation\r\n      if (pendingOperation) {\r\n        const nextOperation = pendingOperation;\r\n        pendingOperation = null;\r\n        setTimeout(() => applySettings(nextOperation), 0);\r\n      }\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * Initialize settings manager\r\n   */\r\n  const initialize = () => {\r\n    try {\r\n      // Load the CSS file for dark mode and accessibility if not already loaded\r\n      if (!document.getElementById('accessibility-darkmode-css')) {\r\n        const link = document.createElement('link');\r\n        link.id = 'accessibility-darkmode-css';\r\n        link.rel = 'stylesheet';\r\n        link.href = '/accessibility-darkmode.css';\r\n        document.head.appendChild(link);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error initializing settings manager:', error);\r\n    }\r\n  };\r\n  \r\n  // Initialize on import\r\n  initialize();\r\n  \r\n  // Export the manager\r\n  const settingsManager = {\r\n    applySettings,\r\n    initialize\r\n  };\r\n  \r\n  export default settingsManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}