{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juliu\\\\Desktop\\\\web\\\\src\\\\components\\\\CheapFlights\\\\FlightDealsView.jsx\",\n  _s = $RefreshSig$();\n// src/components/CheapFlights/FlightDealsView.jsx\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { SubscriptionContext } from '../../context/SubscriptionContext';\nimport GlobalAirportSelector from './GlobalAirportSelector';\nimport DealCard from './DealCard';\nimport flightDataSharingService from '../../services/flightDataSharingService';\nimport skyscannerService from '../../services/skyscannerService';\nimport AuthContext from '../../context/AuthContext'; // Assuming you have this\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightDealsView = () => {\n  _s();\n  const [origin, setOrigin] = useState(null);\n  const [destination, setDestination] = useState(null);\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    isSubscribed\n  } = useContext(SubscriptionContext);\n  const {\n    user\n  } = useContext(AuthContext); // Get current user\n  const [remainingSignals, setRemainingSignals] = useState(3);\n\n  // Load remaining signals on component mount\n  useEffect(() => {\n    if (user && !isSubscribed) {\n      const remaining = flightDataSharingService.getRemainingFreeSignals(user.id);\n      setRemainingSignals(remaining);\n    }\n  }, [user, isSubscribed]);\n  const handleSearch = async () => {\n    // Add null check before accessing the id property\n    if (!selectedDeal) {\n      console.error('No deal selected');\n      return;\n    }\n\n    // Check if free user has signals remaining\n    if (!isSubscribed) {\n      if (remainingSignals <= 0) {\n        setError('You have used all your free signals. Subscribe for unlimited searches!');\n        return;\n      }\n\n      // Use a free signal\n      const signalsUsed = flightDataSharingService.recordFreeSignalUsage(user.id);\n      setRemainingSignals(3 - signalsUsed);\n    }\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Use the sharing service to efficiently get flight data\n      // This will reuse data for the same route across all users\n      const flightData = await flightDataSharingService.getFlightData(origin.code, destination.code, origin.id, destination.id, skyscannerService);\n\n      // Process the data into UI-friendly format\n      const deals = processFlightData(flightData, origin, destination);\n      setSearchResults(deals);\n      if (deals.length === 0) {\n        setError('No flights found for this route. Try different airports or dates.');\n      }\n    } catch (error) {\n      console.error('Error searching flights:', error);\n      setError('An error occurred while searching for flights. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Process raw API data into UI-friendly format\n  const processFlightData = (data, origin, destination) => {\n    if (!data || !data.itineraries || data.itineraries.length === 0) {\n      return [];\n    }\n\n    // Sort by price\n    const sortedItineraries = [...data.itineraries].sort((a, b) => {\n      const priceA = a.price ? a.price.amount : Infinity;\n      const priceB = b.price ? b.price.amount : Infinity;\n      return priceA - priceB;\n    });\n\n    // Convert to deal cards format\n    return sortedItineraries.slice(0, 5).map(itinerary => {\n      // Extract all the details\n      const price = itinerary.price ? itinerary.price.amount : 0;\n      const departureTime = itinerary.legs && itinerary.legs[0] ? itinerary.legs[0].departure : new Date().toISOString();\n      const arrivalTime = itinerary.legs && itinerary.legs[0] ? itinerary.legs[0].arrival : new Date().toISOString();\n      const duration = itinerary.legs && itinerary.legs[0] ? itinerary.legs[0].durationInMinutes : 0;\n      const airline = itinerary.legs && itinerary.legs[0] && itinerary.legs[0].carriers ? itinerary.legs[0].carriers.marketing[0].name : 'Unknown Airline';\n      return {\n        id: `${origin.code}-${destination.code}-${price}-${Date.now()}`,\n        origin: origin.code,\n        originName: origin.name,\n        destination: destination.code,\n        destinationName: destination.name,\n        price,\n        departureTime,\n        arrivalTime,\n        duration,\n        airline,\n        deep_link: createDeepLink(origin.code, destination.code, departureTime)\n      };\n    });\n  };\n  const createDeepLink = (origin, destination, departureDate) => {\n    const formattedDate = new Date(departureDate).toISOString().split('T')[0];\n    return `https://www.skyscanner.com/transport/flights/${origin}/${destination}/${formattedDate}/`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flight-deals-view p-4 md:p-6 bg-white rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Search Flight Deals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), !isSubscribed && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-blue-50 rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Free signals remaining: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: remainingSignals > 0 ? 'text-green-600' : 'text-red-600',\n            children: [remainingSignals, \"/3\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), remainingSignals === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-600 mt-1\",\n            children: \"You've used all your free signals. Subscribe for unlimited searches.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), remainingSignals > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: \"Free users get 3 signals total. Use them wisely!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-blue-600 text-white px-4 py-1 rounded-md text-sm\",\n          children: \"Subscribe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:space-x-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 mb-3 md:mb-0\",\n        children: /*#__PURE__*/_jsxDEV(GlobalAirportSelector, {\n          label: \"From\",\n          value: origin,\n          onChange: setOrigin,\n          placeholder: \"Any airport in the world...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(GlobalAirportSelector, {\n          label: \"To\",\n          value: destination,\n          onChange: setDestination,\n          placeholder: \"Any airport in the world...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      disabled: isLoading || !origin || !destination || !isSubscribed && remainingSignals === 0,\n      className: `w-full p-3 rounded-md font-medium text-white\n          ${isLoading || !origin || !destination || !isSubscribed && remainingSignals === 0 ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'}`,\n      children: isLoading ? 'Searching...' : !isSubscribed && remainingSignals === 0 ? 'No Free Signals Remaining' : 'Search Flights'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 bg-red-100 text-red-700 rounded-md\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Flight Deals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: searchResults.map(deal => /*#__PURE__*/_jsxDEV(DealCard, {\n          deal: deal,\n          onSetAlert: () => {},\n          onSave: () => {}\n        }, deal.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightDealsView, \"ZUyXE3RWPhUSa52fv4YW9x505YY=\");\n_c = FlightDealsView;\nexport default FlightDealsView;\nvar _c;\n$RefreshReg$(_c, \"FlightDealsView\");","map":{"version":3,"names":["React","useState","useEffect","useContext","SubscriptionContext","GlobalAirportSelector","DealCard","flightDataSharingService","skyscannerService","AuthContext","jsxDEV","_jsxDEV","FlightDealsView","_s","origin","setOrigin","destination","setDestination","searchResults","setSearchResults","isLoading","setIsLoading","error","setError","isSubscribed","user","remainingSignals","setRemainingSignals","remaining","getRemainingFreeSignals","id","handleSearch","selectedDeal","console","signalsUsed","recordFreeSignalUsage","flightData","getFlightData","code","deals","processFlightData","length","data","itineraries","sortedItineraries","sort","a","b","priceA","price","amount","Infinity","priceB","slice","map","itinerary","departureTime","legs","departure","Date","toISOString","arrivalTime","arrival","duration","durationInMinutes","airline","carriers","marketing","name","now","originName","destinationName","deep_link","createDeepLink","departureDate","formattedDate","split","className","children","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","placeholder","onClick","disabled","deal","onSetAlert","onSave","_c","$RefreshReg$"],"sources":["C:/Users/juliu/Desktop/web/src/components/CheapFlights/FlightDealsView.jsx"],"sourcesContent":["// src/components/CheapFlights/FlightDealsView.jsx\r\n\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { SubscriptionContext } from '../../context/SubscriptionContext';\r\nimport GlobalAirportSelector from './GlobalAirportSelector';\r\nimport DealCard from './DealCard';\r\nimport flightDataSharingService from '../../services/flightDataSharingService';\r\nimport skyscannerService from '../../services/skyscannerService';\r\nimport AuthContext from '../../context/AuthContext'; // Assuming you have this\r\n\r\nconst FlightDealsView = () => {\r\n  const [origin, setOrigin] = useState(null);\r\n  const [destination, setDestination] = useState(null);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { isSubscribed } = useContext(SubscriptionContext);\r\n  const { user } = useContext(AuthContext); // Get current user\r\n  const [remainingSignals, setRemainingSignals] = useState(3);\r\n  \r\n  // Load remaining signals on component mount\r\n  useEffect(() => {\r\n    if (user && !isSubscribed) {\r\n      const remaining = flightDataSharingService.getRemainingFreeSignals(user.id);\r\n      setRemainingSignals(remaining);\r\n    }\r\n  }, [user, isSubscribed]);\r\n  \r\n  const handleSearch = async () => {\r\n  // Add null check before accessing the id property\r\n  if (!selectedDeal) {\r\n    console.error('No deal selected');\r\n    return;\r\n  }\r\n    \r\n    // Check if free user has signals remaining\r\n    if (!isSubscribed) {\r\n      if (remainingSignals <= 0) {\r\n        setError('You have used all your free signals. Subscribe for unlimited searches!');\r\n        return;\r\n      }\r\n      \r\n      // Use a free signal\r\n      const signalsUsed = flightDataSharingService.recordFreeSignalUsage(user.id);\r\n      setRemainingSignals(3 - signalsUsed);\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Use the sharing service to efficiently get flight data\r\n      // This will reuse data for the same route across all users\r\n      const flightData = await flightDataSharingService.getFlightData(\r\n        origin.code,\r\n        destination.code,\r\n        origin.id,\r\n        destination.id,\r\n        skyscannerService\r\n      );\r\n      \r\n      // Process the data into UI-friendly format\r\n      const deals = processFlightData(flightData, origin, destination);\r\n      \r\n      setSearchResults(deals);\r\n      \r\n      if (deals.length === 0) {\r\n        setError('No flights found for this route. Try different airports or dates.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching flights:', error);\r\n      setError('An error occurred while searching for flights. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Process raw API data into UI-friendly format\r\n  const processFlightData = (data, origin, destination) => {\r\n    if (!data || !data.itineraries || data.itineraries.length === 0) {\r\n      return [];\r\n    }\r\n    \r\n    // Sort by price\r\n    const sortedItineraries = [...data.itineraries].sort((a, b) => {\r\n      const priceA = a.price ? a.price.amount : Infinity;\r\n      const priceB = b.price ? b.price.amount : Infinity;\r\n      return priceA - priceB;\r\n    });\r\n    \r\n    // Convert to deal cards format\r\n    return sortedItineraries.slice(0, 5).map(itinerary => {\r\n      // Extract all the details\r\n      const price = itinerary.price ? itinerary.price.amount : 0;\r\n      const departureTime = itinerary.legs && itinerary.legs[0] ? \r\n        itinerary.legs[0].departure : new Date().toISOString();\r\n      const arrivalTime = itinerary.legs && itinerary.legs[0] ? \r\n        itinerary.legs[0].arrival : new Date().toISOString();\r\n      const duration = itinerary.legs && itinerary.legs[0] ? \r\n        itinerary.legs[0].durationInMinutes : 0;\r\n      const airline = itinerary.legs && itinerary.legs[0] && itinerary.legs[0].carriers ? \r\n        itinerary.legs[0].carriers.marketing[0].name : 'Unknown Airline';\r\n        \r\n      return {\r\n        id: `${origin.code}-${destination.code}-${price}-${Date.now()}`,\r\n        origin: origin.code,\r\n        originName: origin.name,\r\n        destination: destination.code,\r\n        destinationName: destination.name,\r\n        price,\r\n        departureTime,\r\n        arrivalTime,\r\n        duration,\r\n        airline,\r\n        deep_link: createDeepLink(origin.code, destination.code, departureTime)\r\n      };\r\n    });\r\n  };\r\n  \r\n  const createDeepLink = (origin, destination, departureDate) => {\r\n    const formattedDate = new Date(departureDate).toISOString().split('T')[0];\r\n    return `https://www.skyscanner.com/transport/flights/${origin}/${destination}/${formattedDate}/`;\r\n  };\r\n  \r\n  return (\r\n    <div className=\"flight-deals-view p-4 md:p-6 bg-white rounded-lg shadow-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Search Flight Deals</h2>\r\n      \r\n      {!isSubscribed && (\r\n        <div className=\"mb-4 p-3 bg-blue-50 rounded-md\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <span className=\"font-medium\">Free signals remaining: </span>\r\n              <span className={remainingSignals > 0 ? 'text-green-600' : 'text-red-600'}>\r\n                {remainingSignals}/3\r\n              </span>\r\n              {remainingSignals === 0 && (\r\n                <p className=\"text-sm text-red-600 mt-1\">\r\n                  You've used all your free signals. Subscribe for unlimited searches.\r\n                </p>\r\n              )}\r\n              {remainingSignals > 0 && (\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Free users get 3 signals total. Use them wisely!\r\n                </p>\r\n              )}\r\n            </div>\r\n            <button className=\"bg-blue-600 text-white px-4 py-1 rounded-md text-sm\">\r\n              Subscribe\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"flex flex-col md:flex-row md:space-x-4 mb-4\">\r\n        <div className=\"flex-1 mb-3 md:mb-0\">\r\n          <GlobalAirportSelector\r\n            label=\"From\"\r\n            value={origin}\r\n            onChange={setOrigin}\r\n            placeholder=\"Any airport in the world...\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"flex-1\">\r\n          <GlobalAirportSelector\r\n            label=\"To\"\r\n            value={destination}\r\n            onChange={setDestination}\r\n            placeholder=\"Any airport in the world...\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <button\r\n        onClick={handleSearch}\r\n        disabled={isLoading || !origin || !destination || (!isSubscribed && remainingSignals === 0)}\r\n        className={`w-full p-3 rounded-md font-medium text-white\r\n          ${isLoading || !origin || !destination || (!isSubscribed && remainingSignals === 0) ? \r\n            'bg-gray-400 cursor-not-allowed' : \r\n            'bg-blue-600 hover:bg-blue-700'}`}\r\n      >\r\n        {isLoading ? 'Searching...' : \r\n         !isSubscribed && remainingSignals === 0 ? 'No Free Signals Remaining' :\r\n         'Search Flights'}\r\n      </button>\r\n      \r\n      {error && (\r\n        <div className=\"mt-4 p-3 bg-red-100 text-red-700 rounded-md\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {searchResults.length > 0 && (\r\n        <div className=\"mt-6\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Flight Deals</h3>\r\n          <div className=\"space-y-4\">\r\n            {searchResults.map(deal => (\r\n              <DealCard\r\n                key={deal.id}\r\n                deal={deal}\r\n                onSetAlert={() => {}}\r\n                onSave={() => {}}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlightDealsView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}