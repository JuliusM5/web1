{"ast":null,"code":"// src/components/TripTemplates/TemplateManager.jsx\nimport React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TemplateManager(_ref){let{trips,onUseTemplate,onClose}=_ref;const[savedTemplates,setSavedTemplates]=useState([]);const[newTemplateName,setNewTemplateName]=useState('');const[selectedTripId,setSelectedTripId]=useState('');const[saveError,setSaveError]=useState('');const[activeTab,setActiveTab]=useState('use');// 'use' or 'save'\nconst[templateDescription,setTemplateDescription]=useState('');// Load templates from localStorage on component mount\nuseEffect(()=>{const templates=localStorage.getItem('tripTemplates');if(templates){setSavedTemplates(JSON.parse(templates));}else{// If no templates found, add some default templates\nconst defaultTemplates=[{id:'weekend-getaway',name:'Weekend Getaway',description:'A quick 2-3 day trip with minimal planning, perfect for nearby destinations.',createdAt:new Date().toISOString(),data:{duration:3,budgetCategories:{accommodation:300,food:200,transportation:100,activities:150,other:50},tasks:[{text:'Book accommodation',category:'preparation',priority:'high'},{text:'Plan transportation',category:'preparation',priority:'high'},{text:'Pack clothes',category:'packing',priority:'medium'},{text:'Check weather forecast',category:'preparation',priority:'low'}],transports:[],notes:[{title:'Packing checklist',text:'Clothes, toiletries, chargers, medication',category:'General'}]}},{id:'one-week-vacation',name:'One Week Vacation',description:'A standard 7-day trip with typical vacation activities and budget allocation.',createdAt:new Date().toISOString(),data:{duration:7,budgetCategories:{accommodation:800,food:500,transportation:400,activities:300,other:200},tasks:[{text:'Research destination',category:'preparation',priority:'high'},{text:'Book flights',category:'booking',priority:'high'},{text:'Book accommodation',category:'booking',priority:'high'},{text:'Plan daily activities',category:'preparation',priority:'medium'},{text:'Pack clothes',category:'packing',priority:'medium'},{text:'Exchange currency',category:'preparation',priority:'medium'},{text:'Check travel documents',category:'preparation',priority:'high'}],transports:[],notes:[{title:'Important documents',text:'Passport, ID, travel insurance',category:'General'},{title:'Accommodation details',text:'Check-in information, address, contact',category:'Accommodation'}]}},{id:'two-week-international',name:'Two Week International Trip',description:'A comprehensive template for longer international vacations with detailed planning.',createdAt:new Date().toISOString(),data:{duration:14,budgetCategories:{accommodation:1800,food:1000,transportation:1200,activities:800,other:500},tasks:[{text:'Check passport validity',category:'preparation',priority:'high'},{text:'Research visa requirements',category:'preparation',priority:'high'},{text:'Book flights',category:'booking',priority:'high'},{text:'Book accommodation',category:'booking',priority:'high'},{text:'Purchase travel insurance',category:'preparation',priority:'high'},{text:'Research local customs and etiquette',category:'preparation',priority:'medium'},{text:'Learn basic local phrases',category:'preparation',priority:'medium'},{text:'Plan daily activities',category:'preparation',priority:'medium'},{text:'Notify bank of travel plans',category:'preparation',priority:'medium'},{text:'Arrange for pet/plant care',category:'preparation',priority:'medium'},{text:'Pack clothes',category:'packing',priority:'medium'},{text:'Pack essential medications',category:'packing',priority:'high'}],transports:[],notes:[{title:'Important documents',text:'Passport, visa, ID, travel insurance, itinerary',category:'General'},{title:'Emergency contacts',text:'Local embassy, insurance hotline, family contact',category:'General'},{title:'Local transportation',text:'Research public transport options, taxi services',category:'Transportation'}]}},{id:'business-trip',name:'Business Trip',description:'A focused template for work-related travel with emphasis on productivity and convenience.',createdAt:new Date().toISOString(),data:{duration:4,budgetCategories:{accommodation:600,food:300,transportation:500,activities:100,other:200},tasks:[{text:'Book flights',category:'booking',priority:'high'},{text:'Book accommodation near meeting location',category:'booking',priority:'high'},{text:'Prepare meeting materials',category:'preparation',priority:'high'},{text:'Check tech equipment',category:'preparation',priority:'high'},{text:'Pack business attire',category:'packing',priority:'high'},{text:'Arrange airport transfers',category:'transportation',priority:'medium'},{text:'Prepare expense tracking',category:'preparation',priority:'medium'}],transports:[],notes:[{title:'Meeting schedule',text:'Time, location, attendees, agenda',category:'General'},{title:'Client/Contact information',text:'Names, roles, contact details',category:'General'},{title:'Expense policy',text:'Reimbursement rules, per diem rates, receipt requirements',category:'General'}]}}];setSavedTemplates(defaultTemplates);localStorage.setItem('tripTemplates',JSON.stringify(defaultTemplates));}},[]);// Save templates to localStorage when they change\nuseEffect(()=>{localStorage.setItem('tripTemplates',JSON.stringify(savedTemplates));},[savedTemplates]);// Handle saving a new template\nconst handleSaveTemplate=()=>{if(!newTemplateName.trim()){setSaveError('Please enter a template name');return;}if(!selectedTripId){setSaveError('Please select a trip to save as template');return;}// Find the selected trip\nconst selectedTrip=trips.find(trip=>trip.id.toString()===selectedTripId.toString());if(!selectedTrip){setSaveError('Selected trip not found');return;}// Create a new template\nconst newTemplate={id:`template-${Date.now()}`,name:newTemplateName.trim(),description:templateDescription.trim()||`Template based on trip to ${selectedTrip.destination}`,createdAt:new Date().toISOString(),data:{// Include only reusable data (not destination-specific)\nduration:calculateDuration(selectedTrip.startDate,selectedTrip.endDate),budgetCategories:selectedTrip.budgetBreakdown||{accommodation:0,food:0,transportation:0,activities:0,other:0},tasks:selectedTrip.tasks||[],transports:(selectedTrip.transports||[]).map(t=>({...t,from:'[From]',// Replace with generic placeholders\nto:'[To]'})),notes:selectedTrip.notes||[],externalServices:(selectedTrip.externalServices||[]).map(s=>({...s,url:s.type==='Weather'?'weather.service':s.type==='Map'?'maps.service':s.type==='Translation'?'translate.service':'service.url'}))}};// Add to saved templates\nsetSavedTemplates([...savedTemplates,newTemplate]);// Reset form\nsetNewTemplateName('');setSelectedTripId('');setTemplateDescription('');setSaveError('');};// Handle using a template\nconst handleUseTemplate=template=>{if(onUseTemplate){onUseTemplate(template);}};// Handle deleting a template\nconst handleDeleteTemplate=templateId=>{setSavedTemplates(savedTemplates.filter(template=>template.id!==templateId));};// Calculate trip duration helper\nconst calculateDuration=(startDate,endDate)=>{if(!startDate||!endDate)return 0;const start=new Date(startDate);const end=new Date(endDate);const diff=Math.abs(end-start);return Math.ceil(diff/(1000*60*60*24));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-blue-600 text-white rounded-t-lg flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Trip Templates\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-white hover:text-gray-200\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:`py-2 font-medium border-b-2 ${activeTab==='use'?'text-blue-600 border-blue-600':'text-gray-500 border-transparent'}`,onClick:()=>setActiveTab('use'),children:\"Use Template\"}),/*#__PURE__*/_jsx(\"button\",{className:`py-2 font-medium border-b-2 ${activeTab==='save'?'text-blue-600 border-blue-600':'text-gray-500 border-transparent'}`,onClick:()=>setActiveTab('save'),children:\"Save as Template\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-y-auto flex-grow p-4\",children:[activeTab==='use'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Select a template to start a new trip with predefined settings, tasks, and budget allocations.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:savedTemplates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 relative hover:shadow-md\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTemplate(template.id),className:\"absolute top-2 right-2 text-red-500 hover:text-red-700\",title:\"Delete template\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-1\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3\",children:template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Duration:\"}),\" \",template.data.duration,\" days\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Budget:\"}),\" $\",Object.values(template.data.budgetCategories).reduce((sum,val)=>sum+val,0)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Tasks:\"}),\" \",template.data.tasks.length,\" tasks\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Notes:\"}),\" \",template.data.notes.length,\" notes\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUseTemplate(template),className:\"mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full\",children:\"Use This Template\"})]},template.id))}),savedTemplates.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No templates saved yet. Create your first template from an existing trip.\"})})]}),activeTab==='save'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Save one of your existing trips as a reusable template.\"}),trips.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 bg-yellow-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-700\",children:\"You need to create a trip before you can save it as a template.\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Template Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTemplateName,onChange:e=>setNewTemplateName(e.target.value),placeholder:\"E.g., Weekend Getaway, Business Trip, Family Vacation\",className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Template Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:templateDescription,onChange:e=>setTemplateDescription(e.target.value),placeholder:\"Describe what this template is good for\",className:\"w-full p-2 border border-gray-300 rounded h-20\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Select Trip to Save as Template\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTripId,onChange:e=>setSelectedTripId(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a trip\"}),trips.map(trip=>/*#__PURE__*/_jsxs(\"option\",{value:trip.id,children:[trip.destination,\" (\",trip.startDate,\" to \",trip.endDate,\")\"]},trip.id))]})]}),saveError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm\",children:saveError}),selectedTripId&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"Template Preview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"The following elements will be saved in your template:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm list-disc pl-5 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Trip duration\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Budget categories and amounts\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Task list (with generic descriptions)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Notes (with generic content)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"External service types\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Destination-specific information will be generalized.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveTemplate,disabled:!newTemplateName||!selectedTripId,className:`px-4 py-2 rounded ${!newTemplateName||!selectedTripId?'bg-gray-300 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'}`,children:\"Save as Template\"})})]})]})]})]})});}export default TemplateManager;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TemplateManager","_ref","trips","onUseTemplate","onClose","savedTemplates","setSavedTemplates","newTemplateName","setNewTemplateName","selectedTripId","setSelectedTripId","saveError","setSaveError","activeTab","setActiveTab","templateDescription","setTemplateDescription","templates","localStorage","getItem","JSON","parse","defaultTemplates","id","name","description","createdAt","Date","toISOString","data","duration","budgetCategories","accommodation","food","transportation","activities","other","tasks","text","category","priority","transports","notes","title","setItem","stringify","handleSaveTemplate","trim","selectedTrip","find","trip","toString","newTemplate","now","destination","calculateDuration","startDate","endDate","budgetBreakdown","map","t","from","to","externalServices","s","url","type","handleUseTemplate","template","handleDeleteTemplate","templateId","filter","start","end","diff","Math","abs","ceil","className","children","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","Object","values","reduce","sum","val","length","value","onChange","e","target","placeholder","disabled"],"sources":["C:/Users/juliu/Desktop/web/src/components/TripTemplates/TemplateManager.jsx"],"sourcesContent":["// src/components/TripTemplates/TemplateManager.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nfunction TemplateManager({ trips, onUseTemplate, onClose }) {\r\n  const [savedTemplates, setSavedTemplates] = useState([]);\r\n  const [newTemplateName, setNewTemplateName] = useState('');\r\n  const [selectedTripId, setSelectedTripId] = useState('');\r\n  const [saveError, setSaveError] = useState('');\r\n  const [activeTab, setActiveTab] = useState('use'); // 'use' or 'save'\r\n  const [templateDescription, setTemplateDescription] = useState('');\r\n  \r\n  // Load templates from localStorage on component mount\r\n  useEffect(() => {\r\n    const templates = localStorage.getItem('tripTemplates');\r\n    if (templates) {\r\n      setSavedTemplates(JSON.parse(templates));\r\n    } else {\r\n      // If no templates found, add some default templates\r\n      const defaultTemplates = [\r\n        {\r\n          id: 'weekend-getaway',\r\n          name: 'Weekend Getaway',\r\n          description: 'A quick 2-3 day trip with minimal planning, perfect for nearby destinations.',\r\n          createdAt: new Date().toISOString(),\r\n          data: {\r\n            duration: 3,\r\n            budgetCategories: {\r\n              accommodation: 300,\r\n              food: 200,\r\n              transportation: 100,\r\n              activities: 150,\r\n              other: 50\r\n            },\r\n            tasks: [\r\n              { text: 'Book accommodation', category: 'preparation', priority: 'high' },\r\n              { text: 'Plan transportation', category: 'preparation', priority: 'high' },\r\n              { text: 'Pack clothes', category: 'packing', priority: 'medium' },\r\n              { text: 'Check weather forecast', category: 'preparation', priority: 'low' }\r\n            ],\r\n            transports: [],\r\n            notes: [\r\n              { title: 'Packing checklist', text: 'Clothes, toiletries, chargers, medication', category: 'General' }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          id: 'one-week-vacation',\r\n          name: 'One Week Vacation',\r\n          description: 'A standard 7-day trip with typical vacation activities and budget allocation.',\r\n          createdAt: new Date().toISOString(),\r\n          data: {\r\n            duration: 7,\r\n            budgetCategories: {\r\n              accommodation: 800,\r\n              food: 500,\r\n              transportation: 400,\r\n              activities: 300,\r\n              other: 200\r\n            },\r\n            tasks: [\r\n              { text: 'Research destination', category: 'preparation', priority: 'high' },\r\n              { text: 'Book flights', category: 'booking', priority: 'high' },\r\n              { text: 'Book accommodation', category: 'booking', priority: 'high' },\r\n              { text: 'Plan daily activities', category: 'preparation', priority: 'medium' },\r\n              { text: 'Pack clothes', category: 'packing', priority: 'medium' },\r\n              { text: 'Exchange currency', category: 'preparation', priority: 'medium' },\r\n              { text: 'Check travel documents', category: 'preparation', priority: 'high' }\r\n            ],\r\n            transports: [],\r\n            notes: [\r\n              { title: 'Important documents', text: 'Passport, ID, travel insurance', category: 'General' },\r\n              { title: 'Accommodation details', text: 'Check-in information, address, contact', category: 'Accommodation' }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          id: 'two-week-international',\r\n          name: 'Two Week International Trip',\r\n          description: 'A comprehensive template for longer international vacations with detailed planning.',\r\n          createdAt: new Date().toISOString(),\r\n          data: {\r\n            duration: 14,\r\n            budgetCategories: {\r\n              accommodation: 1800,\r\n              food: 1000,\r\n              transportation: 1200,\r\n              activities: 800,\r\n              other: 500\r\n            },\r\n            tasks: [\r\n              { text: 'Check passport validity', category: 'preparation', priority: 'high' },\r\n              { text: 'Research visa requirements', category: 'preparation', priority: 'high' },\r\n              { text: 'Book flights', category: 'booking', priority: 'high' },\r\n              { text: 'Book accommodation', category: 'booking', priority: 'high' },\r\n              { text: 'Purchase travel insurance', category: 'preparation', priority: 'high' },\r\n              { text: 'Research local customs and etiquette', category: 'preparation', priority: 'medium' },\r\n              { text: 'Learn basic local phrases', category: 'preparation', priority: 'medium' },\r\n              { text: 'Plan daily activities', category: 'preparation', priority: 'medium' },\r\n              { text: 'Notify bank of travel plans', category: 'preparation', priority: 'medium' },\r\n              { text: 'Arrange for pet/plant care', category: 'preparation', priority: 'medium' },\r\n              { text: 'Pack clothes', category: 'packing', priority: 'medium' },\r\n              { text: 'Pack essential medications', category: 'packing', priority: 'high' }\r\n            ],\r\n            transports: [],\r\n            notes: [\r\n              { title: 'Important documents', text: 'Passport, visa, ID, travel insurance, itinerary', category: 'General' },\r\n              { title: 'Emergency contacts', text: 'Local embassy, insurance hotline, family contact', category: 'General' },\r\n              { title: 'Local transportation', text: 'Research public transport options, taxi services', category: 'Transportation' }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          id: 'business-trip',\r\n          name: 'Business Trip',\r\n          description: 'A focused template for work-related travel with emphasis on productivity and convenience.',\r\n          createdAt: new Date().toISOString(),\r\n          data: {\r\n            duration: 4,\r\n            budgetCategories: {\r\n              accommodation: 600,\r\n              food: 300,\r\n              transportation: 500,\r\n              activities: 100,\r\n              other: 200\r\n            },\r\n            tasks: [\r\n              { text: 'Book flights', category: 'booking', priority: 'high' },\r\n              { text: 'Book accommodation near meeting location', category: 'booking', priority: 'high' },\r\n              { text: 'Prepare meeting materials', category: 'preparation', priority: 'high' },\r\n              { text: 'Check tech equipment', category: 'preparation', priority: 'high' },\r\n              { text: 'Pack business attire', category: 'packing', priority: 'high' },\r\n              { text: 'Arrange airport transfers', category: 'transportation', priority: 'medium' },\r\n              { text: 'Prepare expense tracking', category: 'preparation', priority: 'medium' }\r\n            ],\r\n            transports: [],\r\n            notes: [\r\n              { title: 'Meeting schedule', text: 'Time, location, attendees, agenda', category: 'General' },\r\n              { title: 'Client/Contact information', text: 'Names, roles, contact details', category: 'General' },\r\n              { title: 'Expense policy', text: 'Reimbursement rules, per diem rates, receipt requirements', category: 'General' }\r\n            ]\r\n          }\r\n        }\r\n      ];\r\n      \r\n      setSavedTemplates(defaultTemplates);\r\n      localStorage.setItem('tripTemplates', JSON.stringify(defaultTemplates));\r\n    }\r\n  }, []);\r\n  \r\n  // Save templates to localStorage when they change\r\n  useEffect(() => {\r\n    localStorage.setItem('tripTemplates', JSON.stringify(savedTemplates));\r\n  }, [savedTemplates]);\r\n  \r\n  // Handle saving a new template\r\n  const handleSaveTemplate = () => {\r\n    if (!newTemplateName.trim()) {\r\n      setSaveError('Please enter a template name');\r\n      return;\r\n    }\r\n    \r\n    if (!selectedTripId) {\r\n      setSaveError('Please select a trip to save as template');\r\n      return;\r\n    }\r\n    \r\n    // Find the selected trip\r\n    const selectedTrip = trips.find(trip => trip.id.toString() === selectedTripId.toString());\r\n    \r\n    if (!selectedTrip) {\r\n      setSaveError('Selected trip not found');\r\n      return;\r\n    }\r\n    \r\n    // Create a new template\r\n    const newTemplate = {\r\n      id: `template-${Date.now()}`,\r\n      name: newTemplateName.trim(),\r\n      description: templateDescription.trim() || `Template based on trip to ${selectedTrip.destination}`,\r\n      createdAt: new Date().toISOString(),\r\n      data: {\r\n        // Include only reusable data (not destination-specific)\r\n        duration: calculateDuration(selectedTrip.startDate, selectedTrip.endDate),\r\n        budgetCategories: selectedTrip.budgetBreakdown || {\r\n          accommodation: 0,\r\n          food: 0,\r\n          transportation: 0,\r\n          activities: 0,\r\n          other: 0\r\n        },\r\n        tasks: selectedTrip.tasks || [],\r\n        transports: (selectedTrip.transports || []).map(t => ({\r\n          ...t,\r\n          from: '[From]', // Replace with generic placeholders\r\n          to: '[To]'\r\n        })),\r\n        notes: selectedTrip.notes || [],\r\n        externalServices: (selectedTrip.externalServices || []).map(s => ({\r\n          ...s,\r\n          url: s.type === 'Weather' ? 'weather.service' : \r\n               s.type === 'Map' ? 'maps.service' : \r\n               s.type === 'Translation' ? 'translate.service' : \r\n               'service.url',\r\n        }))\r\n      }\r\n    };\r\n    \r\n    // Add to saved templates\r\n    setSavedTemplates([...savedTemplates, newTemplate]);\r\n    \r\n    // Reset form\r\n    setNewTemplateName('');\r\n    setSelectedTripId('');\r\n    setTemplateDescription('');\r\n    setSaveError('');\r\n  };\r\n  \r\n  // Handle using a template\r\n  const handleUseTemplate = (template) => {\r\n    if (onUseTemplate) {\r\n      onUseTemplate(template);\r\n    }\r\n  };\r\n  \r\n  // Handle deleting a template\r\n  const handleDeleteTemplate = (templateId) => {\r\n    setSavedTemplates(savedTemplates.filter(template => template.id !== templateId));\r\n  };\r\n  \r\n  // Calculate trip duration helper\r\n  const calculateDuration = (startDate, endDate) => {\r\n    if (!startDate || !endDate) return 0;\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    const diff = Math.abs(end - start);\r\n    return Math.ceil(diff / (1000 * 60 * 60 * 24));\r\n  };\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col\">\r\n        <div className=\"p-4 bg-blue-600 text-white rounded-t-lg flex justify-between items-center\">\r\n          <h2 className=\"text-xl font-semibold\">Trip Templates</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-white hover:text-gray-200\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Tab navigation */}\r\n        <div className=\"px-4 border-b border-gray-200\">\r\n          <nav className=\"flex space-x-4\">\r\n            <button\r\n              className={`py-2 font-medium border-b-2 ${activeTab === 'use' ? 'text-blue-600 border-blue-600' : 'text-gray-500 border-transparent'}`}\r\n              onClick={() => setActiveTab('use')}\r\n            >\r\n              Use Template\r\n            </button>\r\n            <button\r\n              className={`py-2 font-medium border-b-2 ${activeTab === 'save' ? 'text-blue-600 border-blue-600' : 'text-gray-500 border-transparent'}`}\r\n              onClick={() => setActiveTab('save')}\r\n            >\r\n              Save as Template\r\n            </button>\r\n          </nav>\r\n        </div>\r\n        \r\n        <div className=\"overflow-y-auto flex-grow p-4\">\r\n          {/* Use Template Tab */}\r\n          {activeTab === 'use' && (\r\n            <div>\r\n              <p className=\"text-gray-600 mb-4\">\r\n                Select a template to start a new trip with predefined settings, tasks, and budget allocations.\r\n              </p>\r\n              \r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {savedTemplates.map(template => (\r\n                  <div key={template.id} className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 relative hover:shadow-md\">\r\n                    <button\r\n                      onClick={() => handleDeleteTemplate(template.id)}\r\n                      className=\"absolute top-2 right-2 text-red-500 hover:text-red-700\"\r\n                      title=\"Delete template\"\r\n                    >\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\r\n                      </svg>\r\n                    </button>\r\n                    \r\n                    <h3 className=\"font-bold text-lg mb-1\">{template.name}</h3>\r\n                    \r\n                    <p className=\"text-gray-600 text-sm mb-3\">{template.description}</p>\r\n                    \r\n                    <div className=\"space-y-2 mb-4\">\r\n                      <div className=\"text-sm\"><span className=\"font-medium\">Duration:</span> {template.data.duration} days</div>\r\n                      \r\n                      <div className=\"text-sm\">\r\n                        <span className=\"font-medium\">Budget:</span> $\r\n                        {Object.values(template.data.budgetCategories).reduce((sum, val) => sum + val, 0)}\r\n                      </div>\r\n                      \r\n                      <div className=\"text-sm\"><span className=\"font-medium\">Tasks:</span> {template.data.tasks.length} tasks</div>\r\n                      \r\n                      <div className=\"text-sm\"><span className=\"font-medium\">Notes:</span> {template.data.notes.length} notes</div>\r\n                    </div>\r\n                    \r\n                    <button\r\n                      onClick={() => handleUseTemplate(template)}\r\n                      className=\"mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full\"\r\n                    >\r\n                      Use This Template\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              \r\n              {savedTemplates.length === 0 && (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  <p>No templates saved yet. Create your first template from an existing trip.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Save Template Tab */}\r\n          {activeTab === 'save' && (\r\n            <div>\r\n              <p className=\"text-gray-600 mb-4\">\r\n                Save one of your existing trips as a reusable template.\r\n              </p>\r\n              \r\n              {trips.length === 0 ? (\r\n                <div className=\"text-center py-8 bg-yellow-50 rounded-lg\">\r\n                  <p className=\"text-yellow-700\">You need to create a trip before you can save it as a template.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-gray-700 mb-2\">Template Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newTemplateName}\r\n                      onChange={e => setNewTemplateName(e.target.value)}\r\n                      placeholder=\"E.g., Weekend Getaway, Business Trip, Family Vacation\"\r\n                      className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-gray-700 mb-2\">Template Description</label>\r\n                    <textarea\r\n                      value={templateDescription}\r\n                      onChange={e => setTemplateDescription(e.target.value)}\r\n                      placeholder=\"Describe what this template is good for\"\r\n                      className=\"w-full p-2 border border-gray-300 rounded h-20\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-gray-700 mb-2\">Select Trip to Save as Template</label>\r\n                    <select\r\n                      value={selectedTripId}\r\n                      onChange={e => setSelectedTripId(e.target.value)}\r\n                      className=\"w-full p-2 border border-gray-300 rounded\"\r\n                    >\r\n                      <option value=\"\">Select a trip</option>\r\n                      {trips.map(trip => (\r\n                        <option key={trip.id} value={trip.id}>\r\n                          {trip.destination} ({trip.startDate} to {trip.endDate})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  {saveError && (\r\n                    <div className=\"text-red-500 text-sm\">{saveError}</div>\r\n                  )}\r\n                  \r\n                  {selectedTripId && (\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                      <h4 className=\"font-medium mb-2\">Template Preview</h4>\r\n                      \r\n                      <p className=\"text-sm text-gray-600 mb-3\">\r\n                        The following elements will be saved in your template:\r\n                      </p>\r\n                      \r\n                      <ul className=\"text-sm list-disc pl-5 space-y-1\">\r\n                        <li>Trip duration</li>\r\n                        <li>Budget categories and amounts</li>\r\n                        <li>Task list (with generic descriptions)</li>\r\n                        <li>Notes (with generic content)</li>\r\n                        <li>External service types</li>\r\n                      </ul>\r\n                      \r\n                      <p className=\"text-sm text-gray-600 mt-3\">\r\n                        <strong>Note:</strong> Destination-specific information will be generalized.\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"flex justify-end\">\r\n                    <button\r\n                      onClick={handleSaveTemplate}\r\n                      disabled={!newTemplateName || !selectedTripId}\r\n                      className={`px-4 py-2 rounded ${\r\n                        !newTemplateName || !selectedTripId\r\n                          ? 'bg-gray-300 cursor-not-allowed'\r\n                          : 'bg-blue-600 text-white hover:bg-blue-700'\r\n                      }`}\r\n                    >\r\n                      Save as Template\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TemplateManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}