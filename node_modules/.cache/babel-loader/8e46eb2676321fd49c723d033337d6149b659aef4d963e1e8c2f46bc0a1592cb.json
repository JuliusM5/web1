{"ast":null,"code":"// Import the DEFAULT_SETTINGS from SettingsContext\nimport { DEFAULT_SETTINGS } from '../context/SettingsContext';\n\n// Get current user settings (or defaults if none exist)\nexport const getUserSettings = () => {\n  try {\n    const savedSettings = localStorage.getItem('userSettings');\n    if (!savedSettings) return DEFAULT_SETTINGS;\n    const parsedSettings = JSON.parse(savedSettings);\n\n    // Ensure all expected properties exist (handles partial settings from older versions)\n    return {\n      appearance: {\n        ...DEFAULT_SETTINGS.appearance,\n        ...parsedSettings.appearance\n      },\n      preferences: {\n        ...DEFAULT_SETTINGS.preferences,\n        ...parsedSettings.preferences\n      },\n      notifications: {\n        ...DEFAULT_SETTINGS.notifications,\n        ...parsedSettings.notifications\n      },\n      privacy: {\n        ...DEFAULT_SETTINGS.privacy,\n        ...parsedSettings.privacy\n      },\n      accessibility: {\n        ...DEFAULT_SETTINGS.accessibility,\n        ...parsedSettings.accessibility\n      }\n    };\n  } catch (error) {\n    console.error(\"Error loading user settings:\", error);\n    return DEFAULT_SETTINGS;\n  }\n};\n\n// Save user settings\nexport const saveUserSettings = settings => {\n  try {\n    localStorage.setItem('userSettings', JSON.stringify(settings));\n    return true;\n  } catch (error) {\n    console.error(\"Error saving user settings:\", error);\n    return false;\n  }\n};\n\n// Apply theme settings to the document\nexport const applyThemeSettings = settings => {\n  if (!settings || !settings.appearance) {\n    console.error(\"Invalid settings object provided to applyThemeSettings\");\n    return false;\n  }\n  const {\n    fontSize,\n    colorScheme,\n    darkMode\n  } = settings.appearance;\n\n  // Apply font size\n  document.documentElement.classList.remove('text-sm', 'text-base', 'text-lg');\n  if (fontSize === 'small') {\n    document.documentElement.classList.add('text-sm');\n  } else if (fontSize === 'medium') {\n    document.documentElement.classList.add('text-base');\n  } else if (fontSize === 'large') {\n    document.documentElement.classList.add('text-lg');\n  }\n\n  // Apply color scheme\n  // Remove any existing color scheme classes\n  const colorSchemeClasses = ['theme-blue', 'theme-purple', 'theme-green', 'theme-red', 'theme-amber', 'theme-indigo'];\n  document.documentElement.classList.remove(...colorSchemeClasses);\n\n  // Add the new color scheme class\n  const themeClass = `theme-${colorScheme}`;\n  document.documentElement.classList.add(themeClass);\n\n  // Apply dark mode\n  if (darkMode) {\n    document.documentElement.classList.add('dark-mode');\n    document.body.classList.add('dark-mode');\n  } else {\n    document.documentElement.classList.remove('dark-mode');\n    document.body.classList.remove('dark-mode');\n  }\n\n  // Set a custom property to track current theme\n  document.documentElement.style.setProperty('--current-theme', colorScheme);\n  document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');\n  console.log(`Applied theme: ${colorScheme}, font size: ${fontSize}, dark mode: ${darkMode}`);\n  return true;\n};\n\n// Apply accessibility settings\nexport const applyAccessibilitySettings = settings => {\n  if (!settings || !settings.accessibility) return false;\n  const {\n    highContrast,\n    reducedMotion,\n    largerClickTargets,\n    textScaling,\n    screenReaderOptimized\n  } = settings.accessibility;\n\n  // Apply high contrast mode\n  if (highContrast) {\n    document.documentElement.classList.add('high-contrast');\n  } else {\n    document.documentElement.classList.remove('high-contrast');\n  }\n\n  // Apply reduced motion\n  if (reducedMotion) {\n    document.documentElement.classList.add('reduced-motion');\n  } else {\n    document.documentElement.classList.remove('reduced-motion');\n  }\n\n  // Apply larger click targets\n  if (largerClickTargets) {\n    document.documentElement.classList.add('larger-targets');\n  } else {\n    document.documentElement.classList.remove('larger-targets');\n  }\n\n  // Apply text scaling\n  if (textScaling && textScaling !== 100) {\n    document.documentElement.style.setProperty('--text-scale-ratio', `${textScaling / 100}`);\n    document.documentElement.classList.add('custom-text-scaling');\n  } else {\n    document.documentElement.classList.remove('custom-text-scaling');\n  }\n\n  // Apply screen reader optimizations\n  if (screenReaderOptimized) {\n    document.documentElement.setAttribute('data-screen-reader-optimized', 'true');\n  } else {\n    document.documentElement.removeAttribute('data-screen-reader-optimized');\n  }\n  return true;\n};\n\n// Format date according to user preferences\nexport const formatDate = (dateString, settings) => {\n  var _settings$preferences;\n  if (!dateString) return '';\n  const date = new Date(dateString);\n  const format = (settings === null || settings === void 0 ? void 0 : (_settings$preferences = settings.preferences) === null || _settings$preferences === void 0 ? void 0 : _settings$preferences.dateFormat) || 'MM/DD/YYYY';\n  switch (format) {\n    case 'DD/MM/YYYY':\n      return `${padZero(date.getDate())}/${padZero(date.getMonth() + 1)}/${date.getFullYear()}`;\n    case 'YYYY-MM-DD':\n      return `${date.getFullYear()}-${padZero(date.getMonth() + 1)}-${padZero(date.getDate())}`;\n    case 'MMMM D, YYYY':\n      return `${getMonthName(date.getMonth())} ${date.getDate()}, ${date.getFullYear()}`;\n    case 'D MMMM YYYY':\n      return `${date.getDate()} ${getMonthName(date.getMonth())} ${date.getFullYear()}`;\n    case 'MM/DD/YYYY':\n    default:\n      return `${padZero(date.getMonth() + 1)}/${padZero(date.getDate())}/${date.getFullYear()}`;\n  }\n};\n\n// Format currency according to user preferences\nexport const formatCurrency = (amount, settings) => {\n  var _settings$preferences2;\n  if (amount === undefined || amount === null) return '';\n  const currencyCode = (settings === null || settings === void 0 ? void 0 : (_settings$preferences2 = settings.preferences) === null || _settings$preferences2 === void 0 ? void 0 : _settings$preferences2.defaultCurrency) || 'USD';\n\n  // Simple mapping of currency codes to symbols\n  const currencySymbols = {\n    'USD': '$',\n    'EUR': '€',\n    'GBP': '£',\n    'JPY': '¥',\n    'CAD': 'CA$',\n    'AUD': 'AU$',\n    'CNY': '¥',\n    'INR': '₹'\n  };\n  const symbol = currencySymbols[currencyCode] || currencyCode;\n\n  // Format the amount with 2 decimal places (except for JPY)\n  let formattedAmount;\n  if (currencyCode === 'JPY' || currencyCode === 'CNY') {\n    formattedAmount = Math.round(amount).toLocaleString();\n  } else {\n    formattedAmount = Number(amount).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n  }\n  return `${symbol}${formattedAmount}`;\n};\n\n// Convert temperature according to user preferences\nexport const formatTemperature = (celsius, settings) => {\n  var _settings$preferences3;\n  const unit = (settings === null || settings === void 0 ? void 0 : (_settings$preferences3 = settings.preferences) === null || _settings$preferences3 === void 0 ? void 0 : _settings$preferences3.temperatureUnit) || 'fahrenheit';\n  if (unit === 'celsius') {\n    return `${Math.round(celsius)}°C`;\n  } else {\n    // Convert to Fahrenheit\n    const fahrenheit = celsius * 9 / 5 + 32;\n    return `${Math.round(fahrenheit)}°F`;\n  }\n};\n\n// Convert distance according to user preferences\nexport const formatDistance = (kilometers, settings) => {\n  var _settings$preferences4;\n  const unit = (settings === null || settings === void 0 ? void 0 : (_settings$preferences4 = settings.preferences) === null || _settings$preferences4 === void 0 ? void 0 : _settings$preferences4.distanceUnit) || 'miles';\n  if (unit === 'kilometers') {\n    return `${kilometers.toFixed(1)} km`;\n  } else {\n    // Convert to miles\n    const miles = kilometers * 0.621371;\n    return `${miles.toFixed(1)} mi`;\n  }\n};\n\n// Helper functions\nconst padZero = num => {\n  return num.toString().padStart(2, '0');\n};\nconst getMonthName = monthIndex => {\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  return months[monthIndex];\n};\n\n// Reset all app data (for privacy clear option)\nexport const clearAllAppData = () => {\n  if (window.confirm(\"Are you sure you want to clear ALL data? This will delete all your trips, templates, and settings. This action cannot be undone.\")) {\n    try {\n      localStorage.clear();\n      return true;\n    } catch (error) {\n      console.error(\"Error clearing app data:\", error);\n      return false;\n    }\n  }\n  return false;\n};\n\n// Export all user data as JSON\nexport const exportUserData = () => {\n  try {\n    const data = {\n      trips: JSON.parse(localStorage.getItem('travelPlannerTrips') || '[]'),\n      templates: JSON.parse(localStorage.getItem('tripTemplates') || '[]'),\n      settings: JSON.parse(localStorage.getItem('userSettings') || '{}')\n    };\n    const dataStr = JSON.stringify(data, null, 2);\n    const dataUri = `data:application/json;charset=utf-8,${encodeURIComponent(dataStr)}`;\n    const exportFileName = `travelease_backup_${new Date().toISOString().split('T')[0]}.json`;\n    const linkElement = document.createElement('a');\n    linkElement.setAttribute('href', dataUri);\n    linkElement.setAttribute('download', exportFileName);\n    linkElement.click();\n    return true;\n  } catch (error) {\n    console.error(\"Error exporting user data:\", error);\n    return false;\n  }\n};\n\n// Import user data from JSON file\nexport const importUserData = async file => {\n  try {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = event => {\n        try {\n          const data = JSON.parse(event.target.result);\n\n          // Validate the imported data has expected structure\n          if (!data.trips || !data.templates || !data.settings) {\n            reject(new Error(\"Invalid data format. The file does not contain valid TravelEase data.\"));\n            return;\n          }\n\n          // Import the data\n          localStorage.setItem('travelPlannerTrips', JSON.stringify(data.trips));\n          localStorage.setItem('tripTemplates', JSON.stringify(data.templates));\n          localStorage.setItem('userSettings', JSON.stringify(data.settings));\n          resolve(true);\n        } catch (error) {\n          reject(new Error(\"Failed to parse the imported file: \" + error.message));\n        }\n      };\n      reader.onerror = () => {\n        reject(new Error(\"Failed to read the file\"));\n      };\n      reader.readAsText(file);\n    });\n  } catch (error) {\n    console.error(\"Error importing user data:\", error);\n    return false;\n  }\n};","map":{"version":3,"names":["DEFAULT_SETTINGS","getUserSettings","savedSettings","localStorage","getItem","parsedSettings","JSON","parse","appearance","preferences","notifications","privacy","accessibility","error","console","saveUserSettings","settings","setItem","stringify","applyThemeSettings","fontSize","colorScheme","darkMode","document","documentElement","classList","remove","add","colorSchemeClasses","themeClass","body","style","setProperty","setAttribute","log","applyAccessibilitySettings","highContrast","reducedMotion","largerClickTargets","textScaling","screenReaderOptimized","removeAttribute","formatDate","dateString","_settings$preferences","date","Date","format","dateFormat","padZero","getDate","getMonth","getFullYear","getMonthName","formatCurrency","amount","_settings$preferences2","undefined","currencyCode","defaultCurrency","currencySymbols","symbol","formattedAmount","Math","round","toLocaleString","Number","toFixed","replace","formatTemperature","celsius","_settings$preferences3","unit","temperatureUnit","fahrenheit","formatDistance","kilometers","_settings$preferences4","distanceUnit","miles","num","toString","padStart","monthIndex","months","clearAllAppData","window","confirm","clear","exportUserData","data","trips","templates","dataStr","dataUri","encodeURIComponent","exportFileName","toISOString","split","linkElement","createElement","click","importUserData","file","Promise","resolve","reject","reader","FileReader","onload","event","target","result","Error","message","onerror","readAsText"],"sources":["C:/Users/juliu/Desktop/web/src/utils/settingsUtils.js"],"sourcesContent":["// Import the DEFAULT_SETTINGS from SettingsContext\r\nimport { DEFAULT_SETTINGS } from '../context/SettingsContext';\r\n\r\n// Get current user settings (or defaults if none exist)\r\nexport const getUserSettings = () => {\r\n  try {\r\n    const savedSettings = localStorage.getItem('userSettings');\r\n    if (!savedSettings) return DEFAULT_SETTINGS;\r\n    \r\n    const parsedSettings = JSON.parse(savedSettings);\r\n    \r\n    // Ensure all expected properties exist (handles partial settings from older versions)\r\n    return {\r\n      appearance: { ...DEFAULT_SETTINGS.appearance, ...parsedSettings.appearance },\r\n      preferences: { ...DEFAULT_SETTINGS.preferences, ...parsedSettings.preferences },\r\n      notifications: { ...DEFAULT_SETTINGS.notifications, ...parsedSettings.notifications },\r\n      privacy: { ...DEFAULT_SETTINGS.privacy, ...parsedSettings.privacy },\r\n      accessibility: { ...DEFAULT_SETTINGS.accessibility, ...parsedSettings.accessibility }\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error loading user settings:\", error);\r\n    return DEFAULT_SETTINGS;\r\n  }\r\n};\r\n\r\n// Save user settings\r\nexport const saveUserSettings = (settings) => {\r\n  try {\r\n    localStorage.setItem('userSettings', JSON.stringify(settings));\r\n    return true;\r\n  } catch (error) {\r\n    console.error(\"Error saving user settings:\", error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Apply theme settings to the document\r\nexport const applyThemeSettings = (settings) => {\r\n  if (!settings || !settings.appearance) {\r\n    console.error(\"Invalid settings object provided to applyThemeSettings\");\r\n    return false;\r\n  }\r\n  \r\n  const { fontSize, colorScheme, darkMode } = settings.appearance;\r\n  \r\n  // Apply font size\r\n  document.documentElement.classList.remove('text-sm', 'text-base', 'text-lg');\r\n  if (fontSize === 'small') {\r\n    document.documentElement.classList.add('text-sm');\r\n  } else if (fontSize === 'medium') {\r\n    document.documentElement.classList.add('text-base');\r\n  } else if (fontSize === 'large') {\r\n    document.documentElement.classList.add('text-lg');\r\n  }\r\n  \r\n  // Apply color scheme\r\n  // Remove any existing color scheme classes\r\n  const colorSchemeClasses = [\r\n    'theme-blue', 'theme-purple', 'theme-green', \r\n    'theme-red', 'theme-amber', 'theme-indigo'\r\n  ];\r\n  document.documentElement.classList.remove(...colorSchemeClasses);\r\n  \r\n  // Add the new color scheme class\r\n  const themeClass = `theme-${colorScheme}`;\r\n  document.documentElement.classList.add(themeClass);\r\n  \r\n  // Apply dark mode\r\n  if (darkMode) {\r\n    document.documentElement.classList.add('dark-mode');\r\n    document.body.classList.add('dark-mode');\r\n  } else {\r\n    document.documentElement.classList.remove('dark-mode');\r\n    document.body.classList.remove('dark-mode');\r\n  }\r\n  \r\n  // Set a custom property to track current theme\r\n  document.documentElement.style.setProperty('--current-theme', colorScheme);\r\n  document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');\r\n  \r\n  console.log(`Applied theme: ${colorScheme}, font size: ${fontSize}, dark mode: ${darkMode}`);\r\n  \r\n  return true;\r\n};\r\n\r\n// Apply accessibility settings\r\nexport const applyAccessibilitySettings = (settings) => {\r\n  if (!settings || !settings.accessibility) return false;\r\n\r\n  const { highContrast, reducedMotion, largerClickTargets, textScaling, screenReaderOptimized } = settings.accessibility;\r\n\r\n  // Apply high contrast mode\r\n  if (highContrast) {\r\n    document.documentElement.classList.add('high-contrast');\r\n  } else {\r\n    document.documentElement.classList.remove('high-contrast');\r\n  }\r\n\r\n  // Apply reduced motion\r\n  if (reducedMotion) {\r\n    document.documentElement.classList.add('reduced-motion');\r\n  } else {\r\n    document.documentElement.classList.remove('reduced-motion');\r\n  }\r\n\r\n  // Apply larger click targets\r\n  if (largerClickTargets) {\r\n    document.documentElement.classList.add('larger-targets');\r\n  } else {\r\n    document.documentElement.classList.remove('larger-targets');\r\n  }\r\n\r\n  // Apply text scaling\r\n  if (textScaling && textScaling !== 100) {\r\n    document.documentElement.style.setProperty('--text-scale-ratio', `${textScaling / 100}`);\r\n    document.documentElement.classList.add('custom-text-scaling');\r\n  } else {\r\n    document.documentElement.classList.remove('custom-text-scaling');\r\n  }\r\n\r\n  // Apply screen reader optimizations\r\n  if (screenReaderOptimized) {\r\n    document.documentElement.setAttribute('data-screen-reader-optimized', 'true');\r\n  } else {\r\n    document.documentElement.removeAttribute('data-screen-reader-optimized');\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n// Format date according to user preferences\r\nexport const formatDate = (dateString, settings) => {\r\n  if (!dateString) return '';\r\n  \r\n  const date = new Date(dateString);\r\n  const format = settings?.preferences?.dateFormat || 'MM/DD/YYYY';\r\n  \r\n  switch (format) {\r\n    case 'DD/MM/YYYY':\r\n      return `${padZero(date.getDate())}/${padZero(date.getMonth() + 1)}/${date.getFullYear()}`;\r\n    case 'YYYY-MM-DD':\r\n      return `${date.getFullYear()}-${padZero(date.getMonth() + 1)}-${padZero(date.getDate())}`;\r\n    case 'MMMM D, YYYY':\r\n      return `${getMonthName(date.getMonth())} ${date.getDate()}, ${date.getFullYear()}`;\r\n    case 'D MMMM YYYY':\r\n      return `${date.getDate()} ${getMonthName(date.getMonth())} ${date.getFullYear()}`;\r\n    case 'MM/DD/YYYY':\r\n    default:\r\n      return `${padZero(date.getMonth() + 1)}/${padZero(date.getDate())}/${date.getFullYear()}`;\r\n  }\r\n};\r\n\r\n// Format currency according to user preferences\r\nexport const formatCurrency = (amount, settings) => {\r\n  if (amount === undefined || amount === null) return '';\r\n  \r\n  const currencyCode = settings?.preferences?.defaultCurrency || 'USD';\r\n  \r\n  // Simple mapping of currency codes to symbols\r\n  const currencySymbols = {\r\n    'USD': '$',\r\n    'EUR': '€',\r\n    'GBP': '£',\r\n    'JPY': '¥',\r\n    'CAD': 'CA$',\r\n    'AUD': 'AU$',\r\n    'CNY': '¥',\r\n    'INR': '₹',\r\n  };\r\n  \r\n  const symbol = currencySymbols[currencyCode] || currencyCode;\r\n  \r\n  // Format the amount with 2 decimal places (except for JPY)\r\n  let formattedAmount;\r\n  if (currencyCode === 'JPY' || currencyCode === 'CNY') {\r\n    formattedAmount = Math.round(amount).toLocaleString();\r\n  } else {\r\n    formattedAmount = Number(amount).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n  }\r\n  \r\n  return `${symbol}${formattedAmount}`;\r\n};\r\n\r\n// Convert temperature according to user preferences\r\nexport const formatTemperature = (celsius, settings) => {\r\n  const unit = settings?.preferences?.temperatureUnit || 'fahrenheit';\r\n  \r\n  if (unit === 'celsius') {\r\n    return `${Math.round(celsius)}°C`;\r\n  } else {\r\n    // Convert to Fahrenheit\r\n    const fahrenheit = (celsius * 9/5) + 32;\r\n    return `${Math.round(fahrenheit)}°F`;\r\n  }\r\n};\r\n\r\n// Convert distance according to user preferences\r\nexport const formatDistance = (kilometers, settings) => {\r\n  const unit = settings?.preferences?.distanceUnit || 'miles';\r\n  \r\n  if (unit === 'kilometers') {\r\n    return `${kilometers.toFixed(1)} km`;\r\n  } else {\r\n    // Convert to miles\r\n    const miles = kilometers * 0.621371;\r\n    return `${miles.toFixed(1)} mi`;\r\n  }\r\n};\r\n\r\n// Helper functions\r\nconst padZero = (num) => {\r\n  return num.toString().padStart(2, '0');\r\n};\r\n\r\nconst getMonthName = (monthIndex) => {\r\n  const months = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n  return months[monthIndex];\r\n};\r\n\r\n// Reset all app data (for privacy clear option)\r\nexport const clearAllAppData = () => {\r\n  if (window.confirm(\"Are you sure you want to clear ALL data? This will delete all your trips, templates, and settings. This action cannot be undone.\")) {\r\n    try {\r\n      localStorage.clear();\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Error clearing app data:\", error);\r\n      return false;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\n// Export all user data as JSON\r\nexport const exportUserData = () => {\r\n  try {\r\n    const data = {\r\n      trips: JSON.parse(localStorage.getItem('travelPlannerTrips') || '[]'),\r\n      templates: JSON.parse(localStorage.getItem('tripTemplates') || '[]'),\r\n      settings: JSON.parse(localStorage.getItem('userSettings') || '{}')\r\n    };\r\n    \r\n    const dataStr = JSON.stringify(data, null, 2);\r\n    const dataUri = `data:application/json;charset=utf-8,${encodeURIComponent(dataStr)}`;\r\n    \r\n    const exportFileName = `travelease_backup_${new Date().toISOString().split('T')[0]}.json`;\r\n    \r\n    const linkElement = document.createElement('a');\r\n    linkElement.setAttribute('href', dataUri);\r\n    linkElement.setAttribute('download', exportFileName);\r\n    linkElement.click();\r\n    \r\n    return true;\r\n  } catch (error) {\r\n    console.error(\"Error exporting user data:\", error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Import user data from JSON file\r\nexport const importUserData = async (file) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.target.result);\r\n          \r\n          // Validate the imported data has expected structure\r\n          if (!data.trips || !data.templates || !data.settings) {\r\n            reject(new Error(\"Invalid data format. The file does not contain valid TravelEase data.\"));\r\n            return;\r\n          }\r\n          \r\n          // Import the data\r\n          localStorage.setItem('travelPlannerTrips', JSON.stringify(data.trips));\r\n          localStorage.setItem('tripTemplates', JSON.stringify(data.templates));\r\n          localStorage.setItem('userSettings', JSON.stringify(data.settings));\r\n          \r\n          resolve(true);\r\n        } catch (error) {\r\n          reject(new Error(\"Failed to parse the imported file: \" + error.message));\r\n        }\r\n      };\r\n      \r\n      reader.onerror = () => {\r\n        reject(new Error(\"Failed to read the file\"));\r\n      };\r\n      \r\n      reader.readAsText(file);\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error importing user data:\", error);\r\n    return false;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}