{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juliu\\\\Desktop\\\\web\\\\src\\\\components\\\\Subscription\\\\PremiumContentGuard.jsx\",\n  _s = $RefreshSig$();\n// src/components/Subscription/PremiumContentGuard.jsx\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSubscription } from '../../hooks/useSubscription';\n\n/**\r\n * Guards content that should only be available to premium subscribers.\r\n * Allows 'freeTripLimit' trips for free users if provided.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PremiumContentGuard = ({\n  children,\n  feature = 'premium_content',\n  freeTripLimit = 3,\n  currentTripCount = 0,\n  isTripsFeature = false\n}) => {\n  _s();\n  const {\n    isSubscribed,\n    isPremiumFeatureAvailable\n  } = useSubscription();\n\n  // Check if this is the trips feature and we need to enforce limits\n  if (isTripsFeature) {\n    // For the trips feature: \n    // - Premium users always get access\n    // - Free users get access if they're under the trip limit\n    const hasAccess = isSubscribed || currentTripCount < freeTripLimit;\n    if (!hasAccess) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"premium-content-gate\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"premium-content-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Trip Limit Reached\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"You've reached the limit of \", freeTripLimit, \" free trips.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Upgrade to Premium to create unlimited trips and access all features!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/subscription/plans\",\n            className: \"upgrade-button\",\n            children: \"View Premium Plans\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this);\n    }\n\n    // User has access, show the content\n    return children;\n  }\n\n  // For non-trips features, check if the feature is available based on subscription\n  if (!isPremiumFeatureAvailable(feature) && feature !== 'plan_trip') {\n    // This is a premium feature and user doesn't have access\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"premium-content-gate\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"premium-content-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Premium Feature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This feature is available exclusively to premium subscribers.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/subscription/plans\",\n          className: \"upgrade-button\",\n          children: \"View Premium Plans\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n  // User has access to this feature\n  return children;\n};\n_s(PremiumContentGuard, \"TcKWoXrXAUkguwg6YSXjbYZo23w=\", false, function () {\n  return [useSubscription];\n});\n_c = PremiumContentGuard;\nexport default PremiumContentGuard;\nvar _c;\n$RefreshReg$(_c, \"PremiumContentGuard\");","map":{"version":3,"names":["React","Link","useSubscription","jsxDEV","_jsxDEV","PremiumContentGuard","children","feature","freeTripLimit","currentTripCount","isTripsFeature","_s","isSubscribed","isPremiumFeatureAvailable","hasAccess","className","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["C:/Users/juliu/Desktop/web/src/components/Subscription/PremiumContentGuard.jsx"],"sourcesContent":["// src/components/Subscription/PremiumContentGuard.jsx\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSubscription } from '../../hooks/useSubscription';\r\n\r\n/**\r\n * Guards content that should only be available to premium subscribers.\r\n * Allows 'freeTripLimit' trips for free users if provided.\r\n */\r\nconst PremiumContentGuard = ({ \r\n  children, \r\n  feature = 'premium_content',\r\n  freeTripLimit = 3,\r\n  currentTripCount = 0,\r\n  isTripsFeature = false\r\n}) => {\r\n  const { isSubscribed, isPremiumFeatureAvailable } = useSubscription();\r\n  \r\n  // Check if this is the trips feature and we need to enforce limits\r\n  if (isTripsFeature) {\r\n    // For the trips feature: \r\n    // - Premium users always get access\r\n    // - Free users get access if they're under the trip limit\r\n    const hasAccess = isSubscribed || (currentTripCount < freeTripLimit);\r\n    \r\n    if (!hasAccess) {\r\n      return (\r\n        <div className=\"premium-content-gate\">\r\n          <div className=\"premium-content-message\">\r\n            <h2>Trip Limit Reached</h2>\r\n            <p>You've reached the limit of {freeTripLimit} free trips.</p>\r\n            <p>Upgrade to Premium to create unlimited trips and access all features!</p>\r\n            <Link to=\"/subscription/plans\" className=\"upgrade-button\">\r\n              View Premium Plans\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // User has access, show the content\r\n    return children;\r\n  }\r\n  \r\n  // For non-trips features, check if the feature is available based on subscription\r\n  if (!isPremiumFeatureAvailable(feature) && feature !== 'plan_trip') {\r\n    // This is a premium feature and user doesn't have access\r\n    return (\r\n      <div className=\"premium-content-gate\">\r\n        <div className=\"premium-content-message\">\r\n          <h2>Premium Feature</h2>\r\n          <p>This feature is available exclusively to premium subscribers.</p>\r\n          <Link to=\"/subscription/plans\" className=\"upgrade-button\">\r\n            View Premium Plans\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // User has access to this feature\r\n  return children;\r\n};\r\n\r\nexport default PremiumContentGuard;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,eAAe,QAAQ,6BAA6B;;AAE7D;AACA;AACA;AACA;AAHA,SAAAC,MAAA,IAAAC,OAAA;AAIA,MAAMC,mBAAmB,GAAGA,CAAC;EAC3BC,QAAQ;EACRC,OAAO,GAAG,iBAAiB;EAC3BC,aAAa,GAAG,CAAC;EACjBC,gBAAgB,GAAG,CAAC;EACpBC,cAAc,GAAG;AACnB,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IAAEC,YAAY;IAAEC;EAA0B,CAAC,GAAGX,eAAe,CAAC,CAAC;;EAErE;EACA,IAAIQ,cAAc,EAAE;IAClB;IACA;IACA;IACA,MAAMI,SAAS,GAAGF,YAAY,IAAKH,gBAAgB,GAAGD,aAAc;IAEpE,IAAI,CAACM,SAAS,EAAE;MACd,oBACEV,OAAA;QAAKW,SAAS,EAAC,sBAAsB;QAAAT,QAAA,eACnCF,OAAA;UAAKW,SAAS,EAAC,yBAAyB;UAAAT,QAAA,gBACtCF,OAAA;YAAAE,QAAA,EAAI;UAAkB;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3Bf,OAAA;YAAAE,QAAA,GAAG,8BAA4B,EAACE,aAAa,EAAC,cAAY;UAAA;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC9Df,OAAA;YAAAE,QAAA,EAAG;UAAqE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC5Ef,OAAA,CAACH,IAAI;YAACmB,EAAE,EAAC,qBAAqB;YAACL,SAAS,EAAC,gBAAgB;YAAAT,QAAA,EAAC;UAE1D;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAEV;;IAEA;IACA,OAAOb,QAAQ;EACjB;;EAEA;EACA,IAAI,CAACO,yBAAyB,CAACN,OAAO,CAAC,IAAIA,OAAO,KAAK,WAAW,EAAE;IAClE;IACA,oBACEH,OAAA;MAAKW,SAAS,EAAC,sBAAsB;MAAAT,QAAA,eACnCF,OAAA;QAAKW,SAAS,EAAC,yBAAyB;QAAAT,QAAA,gBACtCF,OAAA;UAAAE,QAAA,EAAI;QAAe;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxBf,OAAA;UAAAE,QAAA,EAAG;QAA6D;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACpEf,OAAA,CAACH,IAAI;UAACmB,EAAE,EAAC,qBAAqB;UAACL,SAAS,EAAC,gBAAgB;UAAAT,QAAA,EAAC;QAE1D;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,OAAOb,QAAQ;AACjB,CAAC;AAACK,EAAA,CArDIN,mBAAmB;EAAA,QAO6BH,eAAe;AAAA;AAAAmB,EAAA,GAP/DhB,mBAAmB;AAuDzB,eAAeA,mBAAmB;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}