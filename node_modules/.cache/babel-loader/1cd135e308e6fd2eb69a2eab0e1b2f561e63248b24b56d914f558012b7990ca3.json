{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juliu\\\\Desktop\\\\web\\\\src\\\\components\\\\TravelPlanner\\\\EnhancedTripPlanner.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Header from '../UI/Header';\nimport Dashboard from '../Dashboard/Dashboard';\nimport TripPlanner from './TripPlanner';\nimport TripsList from './TripsList';\nimport TripDetails from './TripDetails';\nimport EnhancedTripComparison from '../TripComparison/EnhancedTripComparison';\nimport destinations from '../../data/destinations';\nimport TemplateManager from '../TripTemplates/TemplateManager';\nimport TemplateSelector from '../TripTemplates/TemplateSelector';\nimport { useSettings } from '../../context/SettingsContext';\nimport InteractiveCalendar from '../Calendar/InteractiveCalendar';\nimport MobileOptimizedDashboard from '../Dashboard/MobileOptimizedDashboard';\nimport MobileOptimizedTripDetails from './MobileOptimizedTripDetails';\nimport { useDeviceDetection } from '../../utils/deviceDetection';\nimport { useI18n } from '../../utils/i18n'; // Import the i18n hook\nimport Notification from '../UI/Notification'; // Import the Notification component\nimport LoadingIndicator from '../UI/LoadingIndicator'; // Import the LoadingIndicator component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EnhancedTripPlanner({\n  showSettings,\n  onOpenSettings,\n  onCloseSettings,\n  showHeader = true,\n  view: externalView,\n  setView: setExternalView\n}) {\n  _s();\n  // Get device info for responsive design\n  const deviceInfo = useDeviceDetection();\n  const isMobile = deviceInfo.isMobile;\n\n  // Get i18n functionality\n  const {\n    t\n  } = useI18n();\n\n  // Get settings from context\n  const {\n    settings\n  } = useSettings();\n\n  // View state - use internal view state as fallback\n  const [internalView, setInternalView] = useState('dashboard');\n\n  // Use either the external view state or the internal one\n  const view = externalView !== undefined ? externalView : internalView;\n  const setView = setExternalView !== undefined ? setExternalView : setInternalView;\n  const [tab, setTab] = useState('basic');\n  const [editMode, setEditMode] = useState(false);\n  const [currentTripId, setCurrentTripId] = useState(null);\n  const [showComparison, setShowComparison] = useState(false);\n  const [showTemplateManager, setShowTemplateManager] = useState(false);\n  const [showTemplateSelector, setShowTemplateSelector] = useState(false);\n\n  // Collection state\n  const [trips, setTrips] = useState([]);\n  const [tripNotes, setTripNotes] = useState([]);\n  const [tripTasks, setTripTasks] = useState([]);\n  const [transports, setTransports] = useState([]);\n  const [photos, setPhotos] = useState([]);\n\n  // Basic trip info\n  const [destination, setDestination] = useState('');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [budget, setBudget] = useState('');\n\n  // Form state\n  const [noteTitle, setNoteTitle] = useState('');\n  const [noteText, setNoteText] = useState('');\n  const [noteCategory, setNoteCategory] = useState('Restaurant');\n  const [transportType, setTransportType] = useState('');\n  const [transportFrom, setTransportFrom] = useState('');\n  const [transportTo, setTransportTo] = useState('');\n  const [transportPrice, setTransportPrice] = useState('');\n  const [photoUrl, setPhotoUrl] = useState('');\n  const [photoCaption, setPhotoCaption] = useState('');\n\n  // External services state\n  const [externalServices, setExternalServices] = useState([]);\n  const [serviceType, setServiceType] = useState('');\n  const [serviceUrl, setServiceUrl] = useState('');\n  const [serviceNote, setServiceNote] = useState('');\n\n  // Sharing state\n  const [shareEmail, setShareEmail] = useState('');\n\n  // Budget state\n  const [budgetCategories, setBudgetCategories] = useState({\n    accommodation: 0,\n    food: 0,\n    transportation: 0,\n    activities: 0,\n    other: 0\n  });\n\n  // Selected trip for viewing/editing\n  const [selectedTrip, setSelectedTrip] = useState(null);\n\n  // Notification state\n  const [notification, setNotification] = useState({\n    visible: false,\n    message: '',\n    type: 'success'\n  });\n\n  // Loading state\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState('Loading...');\n\n  // Refs to break infinite loops\n  const loadCountRef = useRef(0);\n  const isInitialSaveRef = useRef(true);\n  const initialLoadDoneRef = useRef(false);\n\n  // Helper to show notifications\n  const showNotification = useCallback((message, type = 'success') => {\n    setNotification({\n      visible: true,\n      message,\n      type\n    });\n\n    // Auto-hide after 3 seconds\n    setTimeout(() => {\n      setNotification(prev => ({\n        ...prev,\n        visible: false\n      }));\n    }, 3000);\n  }, []);\n\n  // Initialize trips data on component mount - runs only once\n  useEffect(() => {\n    if (initialLoadDoneRef.current) return;\n    console.log(\"EnhancedTripPlanner - Initial loading of trips\");\n    const savedTrips = localStorage.getItem('travelPlannerTrips');\n    if (savedTrips) {\n      try {\n        const parsedTrips = JSON.parse(savedTrips);\n        if (parsedTrips && parsedTrips.length > 0) {\n          console.log(\"EnhancedTripPlanner - Initial load found trips:\", parsedTrips);\n          setTrips(parsedTrips);\n        }\n      } catch (error) {\n        console.error(\"Error parsing trips from localStorage on initialization:\", error);\n      }\n    }\n    initialLoadDoneRef.current = true;\n  }, []); // Empty dependency array means this runs only once on mount\n\n  // Improved loadTrips function with protection against infinite loops\n  const loadTrips = useCallback(() => {\n    // Prevent excessive loading - only allow a reasonable number of load attempts\n    if (loadCountRef.current > 3) {\n      console.log(\"EnhancedTripPlanner - Too many load attempts, skipping\");\n      return false;\n    }\n    loadCountRef.current += 1;\n    console.log(\"EnhancedTripPlanner - Loading trips from localStorage (attempt\", loadCountRef.current, \")\");\n    try {\n      const savedTrips = localStorage.getItem('travelPlannerTrips');\n      if (savedTrips) {\n        const parsedTrips = JSON.parse(savedTrips);\n        console.log(\"Loaded trips:\", parsedTrips);\n\n        // Only update state if we actually have trips\n        if (parsedTrips && parsedTrips.length > 0) {\n          setTrips(parsedTrips);\n          return true; // Signal success\n        }\n      }\n      return false; // Signal no trips found\n    } catch (error) {\n      console.error(\"Error parsing trips from localStorage:\", error);\n      return false;\n    }\n  }, []);\n\n  // Reset the load counter when view changes\n  useEffect(() => {\n    loadCountRef.current = 0;\n  }, [view]);\n\n  // Load trips when view changes to 'trips', but with protection against infinite loops\n  useEffect(() => {\n    if (view === 'trips' && loadCountRef.current < 2) {\n      loadTrips();\n    }\n  }, [view, loadTrips]);\n\n  // Fixed save trips to localStorage to prevent empty arrays from overwriting data\n  useEffect(() => {\n    // Skip the first save operation to prevent initial loop\n    if (isInitialSaveRef.current) {\n      console.log(\"EnhancedTripPlanner - Skipping initial save to prevent loop\");\n      isInitialSaveRef.current = false;\n      return;\n    }\n\n    // Only save trips to localStorage if the trips array actually contains items\n    if (trips && trips.length > 0) {\n      console.log(\"EnhancedTripPlanner - Saving trips to localStorage:\", trips);\n      localStorage.setItem('travelPlannerTrips', JSON.stringify(trips));\n    } else {\n      // Don't save empty arrays unless we explicitly want to clear data\n      console.log(\"EnhancedTripPlanner - Empty trips array, not saving to localStorage\");\n    }\n  }, [trips]);\n\n  // Log view changes for debugging\n  useEffect(() => {\n    console.log(\"View changed to:\", view);\n  }, [view]);\n\n  // Helper function to get destination info\n  function getDestinationInfo() {\n    return destinations[destination] || null;\n  }\n\n  // View trip details - defined as a memoized callback to avoid unnecessary re-renders\n  const viewTrip = useCallback(trip => {\n    console.log(\"viewTrip called in EnhancedTripPlanner for:\", trip.destination);\n    setSelectedTrip(trip);\n    setView('tripDetails');\n  }, [setView]);\n\n  // Edit trip - defined as a memoized callback\n  const editTrip = useCallback(trip => {\n    console.log(\"editTrip called for:\", trip.destination);\n    // Load trip data into form\n    setDestination(trip.destination);\n    setStartDate(trip.startDate);\n    setEndDate(trip.endDate);\n    setBudget(trip.budget);\n    if (trip.budgetBreakdown) {\n      setBudgetCategories(trip.budgetBreakdown);\n    }\n    setTripNotes(trip.notes || []);\n    setTripTasks(trip.tasks || []);\n    setTransports(trip.transports || []);\n    setPhotos(trip.photos || []);\n    setExternalServices(trip.externalServices || []);\n    setCurrentTripId(trip.id);\n    setEditMode(true);\n    setView('planner');\n    setTab('basic');\n  }, [setView, setTab]);\n\n  // Close trip details\n  const closeTrip = useCallback(() => {\n    setSelectedTrip(null);\n    setView('trips');\n  }, [setView]);\n\n  // Delete a trip\n  const deleteTrip = useCallback(id => {\n    console.log(\"Deleting trip with ID:\", id);\n    setTrips(prevTrips => {\n      const updated = prevTrips.filter(trip => trip.id !== id);\n      // Immediately update localStorage to ensure consistency\n      if (updated.length > 0) {\n        localStorage.setItem('travelPlannerTrips', JSON.stringify(updated));\n      }\n      return updated;\n    });\n    if (selectedTrip && selectedTrip.id === id) {\n      setSelectedTrip(null);\n      setView('trips');\n    }\n  }, [selectedTrip, setView]);\n\n  // Handle creating a new trip\n  const handleNewTrip = useCallback(() => {\n    console.log(\"handleNewTrip called\");\n    // Reset form state\n    setDestination('');\n    setStartDate('');\n    setEndDate('');\n    setBudget('');\n    setBudgetCategories({\n      accommodation: 0,\n      food: 0,\n      transportation: 0,\n      activities: 0,\n      other: 0\n    });\n    setTripNotes([]);\n    setTripTasks([]);\n    setTransports([]);\n    setPhotos([]);\n    setExternalServices([]);\n    setCurrentTripId(null);\n    setEditMode(false);\n\n    // Show template selector if we have templates\n    const savedTemplates = localStorage.getItem('tripTemplates');\n    if (savedTemplates && JSON.parse(savedTemplates).length > 0) {\n      setShowTemplateSelector(true);\n    } else {\n      // No templates, just go to planner\n      setView('planner');\n      setTab('basic');\n    }\n  }, [setView, setTab]);\n\n  // Compare trips\n  const compareTrips = useCallback(() => {\n    console.log(\"compareTrips called\");\n    setShowComparison(true);\n  }, []);\n\n  // Handle using a template\n  function handleUseTemplate(template) {\n    // Set trip duration\n    const today = new Date();\n    const startDate = today.toISOString().split('T')[0];\n    const endDate = new Date(today);\n    endDate.setDate(today.getDate() + template.data.duration - 1);\n    setStartDate(startDate);\n    setEndDate(endDate.toISOString().split('T')[0]);\n\n    // Set budget categories\n    setBudgetCategories(template.data.budgetCategories);\n\n    // Set total budget\n    const totalBudget = Object.values(template.data.budgetCategories).reduce((sum, val) => sum + val, 0);\n    setBudget(totalBudget);\n\n    // Set tasks\n    setTripTasks(template.data.tasks.map(task => ({\n      ...task,\n      id: Date.now() + Math.floor(Math.random() * 1000),\n      completed: false\n    })));\n\n    // Set notes\n    setTripNotes(template.data.notes.map(note => ({\n      ...note,\n      id: Date.now() + Math.floor(Math.random() * 1000)\n    })));\n\n    // Set transports\n    setTransports(template.data.transports.map(transport => ({\n      ...transport,\n      id: Date.now() + Math.floor(Math.random() * 1000)\n    })));\n\n    // Close template selector and show planner\n    setShowTemplateSelector(false);\n    setView('planner');\n    setTab('basic');\n  }\n\n  // Add a calendar event (task)\n  function handleAddCalendarEvent(eventData) {\n    const newTask = {\n      id: Date.now(),\n      text: eventData.text,\n      date: eventData.date,\n      time: eventData.time,\n      category: eventData.category,\n      priority: eventData.priority,\n      completed: false\n    };\n    setTripTasks([...tripTasks, newTask]);\n  }\n\n  // Update a calendar event (task)\n  function handleUpdateCalendarEvent(eventData) {\n    setTripTasks(tripTasks.map(task => task.id === eventData.id ? {\n      ...task,\n      ...eventData\n    } : task));\n  }\n\n  // Delete a calendar event (task)\n  function handleDeleteCalendarEvent(eventId) {\n    setTripTasks(tripTasks.filter(task => task.id !== eventId));\n  }\n\n  // Method to handle successful trip saving - improved to ensure data consistency\n  const handleTripSaved = useCallback((trip, isEdit) => {\n    // Show loading indicator\n    setIsLoading(true);\n    setLoadingMessage(`${isEdit ? 'Updating' : 'Saving'} trip to ${trip.destination}...`);\n\n    // Short timeout to allow UI to update\n    setTimeout(() => {\n      // Reset load counter before loading trips\n      loadCountRef.current = 0;\n\n      // Ensure trips are updated from localStorage\n      loadTrips();\n\n      // Navigate to trips view first\n      setView('trips');\n\n      // Hide loading after navigation\n      setIsLoading(false);\n\n      // Show success notification after a slight delay\n      setTimeout(() => {\n        const actionType = isEdit ? 'updated' : 'created';\n        showNotification(`Trip to ${trip.destination} successfully ${actionType}!`, 'success');\n      }, 300);\n    }, 800); // Short delay for better UX\n  }, [loadTrips, setView, setIsLoading, setLoadingMessage, showNotification]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100\",\n    children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n      message: loadingMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 21\n    }, this), notification.visible && /*#__PURE__*/_jsxDEV(Notification, {\n      message: notification.message,\n      type: notification.type,\n      onClose: () => setNotification(prev => ({\n        ...prev,\n        visible: false\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this), showHeader && /*#__PURE__*/_jsxDEV(Header, {\n      view: view,\n      setView: setView,\n      onNewTrip: handleNewTrip,\n      onOpenSettings: onOpenSettings,\n      onOpenTemplates: () => setShowTemplateManager(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4 mt-6\",\n      children: [showComparison && /*#__PURE__*/_jsxDEV(EnhancedTripComparison, {\n        trips: trips,\n        closeTripComparison: () => setShowComparison(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), showTemplateManager && /*#__PURE__*/_jsxDEV(TemplateManager, {\n        trips: trips,\n        onUseTemplate: handleUseTemplate,\n        onClose: () => setShowTemplateManager(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this), showTemplateSelector && /*#__PURE__*/_jsxDEV(TemplateSelector, {\n        onSelectTemplate: handleUseTemplate,\n        onSkip: () => {\n          setShowTemplateSelector(false);\n          setView('planner');\n          setTab('basic');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this), !showComparison && !showTemplateManager && !showTemplateSelector && view === 'dashboard' && (isMobile ? /*#__PURE__*/_jsxDEV(MobileOptimizedDashboard, {\n        trips: trips,\n        viewTrip: viewTrip,\n        onNewTrip: handleNewTrip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Dashboard, {\n        trips: trips,\n        viewTrip: viewTrip,\n        setView: setView,\n        onNewTrip: handleNewTrip,\n        userSettings: settings,\n        calendarComponent: /*#__PURE__*/_jsxDEV(InteractiveCalendar, {\n          startDate: startDate,\n          endDate: endDate,\n          events: tripTasks,\n          onDateClick: () => {},\n          onAddEvent: handleAddCalendarEvent,\n          onUpdateEvent: handleUpdateCalendarEvent,\n          onDeleteEvent: handleDeleteCalendarEvent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 13\n      }, this)), !showComparison && !showTemplateManager && !showTemplateSelector && view === 'planner' && /*#__PURE__*/_jsxDEV(TripPlanner, {\n        tab: tab,\n        setTab: setTab,\n        editMode: editMode,\n        setEditMode: setEditMode,\n        currentTripId: currentTripId,\n        setCurrentTripId: setCurrentTripId,\n        destination: destination,\n        setDestination: setDestination,\n        startDate: startDate,\n        setStartDate: setStartDate,\n        endDate: endDate,\n        setEndDate: setEndDate,\n        budget: budget,\n        setBudget: setBudget,\n        budgetCategories: budgetCategories,\n        setBudgetCategories: setBudgetCategories,\n        tripNotes: tripNotes,\n        setTripNotes: setTripNotes,\n        tripTasks: tripTasks,\n        setTripTasks: setTripTasks,\n        transports: transports,\n        setTransports: setTransports,\n        photos: photos,\n        setPhotos: setPhotos,\n        externalServices: externalServices,\n        setExternalServices: setExternalServices,\n        noteTitle: noteTitle,\n        setNoteTitle: setNoteTitle,\n        noteText: noteText,\n        setNoteText: setNoteText,\n        noteCategory: noteCategory,\n        setNoteCategory: setNoteCategory,\n        transportType: transportType,\n        setTransportType: setTransportType,\n        transportFrom: transportFrom,\n        setTransportFrom: setTransportFrom,\n        transportTo: transportTo,\n        setTransportTo: setTransportTo,\n        transportPrice: transportPrice,\n        setTransportPrice: setTransportPrice,\n        photoUrl: photoUrl,\n        setPhotoUrl: setPhotoUrl,\n        photoCaption: photoCaption,\n        setPhotoCaption: setPhotoCaption,\n        serviceType: serviceType,\n        setServiceType: setServiceType,\n        serviceUrl: serviceUrl,\n        setServiceUrl: setServiceUrl,\n        serviceNote: serviceNote,\n        setServiceNote: setServiceNote,\n        getDestinationInfo: getDestinationInfo,\n        trips: trips,\n        setTrips: setTrips,\n        setView: setView,\n        onTripSaved: handleTripSaved,\n        userSettings: settings,\n        loadTrips: loadTrips // Pass the loadTrips function to TripPlanner\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 11\n      }, this), !showComparison && !showTemplateManager && !showTemplateSelector && view === 'trips' && /*#__PURE__*/_jsxDEV(TripsList, {\n        trips: trips,\n        viewTrip: viewTrip,\n        editTrip: editTrip,\n        deleteTrip: deleteTrip,\n        setView: setView,\n        compareTrips: compareTrips,\n        onNewTrip: handleNewTrip,\n        userSettings: settings,\n        loadTrips: loadTrips // Pass the loadTrips function to TripsList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 11\n      }, this), !showComparison && !showTemplateManager && !showTemplateSelector && view === 'tripDetails' && (isMobile ? selectedTrip ? /*#__PURE__*/_jsxDEV(MobileOptimizedTripDetails, {\n        trip: selectedTrip,\n        editTrip: editTrip,\n        closeTrip: closeTrip,\n        shareEmail: shareEmail,\n        setShareEmail: setShareEmail,\n        userSettings: settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center p-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 p-4 rounded-lg shadow text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-yellow-800 mb-2\",\n            children: \"No Trip Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: \"Please select a trip to view its details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('trips'),\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg\",\n            children: \"View All Trips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 15\n      }, this) : selectedTrip ? /*#__PURE__*/_jsxDEV(TripDetails, {\n        trip: selectedTrip,\n        editTrip: editTrip,\n        closeTrip: closeTrip,\n        shareEmail: shareEmail,\n        setShareEmail: setShareEmail,\n        userSettings: settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center p-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 p-4 rounded-lg shadow text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-yellow-800 mb-2\",\n            children: \"No Trip Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: \"Please select a trip to view its details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setView('trips'),\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg\",\n            children: \"View All Trips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), !isMobile && /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"bg-gray-800 text-white p-4 mt-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold\",\n            children: t('app.name')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400\",\n            children: t('app.tagline')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onOpenSettings,\n            className: \"text-gray-300 hover:text-white\",\n            children: t('nav.settings')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowTemplateManager(true),\n            className: \"text-gray-300 hover:text-white\",\n            children: t('nav.templates')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 5\n  }, this);\n}\n_s(EnhancedTripPlanner, \"aUnegPdVcSORNtMeRvnDk7TawFw=\", false, function () {\n  return [useDeviceDetection, useI18n, useSettings];\n});\n_c = EnhancedTripPlanner;\nexport default EnhancedTripPlanner;\nvar _c;\n$RefreshReg$(_c, \"EnhancedTripPlanner\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Header","Dashboard","TripPlanner","TripsList","TripDetails","EnhancedTripComparison","destinations","TemplateManager","TemplateSelector","useSettings","InteractiveCalendar","MobileOptimizedDashboard","MobileOptimizedTripDetails","useDeviceDetection","useI18n","Notification","LoadingIndicator","jsxDEV","_jsxDEV","EnhancedTripPlanner","showSettings","onOpenSettings","onCloseSettings","showHeader","view","externalView","setView","setExternalView","_s","deviceInfo","isMobile","t","settings","internalView","setInternalView","undefined","tab","setTab","editMode","setEditMode","currentTripId","setCurrentTripId","showComparison","setShowComparison","showTemplateManager","setShowTemplateManager","showTemplateSelector","setShowTemplateSelector","trips","setTrips","tripNotes","setTripNotes","tripTasks","setTripTasks","transports","setTransports","photos","setPhotos","destination","setDestination","startDate","setStartDate","endDate","setEndDate","budget","setBudget","noteTitle","setNoteTitle","noteText","setNoteText","noteCategory","setNoteCategory","transportType","setTransportType","transportFrom","setTransportFrom","transportTo","setTransportTo","transportPrice","setTransportPrice","photoUrl","setPhotoUrl","photoCaption","setPhotoCaption","externalServices","setExternalServices","serviceType","setServiceType","serviceUrl","setServiceUrl","serviceNote","setServiceNote","shareEmail","setShareEmail","budgetCategories","setBudgetCategories","accommodation","food","transportation","activities","other","selectedTrip","setSelectedTrip","notification","setNotification","visible","message","type","isLoading","setIsLoading","loadingMessage","setLoadingMessage","loadCountRef","isInitialSaveRef","initialLoadDoneRef","showNotification","setTimeout","prev","current","console","log","savedTrips","localStorage","getItem","parsedTrips","JSON","parse","length","error","loadTrips","setItem","stringify","getDestinationInfo","viewTrip","trip","editTrip","budgetBreakdown","notes","tasks","id","closeTrip","deleteTrip","prevTrips","updated","filter","handleNewTrip","savedTemplates","compareTrips","handleUseTemplate","template","today","Date","toISOString","split","setDate","getDate","data","duration","totalBudget","Object","values","reduce","sum","val","map","task","now","Math","floor","random","completed","note","transport","handleAddCalendarEvent","eventData","newTask","text","date","time","category","priority","handleUpdateCalendarEvent","handleDeleteCalendarEvent","eventId","handleTripSaved","isEdit","actionType","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClose","onNewTrip","onOpenTemplates","closeTripComparison","onUseTemplate","onSelectTemplate","onSkip","userSettings","calendarComponent","events","onDateClick","onAddEvent","onUpdateEvent","onDeleteEvent","onTripSaved","onClick","_c","$RefreshReg$"],"sources":["C:/Users/juliu/Desktop/web/src/components/TravelPlanner/EnhancedTripPlanner.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport Header from '../UI/Header';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\nimport TripPlanner from './TripPlanner';\r\nimport TripsList from './TripsList';\r\nimport TripDetails from './TripDetails';\r\nimport EnhancedTripComparison from '../TripComparison/EnhancedTripComparison';\r\nimport destinations from '../../data/destinations';\r\nimport TemplateManager from '../TripTemplates/TemplateManager';\r\nimport TemplateSelector from '../TripTemplates/TemplateSelector';\r\nimport { useSettings } from '../../context/SettingsContext';\r\nimport InteractiveCalendar from '../Calendar/InteractiveCalendar';\r\nimport MobileOptimizedDashboard from '../Dashboard/MobileOptimizedDashboard';\r\nimport MobileOptimizedTripDetails from './MobileOptimizedTripDetails';\r\nimport { useDeviceDetection } from '../../utils/deviceDetection';\r\nimport { useI18n } from '../../utils/i18n'; // Import the i18n hook\r\nimport Notification from '../UI/Notification'; // Import the Notification component\r\nimport LoadingIndicator from '../UI/LoadingIndicator'; // Import the LoadingIndicator component\r\n\r\nfunction EnhancedTripPlanner({ showSettings, onOpenSettings, onCloseSettings, showHeader = true, view: externalView, setView: setExternalView }) {\r\n  // Get device info for responsive design\r\n  const deviceInfo = useDeviceDetection();\r\n  const isMobile = deviceInfo.isMobile;\r\n  \r\n  // Get i18n functionality\r\n  const { t } = useI18n();\r\n  \r\n  // Get settings from context\r\n  const { settings } = useSettings();\r\n  \r\n  // View state - use internal view state as fallback\r\n  const [internalView, setInternalView] = useState('dashboard');\r\n  \r\n  // Use either the external view state or the internal one\r\n  const view = externalView !== undefined ? externalView : internalView;\r\n  const setView = setExternalView !== undefined ? setExternalView : setInternalView;\r\n  \r\n  const [tab, setTab] = useState('basic');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentTripId, setCurrentTripId] = useState(null);\r\n  const [showComparison, setShowComparison] = useState(false);\r\n  const [showTemplateManager, setShowTemplateManager] = useState(false);\r\n  const [showTemplateSelector, setShowTemplateSelector] = useState(false);\r\n  \r\n  // Collection state\r\n  const [trips, setTrips] = useState([]);\r\n  const [tripNotes, setTripNotes] = useState([]);\r\n  const [tripTasks, setTripTasks] = useState([]);\r\n  const [transports, setTransports] = useState([]);\r\n  const [photos, setPhotos] = useState([]);\r\n  \r\n  // Basic trip info\r\n  const [destination, setDestination] = useState('');\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [budget, setBudget] = useState('');\r\n  \r\n  // Form state\r\n  const [noteTitle, setNoteTitle] = useState('');\r\n  const [noteText, setNoteText] = useState('');\r\n  const [noteCategory, setNoteCategory] = useState('Restaurant');\r\n  \r\n  const [transportType, setTransportType] = useState('');\r\n  const [transportFrom, setTransportFrom] = useState('');\r\n  const [transportTo, setTransportTo] = useState('');\r\n  const [transportPrice, setTransportPrice] = useState('');\r\n  \r\n  const [photoUrl, setPhotoUrl] = useState('');\r\n  const [photoCaption, setPhotoCaption] = useState('');\r\n  \r\n  // External services state\r\n  const [externalServices, setExternalServices] = useState([]);\r\n  const [serviceType, setServiceType] = useState('');\r\n  const [serviceUrl, setServiceUrl] = useState('');\r\n  const [serviceNote, setServiceNote] = useState('');\r\n  \r\n  // Sharing state\r\n  const [shareEmail, setShareEmail] = useState('');\r\n  \r\n  // Budget state\r\n  const [budgetCategories, setBudgetCategories] = useState({\r\n    accommodation: 0,\r\n    food: 0,\r\n    transportation: 0,\r\n    activities: 0,\r\n    other: 0\r\n  });\r\n  \r\n  // Selected trip for viewing/editing\r\n  const [selectedTrip, setSelectedTrip] = useState(null);\r\n  \r\n  // Notification state\r\n  const [notification, setNotification] = useState({\r\n    visible: false,\r\n    message: '',\r\n    type: 'success'\r\n  });\r\n  \r\n  // Loading state\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingMessage, setLoadingMessage] = useState('Loading...');\r\n\r\n  // Refs to break infinite loops\r\n  const loadCountRef = useRef(0);\r\n  const isInitialSaveRef = useRef(true);\r\n  const initialLoadDoneRef = useRef(false);\r\n\r\n  // Helper to show notifications\r\n  const showNotification = useCallback((message, type = 'success') => {\r\n    setNotification({\r\n      visible: true,\r\n      message,\r\n      type\r\n    });\r\n    \r\n    // Auto-hide after 3 seconds\r\n    setTimeout(() => {\r\n      setNotification(prev => ({...prev, visible: false}));\r\n    }, 3000);\r\n  }, []);\r\n\r\n  // Initialize trips data on component mount - runs only once\r\n  useEffect(() => {\r\n    if (initialLoadDoneRef.current) return;\r\n    \r\n    console.log(\"EnhancedTripPlanner - Initial loading of trips\");\r\n    const savedTrips = localStorage.getItem('travelPlannerTrips');\r\n    if (savedTrips) {\r\n      try {\r\n        const parsedTrips = JSON.parse(savedTrips);\r\n        if (parsedTrips && parsedTrips.length > 0) {\r\n          console.log(\"EnhancedTripPlanner - Initial load found trips:\", parsedTrips);\r\n          setTrips(parsedTrips);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error parsing trips from localStorage on initialization:\", error);\r\n      }\r\n    }\r\n    \r\n    initialLoadDoneRef.current = true;\r\n  }, []); // Empty dependency array means this runs only once on mount\r\n\r\n  // Improved loadTrips function with protection against infinite loops\r\n  const loadTrips = useCallback(() => {\r\n    // Prevent excessive loading - only allow a reasonable number of load attempts\r\n    if (loadCountRef.current > 3) {\r\n      console.log(\"EnhancedTripPlanner - Too many load attempts, skipping\");\r\n      return false;\r\n    }\r\n    \r\n    loadCountRef.current += 1;\r\n    console.log(\"EnhancedTripPlanner - Loading trips from localStorage (attempt\", loadCountRef.current, \")\");\r\n    \r\n    try {\r\n      const savedTrips = localStorage.getItem('travelPlannerTrips');\r\n      if (savedTrips) {\r\n        const parsedTrips = JSON.parse(savedTrips);\r\n        console.log(\"Loaded trips:\", parsedTrips);\r\n        \r\n        // Only update state if we actually have trips\r\n        if (parsedTrips && parsedTrips.length > 0) {\r\n          setTrips(parsedTrips);\r\n          return true; // Signal success\r\n        }\r\n      }\r\n      return false; // Signal no trips found\r\n    } catch (error) {\r\n      console.error(\"Error parsing trips from localStorage:\", error);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  // Reset the load counter when view changes\r\n  useEffect(() => {\r\n    loadCountRef.current = 0;\r\n  }, [view]);\r\n\r\n  // Load trips when view changes to 'trips', but with protection against infinite loops\r\n  useEffect(() => {\r\n    if (view === 'trips' && loadCountRef.current < 2) {\r\n      loadTrips();\r\n    }\r\n  }, [view, loadTrips]);\r\n\r\n  // Fixed save trips to localStorage to prevent empty arrays from overwriting data\r\n  useEffect(() => {\r\n    // Skip the first save operation to prevent initial loop\r\n    if (isInitialSaveRef.current) {\r\n      console.log(\"EnhancedTripPlanner - Skipping initial save to prevent loop\");\r\n      isInitialSaveRef.current = false;\r\n      return;\r\n    }\r\n    \r\n    // Only save trips to localStorage if the trips array actually contains items\r\n    if (trips && trips.length > 0) {\r\n      console.log(\"EnhancedTripPlanner - Saving trips to localStorage:\", trips);\r\n      localStorage.setItem('travelPlannerTrips', JSON.stringify(trips));\r\n    } else {\r\n      // Don't save empty arrays unless we explicitly want to clear data\r\n      console.log(\"EnhancedTripPlanner - Empty trips array, not saving to localStorage\");\r\n    }\r\n  }, [trips]);\r\n  \r\n  // Log view changes for debugging\r\n  useEffect(() => {\r\n    console.log(\"View changed to:\", view);\r\n  }, [view]);\r\n  \r\n  // Helper function to get destination info\r\n  function getDestinationInfo() {\r\n    return destinations[destination] || null;\r\n  }\r\n  \r\n  // View trip details - defined as a memoized callback to avoid unnecessary re-renders\r\n  const viewTrip = useCallback((trip) => {\r\n    console.log(\"viewTrip called in EnhancedTripPlanner for:\", trip.destination);\r\n    setSelectedTrip(trip);\r\n    setView('tripDetails');\r\n  }, [setView]);\r\n  \r\n  // Edit trip - defined as a memoized callback\r\n  const editTrip = useCallback((trip) => {\r\n    console.log(\"editTrip called for:\", trip.destination);\r\n    // Load trip data into form\r\n    setDestination(trip.destination);\r\n    setStartDate(trip.startDate);\r\n    setEndDate(trip.endDate);\r\n    setBudget(trip.budget);\r\n    if (trip.budgetBreakdown) {\r\n      setBudgetCategories(trip.budgetBreakdown);\r\n    }\r\n    setTripNotes(trip.notes || []);\r\n    setTripTasks(trip.tasks || []);\r\n    setTransports(trip.transports || []);\r\n    setPhotos(trip.photos || []);\r\n    setExternalServices(trip.externalServices || []);\r\n    \r\n    setCurrentTripId(trip.id);\r\n    setEditMode(true);\r\n    setView('planner');\r\n    setTab('basic');\r\n  }, [setView, setTab]);\r\n  \r\n  // Close trip details\r\n  const closeTrip = useCallback(() => {\r\n    setSelectedTrip(null);\r\n    setView('trips');\r\n  }, [setView]);\r\n  \r\n  // Delete a trip\r\n  const deleteTrip = useCallback((id) => {\r\n    console.log(\"Deleting trip with ID:\", id);\r\n    setTrips(prevTrips => {\r\n      const updated = prevTrips.filter(trip => trip.id !== id);\r\n      // Immediately update localStorage to ensure consistency\r\n      if (updated.length > 0) {\r\n        localStorage.setItem('travelPlannerTrips', JSON.stringify(updated));\r\n      }\r\n      return updated;\r\n    });\r\n    \r\n    if (selectedTrip && selectedTrip.id === id) {\r\n      setSelectedTrip(null);\r\n      setView('trips');\r\n    }\r\n  }, [selectedTrip, setView]);\r\n  \r\n  // Handle creating a new trip\r\n  const handleNewTrip = useCallback(() => {\r\n    console.log(\"handleNewTrip called\");\r\n    // Reset form state\r\n    setDestination('');\r\n    setStartDate('');\r\n    setEndDate('');\r\n    setBudget('');\r\n    setBudgetCategories({\r\n      accommodation: 0,\r\n      food: 0,\r\n      transportation: 0,\r\n      activities: 0,\r\n      other: 0\r\n    });\r\n    setTripNotes([]);\r\n    setTripTasks([]);\r\n    setTransports([]);\r\n    setPhotos([]);\r\n    setExternalServices([]);\r\n    \r\n    setCurrentTripId(null);\r\n    setEditMode(false);\r\n    \r\n    // Show template selector if we have templates\r\n    const savedTemplates = localStorage.getItem('tripTemplates');\r\n    if (savedTemplates && JSON.parse(savedTemplates).length > 0) {\r\n      setShowTemplateSelector(true);\r\n    } else {\r\n      // No templates, just go to planner\r\n      setView('planner');\r\n      setTab('basic');\r\n    }\r\n  }, [setView, setTab]);\r\n\r\n  // Compare trips\r\n  const compareTrips = useCallback(() => {\r\n    console.log(\"compareTrips called\");\r\n    setShowComparison(true);\r\n  }, []);\r\n  \r\n  // Handle using a template\r\n  function handleUseTemplate(template) {\r\n    // Set trip duration\r\n    const today = new Date();\r\n    const startDate = today.toISOString().split('T')[0];\r\n    \r\n    const endDate = new Date(today);\r\n    endDate.setDate(today.getDate() + template.data.duration - 1);\r\n    \r\n    setStartDate(startDate);\r\n    setEndDate(endDate.toISOString().split('T')[0]);\r\n    \r\n    // Set budget categories\r\n    setBudgetCategories(template.data.budgetCategories);\r\n    \r\n    // Set total budget\r\n    const totalBudget = Object.values(template.data.budgetCategories).reduce((sum, val) => sum + val, 0);\r\n    setBudget(totalBudget);\r\n    \r\n    // Set tasks\r\n    setTripTasks(template.data.tasks.map(task => ({\r\n      ...task,\r\n      id: Date.now() + Math.floor(Math.random() * 1000),\r\n      completed: false\r\n    })));\r\n    \r\n    // Set notes\r\n    setTripNotes(template.data.notes.map(note => ({\r\n      ...note,\r\n      id: Date.now() + Math.floor(Math.random() * 1000)\r\n    })));\r\n    \r\n    // Set transports\r\n    setTransports(template.data.transports.map(transport => ({\r\n      ...transport,\r\n      id: Date.now() + Math.floor(Math.random() * 1000)\r\n    })));\r\n    \r\n    // Close template selector and show planner\r\n    setShowTemplateSelector(false);\r\n    setView('planner');\r\n    setTab('basic');\r\n  }\r\n  \r\n  // Add a calendar event (task)\r\n  function handleAddCalendarEvent(eventData) {\r\n    const newTask = {\r\n      id: Date.now(),\r\n      text: eventData.text,\r\n      date: eventData.date,\r\n      time: eventData.time,\r\n      category: eventData.category,\r\n      priority: eventData.priority,\r\n      completed: false\r\n    };\r\n    \r\n    setTripTasks([...tripTasks, newTask]);\r\n  }\r\n  \r\n  // Update a calendar event (task)\r\n  function handleUpdateCalendarEvent(eventData) {\r\n    setTripTasks(tripTasks.map(task => \r\n      task.id === eventData.id ? {...task, ...eventData} : task\r\n    ));\r\n  }\r\n  \r\n  // Delete a calendar event (task)\r\n  function handleDeleteCalendarEvent(eventId) {\r\n    setTripTasks(tripTasks.filter(task => task.id !== eventId));\r\n  }\r\n  \r\n  // Method to handle successful trip saving - improved to ensure data consistency\r\n  const handleTripSaved = useCallback((trip, isEdit) => {\r\n    // Show loading indicator\r\n    setIsLoading(true);\r\n    setLoadingMessage(`${isEdit ? 'Updating' : 'Saving'} trip to ${trip.destination}...`);\r\n    \r\n    // Short timeout to allow UI to update\r\n    setTimeout(() => {\r\n      // Reset load counter before loading trips\r\n      loadCountRef.current = 0;\r\n      \r\n      // Ensure trips are updated from localStorage\r\n      loadTrips();\r\n      \r\n      // Navigate to trips view first\r\n      setView('trips');\r\n      \r\n      // Hide loading after navigation\r\n      setIsLoading(false);\r\n      \r\n      // Show success notification after a slight delay\r\n      setTimeout(() => {\r\n        const actionType = isEdit ? 'updated' : 'created';\r\n        showNotification(`Trip to ${trip.destination} successfully ${actionType}!`, 'success');\r\n      }, 300);\r\n    }, 800); // Short delay for better UX\r\n  }, [loadTrips, setView, setIsLoading, setLoadingMessage, showNotification]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100\">\r\n      {/* Show loading indicator if isLoading is true */}\r\n      {isLoading && <LoadingIndicator message={loadingMessage} />}\r\n      \r\n      {/* Show notification if visible */}\r\n      {notification.visible && (\r\n        <Notification \r\n          message={notification.message}\r\n          type={notification.type}\r\n          onClose={() => setNotification(prev => ({...prev, visible: false}))}\r\n        />\r\n      )}\r\n      \r\n      {showHeader && (\r\n        <Header \r\n          view={view} \r\n          setView={setView} \r\n          onNewTrip={handleNewTrip}\r\n          onOpenSettings={onOpenSettings}\r\n          onOpenTemplates={() => setShowTemplateManager(true)}\r\n        />\r\n      )}\r\n      \r\n      <main className=\"container mx-auto p-4 mt-6\">\r\n        {showComparison && (\r\n          <EnhancedTripComparison \r\n            trips={trips}\r\n            closeTripComparison={() => setShowComparison(false)}\r\n          />\r\n        )}\r\n        \r\n        {showTemplateManager && (\r\n          <TemplateManager \r\n            trips={trips}\r\n            onUseTemplate={handleUseTemplate}\r\n            onClose={() => setShowTemplateManager(false)}\r\n          />\r\n        )}\r\n        \r\n        {showTemplateSelector && (\r\n          <TemplateSelector\r\n            onSelectTemplate={handleUseTemplate}\r\n            onSkip={() => {\r\n              setShowTemplateSelector(false);\r\n              setView('planner');\r\n              setTab('basic');\r\n            }}\r\n          />\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'dashboard' && (\r\n          isMobile ? (\r\n            <MobileOptimizedDashboard\r\n              trips={trips}\r\n              viewTrip={viewTrip}\r\n              onNewTrip={handleNewTrip}\r\n            />\r\n          ) : (\r\n            <Dashboard \r\n              trips={trips}\r\n              viewTrip={viewTrip}\r\n              setView={setView}\r\n              onNewTrip={handleNewTrip}\r\n              userSettings={settings}\r\n              calendarComponent={\r\n                <InteractiveCalendar \r\n                  startDate={startDate}\r\n                  endDate={endDate}\r\n                  events={tripTasks}\r\n                  onDateClick={() => {}}\r\n                  onAddEvent={handleAddCalendarEvent}\r\n                  onUpdateEvent={handleUpdateCalendarEvent}\r\n                  onDeleteEvent={handleDeleteCalendarEvent}\r\n                />\r\n              }\r\n            />\r\n          )\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'planner' && (\r\n          <TripPlanner \r\n            tab={tab}\r\n            setTab={setTab}\r\n            editMode={editMode}\r\n            setEditMode={setEditMode}\r\n            currentTripId={currentTripId}\r\n            setCurrentTripId={setCurrentTripId}\r\n            destination={destination}\r\n            setDestination={setDestination}\r\n            startDate={startDate}\r\n            setStartDate={setStartDate}\r\n            endDate={endDate}\r\n            setEndDate={setEndDate}\r\n            budget={budget}\r\n            setBudget={setBudget}\r\n            budgetCategories={budgetCategories}\r\n            setBudgetCategories={setBudgetCategories}\r\n            tripNotes={tripNotes}\r\n            setTripNotes={setTripNotes}\r\n            tripTasks={tripTasks}\r\n            setTripTasks={setTripTasks}\r\n            transports={transports}\r\n            setTransports={setTransports}\r\n            photos={photos}\r\n            setPhotos={setPhotos}\r\n            externalServices={externalServices}\r\n            setExternalServices={setExternalServices}\r\n            noteTitle={noteTitle}\r\n            setNoteTitle={setNoteTitle}\r\n            noteText={noteText}\r\n            setNoteText={setNoteText}\r\n            noteCategory={noteCategory}\r\n            setNoteCategory={setNoteCategory}\r\n            transportType={transportType}\r\n            setTransportType={setTransportType}\r\n            transportFrom={transportFrom}\r\n            setTransportFrom={setTransportFrom}\r\n            transportTo={transportTo}\r\n            setTransportTo={setTransportTo}\r\n            transportPrice={transportPrice}\r\n            setTransportPrice={setTransportPrice}\r\n            photoUrl={photoUrl}\r\n            setPhotoUrl={setPhotoUrl}\r\n            photoCaption={photoCaption}\r\n            setPhotoCaption={setPhotoCaption}\r\n            serviceType={serviceType}\r\n            setServiceType={setServiceType}\r\n            serviceUrl={serviceUrl}\r\n            setServiceUrl={setServiceUrl}\r\n            serviceNote={serviceNote}\r\n            setServiceNote={setServiceNote}\r\n            getDestinationInfo={getDestinationInfo}\r\n            trips={trips}\r\n            setTrips={setTrips}\r\n            setView={setView}\r\n            onTripSaved={handleTripSaved}\r\n            userSettings={settings}\r\n            loadTrips={loadTrips} // Pass the loadTrips function to TripPlanner\r\n          />\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'trips' && (\r\n          <TripsList \r\n            trips={trips}\r\n            viewTrip={viewTrip}\r\n            editTrip={editTrip}\r\n            deleteTrip={deleteTrip}\r\n            setView={setView}\r\n            compareTrips={compareTrips}\r\n            onNewTrip={handleNewTrip}\r\n            userSettings={settings}\r\n            loadTrips={loadTrips} // Pass the loadTrips function to TripsList\r\n          />\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'tripDetails' && (\r\n          isMobile ? (\r\n            selectedTrip ? (\r\n              <MobileOptimizedTripDetails\r\n                trip={selectedTrip}\r\n                editTrip={editTrip}\r\n                closeTrip={closeTrip}\r\n                shareEmail={shareEmail}\r\n                setShareEmail={setShareEmail}\r\n                userSettings={settings}\r\n              />\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center p-8\">\r\n                <div className=\"bg-yellow-50 p-4 rounded-lg shadow text-center\">\r\n                  <h2 className=\"text-xl font-semibold text-yellow-800 mb-2\">No Trip Selected</h2>\r\n                  <p className=\"text-gray-600 mb-4\">Please select a trip to view its details</p>\r\n                  <button\r\n                    onClick={() => setView('trips')}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\"\r\n                  >\r\n                    View All Trips\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )\r\n          ) : (\r\n            selectedTrip ? (\r\n              <TripDetails \r\n                trip={selectedTrip}\r\n                editTrip={editTrip}\r\n                closeTrip={closeTrip}\r\n                shareEmail={shareEmail}\r\n                setShareEmail={setShareEmail}\r\n                userSettings={settings}\r\n              />\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center p-8\">\r\n                <div className=\"bg-yellow-50 p-4 rounded-lg shadow text-center\">\r\n                  <h2 className=\"text-xl font-semibold text-yellow-800 mb-2\">No Trip Selected</h2>\r\n                  <p className=\"text-gray-600 mb-4\">Please select a trip to view its details</p>\r\n                  <button\r\n                    onClick={() => setView('trips')}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\"\r\n                  >\r\n                    View All Trips\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )\r\n          )\r\n        )}\r\n      </main>\r\n      \r\n      {/* Footer with settings shortcut */}\r\n      {!isMobile && (\r\n        <footer className=\"bg-gray-800 text-white p-4 mt-12\">\r\n          <div className=\"container mx-auto flex justify-between items-center\">\r\n            <div>\r\n              <h3 className=\"text-lg font-bold\">{t('app.name')}</h3>\r\n              <p className=\"text-sm text-gray-400\">{t('app.tagline')}</p>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={onOpenSettings}\r\n                className=\"text-gray-300 hover:text-white\"\r\n              >\r\n                {t('nav.settings')}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowTemplateManager(true)}\r\n                className=\"text-gray-300 hover:text-white\"\r\n              >\r\n                {t('nav.templates')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EnhancedTripPlanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}