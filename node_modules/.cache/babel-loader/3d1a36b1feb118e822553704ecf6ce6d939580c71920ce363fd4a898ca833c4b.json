{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'../UI/Header';import Dashboard from'../Dashboard/Dashboard';import TripPlanner from'./TripPlanner';import TripsList from'./TripsList';import TripDetails from'./TripDetails';import EnhancedTripComparison from'../TripComparison/EnhancedTripComparison';import destinations from'../../data/destinations';import TemplateManager from'../TripTemplates/TemplateManager';import TemplateSelector from'../TripTemplates/TemplateSelector';import{useSettings}from'../../context/SettingsContext';import InteractiveCalendar from'../Calendar/InteractiveCalendar';import MobileOptimizedDashboard from'../Dashboard/MobileOptimizedDashboard';import MobileOptimizedTripDetails from'./MobileOptimizedTripDetails';import{useDeviceDetection}from'../../utils/deviceDetection';import{useI18n}from'../../utils/i18n';// Import the i18n hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EnhancedTripPlanner(_ref){let{showSettings,onOpenSettings,onCloseSettings,showHeader=true,view:externalView,setView:setExternalView}=_ref;// Get device info for responsive design\nconst deviceInfo=useDeviceDetection();const isMobile=deviceInfo.isMobile;// Get i18n functionality\nconst{t}=useI18n();// Get settings from context\nconst{settings}=useSettings();// View state - use internal view state as fallback\nconst[internalView,setInternalView]=useState('dashboard');// Use either the external view state or the internal one\nconst view=externalView!==undefined?externalView:internalView;const setView=setExternalView!==undefined?setExternalView:setInternalView;const[tab,setTab]=useState('basic');const[editMode,setEditMode]=useState(false);const[currentTripId,setCurrentTripId]=useState(null);const[showComparison,setShowComparison]=useState(false);const[showTemplateManager,setShowTemplateManager]=useState(false);const[showTemplateSelector,setShowTemplateSelector]=useState(false);// Collection state\nconst[trips,setTrips]=useState([]);const[tripNotes,setTripNotes]=useState([]);const[tripTasks,setTripTasks]=useState([]);const[transports,setTransports]=useState([]);const[photos,setPhotos]=useState([]);// Basic trip info\nconst[destination,setDestination]=useState('');const[startDate,setStartDate]=useState('');const[endDate,setEndDate]=useState('');const[budget,setBudget]=useState('');// Form state\nconst[noteTitle,setNoteTitle]=useState('');const[noteText,setNoteText]=useState('');const[noteCategory,setNoteCategory]=useState('Restaurant');const[transportType,setTransportType]=useState('');const[transportFrom,setTransportFrom]=useState('');const[transportTo,setTransportTo]=useState('');const[transportPrice,setTransportPrice]=useState('');const[photoUrl,setPhotoUrl]=useState('');const[photoCaption,setPhotoCaption]=useState('');// External services state\nconst[externalServices,setExternalServices]=useState([]);const[serviceType,setServiceType]=useState('');const[serviceUrl,setServiceUrl]=useState('');const[serviceNote,setServiceNote]=useState('');// Sharing state\nconst[shareEmail,setShareEmail]=useState('');// Budget state\nconst[budgetCategories,setBudgetCategories]=useState({accommodation:0,food:0,transportation:0,activities:0,other:0});// Selected trip for viewing/editing\nconst[selectedTrip,setSelectedTrip]=useState(null);// Load trips from localStorage on component mount\nuseEffect(()=>{const savedTrips=localStorage.getItem('travelPlannerTrips');if(savedTrips){setTrips(JSON.parse(savedTrips));}},[]);// Save trips to localStorage when trips state changes\nuseEffect(()=>{localStorage.setItem('travelPlannerTrips',JSON.stringify(trips));},[trips]);// Helper function to get destination info\nfunction getDestinationInfo(){return destinations[destination]||null;}// View trip details\nfunction viewTrip(trip){setSelectedTrip(trip);setView('tripDetails');}// Edit trip\nfunction editTrip(trip){// Load trip data into form\nsetDestination(trip.destination);setStartDate(trip.startDate);setEndDate(trip.endDate);setBudget(trip.budget);if(trip.budgetBreakdown){setBudgetCategories(trip.budgetBreakdown);}setTripNotes(trip.notes||[]);setTripTasks(trip.tasks||[]);setTransports(trip.transports||[]);setPhotos(trip.photos||[]);setExternalServices(trip.externalServices||[]);setCurrentTripId(trip.id);setEditMode(true);setView('planner');setTab('basic');}// Close trip details\nfunction closeTrip(){setSelectedTrip(null);setView('trips');}// Delete a trip\nfunction deleteTrip(id){setTrips(trips.filter(trip=>trip.id!==id));if(selectedTrip&&selectedTrip.id===id){setSelectedTrip(null);setView('trips');}}// Handle creating a new trip\nfunction handleNewTrip(){// Reset form state\nsetDestination('');setStartDate('');setEndDate('');setBudget('');setBudgetCategories({accommodation:0,food:0,transportation:0,activities:0,other:0});setTripNotes([]);setTripTasks([]);setTransports([]);setPhotos([]);setExternalServices([]);setCurrentTripId(null);setEditMode(false);// Show template selector if we have templates\nconst savedTemplates=localStorage.getItem('tripTemplates');if(savedTemplates&&JSON.parse(savedTemplates).length>0){setShowTemplateSelector(true);}else{// No templates, just go to planner\nsetView('planner');setTab('basic');}}// Handle using a template\nfunction handleUseTemplate(template){// Set trip duration\nconst today=new Date();const startDate=today.toISOString().split('T')[0];const endDate=new Date(today);endDate.setDate(today.getDate()+template.data.duration-1);setStartDate(startDate);setEndDate(endDate.toISOString().split('T')[0]);// Set budget categories\nsetBudgetCategories(template.data.budgetCategories);// Set total budget\nconst totalBudget=Object.values(template.data.budgetCategories).reduce((sum,val)=>sum+val,0);setBudget(totalBudget);// Set tasks\nsetTripTasks(template.data.tasks.map(task=>({...task,id:Date.now()+Math.floor(Math.random()*1000),completed:false})));// Set notes\nsetTripNotes(template.data.notes.map(note=>({...note,id:Date.now()+Math.floor(Math.random()*1000)})));// Set transports\nsetTransports(template.data.transports.map(transport=>({...transport,id:Date.now()+Math.floor(Math.random()*1000)})));// Close template selector and show planner\nsetShowTemplateSelector(false);setView('planner');setTab('basic');}// Add a calendar event (task)\nfunction handleAddCalendarEvent(eventData){const newTask={id:Date.now(),text:eventData.text,date:eventData.date,time:eventData.time,category:eventData.category,priority:eventData.priority,completed:false};setTripTasks([...tripTasks,newTask]);}// Update a calendar event (task)\nfunction handleUpdateCalendarEvent(eventData){setTripTasks(tripTasks.map(task=>task.id===eventData.id?{...task,...eventData}:task));}// Delete a calendar event (task)\nfunction handleDeleteCalendarEvent(eventId){setTripTasks(tripTasks.filter(task=>task.id!==eventId));}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100\",children:[showHeader&&/*#__PURE__*/_jsx(Header,{view:view,setView:setView,onNewTrip:handleNewTrip,onOpenSettings:onOpenSettings,onOpenTemplates:()=>setShowTemplateManager(true)}),/*#__PURE__*/_jsxs(\"main\",{className:\"container mx-auto p-4 mt-6\",children:[showComparison&&/*#__PURE__*/_jsx(EnhancedTripComparison,{trips:trips,closeTripComparison:()=>setShowComparison(false)}),showTemplateManager&&/*#__PURE__*/_jsx(TemplateManager,{trips:trips,onUseTemplate:handleUseTemplate,onClose:()=>setShowTemplateManager(false)}),showTemplateSelector&&/*#__PURE__*/_jsx(TemplateSelector,{onSelectTemplate:handleUseTemplate,onSkip:()=>{setShowTemplateSelector(false);setView('planner');setTab('basic');}}),!showComparison&&!showTemplateManager&&!showTemplateSelector&&view==='dashboard'&&(isMobile?/*#__PURE__*/_jsx(MobileOptimizedDashboard,{trips:trips,viewTrip:viewTrip,onNewTrip:handleNewTrip}):/*#__PURE__*/_jsx(Dashboard,{trips:trips,viewTrip:viewTrip,setView:setView,onNewTrip:handleNewTrip,userSettings:settings,calendarComponent:/*#__PURE__*/_jsx(InteractiveCalendar,{startDate:startDate,endDate:endDate,events:tripTasks,onDateClick:()=>{},onAddEvent:handleAddCalendarEvent,onUpdateEvent:handleUpdateCalendarEvent,onDeleteEvent:handleDeleteCalendarEvent})})),!showComparison&&!showTemplateManager&&!showTemplateSelector&&view==='planner'&&/*#__PURE__*/_jsx(TripPlanner,{tab:tab,setTab:setTab,editMode:editMode,setEditMode:setEditMode,currentTripId:currentTripId,setCurrentTripId:setCurrentTripId,destination:destination,setDestination:setDestination,startDate:startDate,setStartDate:setStartDate,endDate:endDate,setEndDate:setEndDate,budget:budget,setBudget:setBudget,budgetCategories:budgetCategories,setBudgetCategories:setBudgetCategories,tripNotes:tripNotes,setTripNotes:setTripNotes,tripTasks:tripTasks,setTripTasks:setTripTasks,transports:transports,setTransports:setTransports,photos:photos,setPhotos:setPhotos,externalServices:externalServices,setExternalServices:setExternalServices,noteTitle:noteTitle,setNoteTitle:setNoteTitle,noteText:noteText,setNoteText:setNoteText,noteCategory:noteCategory,setNoteCategory:setNoteCategory,transportType:transportType,setTransportType:setTransportType,transportFrom:transportFrom,setTransportFrom:setTransportFrom,transportTo:transportTo,setTransportTo:setTransportTo,transportPrice:transportPrice,setTransportPrice:setTransportPrice,photoUrl:photoUrl,setPhotoUrl:setPhotoUrl,photoCaption:photoCaption,setPhotoCaption:setPhotoCaption,serviceType:serviceType,setServiceType:setServiceType,serviceUrl:serviceUrl,setServiceUrl:setServiceUrl,serviceNote:serviceNote,setServiceNote:setServiceNote,getDestinationInfo:getDestinationInfo,trips:trips,setTrips:setTrips,setView:setView,userSettings:settings}),!showComparison&&!showTemplateManager&&!showTemplateSelector&&view==='trips'&&/*#__PURE__*/_jsx(TripsList,{trips:trips,viewTrip:viewTrip,editTrip:editTrip,deleteTrip:deleteTrip,setView:setView,compareTrips:()=>setShowComparison(true),onNewTrip:handleNewTrip,userSettings:settings}),!showComparison&&!showTemplateManager&&!showTemplateSelector&&view==='tripDetails'&&(isMobile?selectedTrip?/*#__PURE__*/_jsx(MobileOptimizedTripDetails,{trip:selectedTrip,editTrip:editTrip,closeTrip:closeTrip,shareEmail:shareEmail,setShareEmail:setShareEmail,userSettings:settings}):/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg shadow text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-yellow-800 mb-2\",children:\"No Trip Selected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Please select a trip to view its details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('trips'),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg\",children:\"View All Trips\"})]})}):selectedTrip?/*#__PURE__*/_jsx(TripDetails,{trip:selectedTrip,editTrip:editTrip,closeTrip:closeTrip,shareEmail:shareEmail,setShareEmail:setShareEmail,userSettings:settings}):/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg shadow text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-yellow-800 mb-2\",children:\"No Trip Selected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Please select a trip to view its details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('trips'),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg\",children:\"View All Trips\"})]})}))]}),!isMobile&&/*#__PURE__*/_jsx(\"footer\",{className:\"bg-gray-800 text-white p-4 mt-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:t('app.name')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:t('app.tagline')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onOpenSettings,className:\"text-gray-300 hover:text-white\",children:t('nav.settings')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTemplateManager(true),className:\"text-gray-300 hover:text-white\",children:t('nav.templates')})]})]})})]});}export default EnhancedTripPlanner;","map":{"version":3,"names":["React","useState","useEffect","Header","Dashboard","TripPlanner","TripsList","TripDetails","EnhancedTripComparison","destinations","TemplateManager","TemplateSelector","useSettings","InteractiveCalendar","MobileOptimizedDashboard","MobileOptimizedTripDetails","useDeviceDetection","useI18n","jsx","_jsx","jsxs","_jsxs","EnhancedTripPlanner","_ref","showSettings","onOpenSettings","onCloseSettings","showHeader","view","externalView","setView","setExternalView","deviceInfo","isMobile","t","settings","internalView","setInternalView","undefined","tab","setTab","editMode","setEditMode","currentTripId","setCurrentTripId","showComparison","setShowComparison","showTemplateManager","setShowTemplateManager","showTemplateSelector","setShowTemplateSelector","trips","setTrips","tripNotes","setTripNotes","tripTasks","setTripTasks","transports","setTransports","photos","setPhotos","destination","setDestination","startDate","setStartDate","endDate","setEndDate","budget","setBudget","noteTitle","setNoteTitle","noteText","setNoteText","noteCategory","setNoteCategory","transportType","setTransportType","transportFrom","setTransportFrom","transportTo","setTransportTo","transportPrice","setTransportPrice","photoUrl","setPhotoUrl","photoCaption","setPhotoCaption","externalServices","setExternalServices","serviceType","setServiceType","serviceUrl","setServiceUrl","serviceNote","setServiceNote","shareEmail","setShareEmail","budgetCategories","setBudgetCategories","accommodation","food","transportation","activities","other","selectedTrip","setSelectedTrip","savedTrips","localStorage","getItem","JSON","parse","setItem","stringify","getDestinationInfo","viewTrip","trip","editTrip","budgetBreakdown","notes","tasks","id","closeTrip","deleteTrip","filter","handleNewTrip","savedTemplates","length","handleUseTemplate","template","today","Date","toISOString","split","setDate","getDate","data","duration","totalBudget","Object","values","reduce","sum","val","map","task","now","Math","floor","random","completed","note","transport","handleAddCalendarEvent","eventData","newTask","text","date","time","category","priority","handleUpdateCalendarEvent","handleDeleteCalendarEvent","eventId","className","children","onNewTrip","onOpenTemplates","closeTripComparison","onUseTemplate","onClose","onSelectTemplate","onSkip","userSettings","calendarComponent","events","onDateClick","onAddEvent","onUpdateEvent","onDeleteEvent","compareTrips","onClick"],"sources":["C:/Users/juliu/Desktop/web/src/components/TravelPlanner/EnhancedTripPlanner.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from '../UI/Header';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\nimport TripPlanner from './TripPlanner';\r\nimport TripsList from './TripsList';\r\nimport TripDetails from './TripDetails';\r\nimport EnhancedTripComparison from '../TripComparison/EnhancedTripComparison';\r\nimport destinations from '../../data/destinations';\r\nimport TemplateManager from '../TripTemplates/TemplateManager';\r\nimport TemplateSelector from '../TripTemplates/TemplateSelector';\r\nimport { useSettings } from '../../context/SettingsContext';\r\nimport InteractiveCalendar from '../Calendar/InteractiveCalendar';\r\nimport MobileOptimizedDashboard from '../Dashboard/MobileOptimizedDashboard';\r\nimport MobileOptimizedTripDetails from './MobileOptimizedTripDetails';\r\nimport { useDeviceDetection } from '../../utils/deviceDetection';\r\nimport { useI18n } from '../../utils/i18n'; // Import the i18n hook\r\n\r\nfunction EnhancedTripPlanner({ showSettings, onOpenSettings, onCloseSettings, showHeader = true, view: externalView, setView: setExternalView }) {\r\n  // Get device info for responsive design\r\n  const deviceInfo = useDeviceDetection();\r\n  const isMobile = deviceInfo.isMobile;\r\n  \r\n  // Get i18n functionality\r\n  const { t } = useI18n();\r\n  \r\n  // Get settings from context\r\n  const { settings } = useSettings();\r\n  \r\n  // View state - use internal view state as fallback\r\n  const [internalView, setInternalView] = useState('dashboard');\r\n  \r\n  // Use either the external view state or the internal one\r\n  const view = externalView !== undefined ? externalView : internalView;\r\n  const setView = setExternalView !== undefined ? setExternalView : setInternalView;\r\n  \r\n  const [tab, setTab] = useState('basic');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentTripId, setCurrentTripId] = useState(null);\r\n  const [showComparison, setShowComparison] = useState(false);\r\n  const [showTemplateManager, setShowTemplateManager] = useState(false);\r\n  const [showTemplateSelector, setShowTemplateSelector] = useState(false);\r\n  \r\n  // Collection state\r\n  const [trips, setTrips] = useState([]);\r\n  const [tripNotes, setTripNotes] = useState([]);\r\n  const [tripTasks, setTripTasks] = useState([]);\r\n  const [transports, setTransports] = useState([]);\r\n  const [photos, setPhotos] = useState([]);\r\n  \r\n  // Basic trip info\r\n  const [destination, setDestination] = useState('');\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [budget, setBudget] = useState('');\r\n  \r\n  // Form state\r\n  const [noteTitle, setNoteTitle] = useState('');\r\n  const [noteText, setNoteText] = useState('');\r\n  const [noteCategory, setNoteCategory] = useState('Restaurant');\r\n  \r\n  const [transportType, setTransportType] = useState('');\r\n  const [transportFrom, setTransportFrom] = useState('');\r\n  const [transportTo, setTransportTo] = useState('');\r\n  const [transportPrice, setTransportPrice] = useState('');\r\n  \r\n  const [photoUrl, setPhotoUrl] = useState('');\r\n  const [photoCaption, setPhotoCaption] = useState('');\r\n  \r\n  // External services state\r\n  const [externalServices, setExternalServices] = useState([]);\r\n  const [serviceType, setServiceType] = useState('');\r\n  const [serviceUrl, setServiceUrl] = useState('');\r\n  const [serviceNote, setServiceNote] = useState('');\r\n  \r\n  // Sharing state\r\n  const [shareEmail, setShareEmail] = useState('');\r\n  \r\n  // Budget state\r\n  const [budgetCategories, setBudgetCategories] = useState({\r\n    accommodation: 0,\r\n    food: 0,\r\n    transportation: 0,\r\n    activities: 0,\r\n    other: 0\r\n  });\r\n  \r\n  // Selected trip for viewing/editing\r\n  const [selectedTrip, setSelectedTrip] = useState(null);\r\n\r\n  // Load trips from localStorage on component mount\r\n  useEffect(() => {\r\n    const savedTrips = localStorage.getItem('travelPlannerTrips');\r\n    if (savedTrips) {\r\n      setTrips(JSON.parse(savedTrips));\r\n    }\r\n  }, []);\r\n\r\n  // Save trips to localStorage when trips state changes\r\n  useEffect(() => {\r\n    localStorage.setItem('travelPlannerTrips', JSON.stringify(trips));\r\n  }, [trips]);\r\n  \r\n  // Helper function to get destination info\r\n  function getDestinationInfo() {\r\n    return destinations[destination] || null;\r\n  }\r\n  \r\n  // View trip details\r\n  function viewTrip(trip) {\r\n    setSelectedTrip(trip);\r\n    setView('tripDetails');\r\n  }\r\n  \r\n  // Edit trip\r\n  function editTrip(trip) {\r\n    // Load trip data into form\r\n    setDestination(trip.destination);\r\n    setStartDate(trip.startDate);\r\n    setEndDate(trip.endDate);\r\n    setBudget(trip.budget);\r\n    if (trip.budgetBreakdown) {\r\n      setBudgetCategories(trip.budgetBreakdown);\r\n    }\r\n    setTripNotes(trip.notes || []);\r\n    setTripTasks(trip.tasks || []);\r\n    setTransports(trip.transports || []);\r\n    setPhotos(trip.photos || []);\r\n    setExternalServices(trip.externalServices || []);\r\n    \r\n    setCurrentTripId(trip.id);\r\n    setEditMode(true);\r\n    setView('planner');\r\n    setTab('basic');\r\n  }\r\n  \r\n  // Close trip details\r\n  function closeTrip() {\r\n    setSelectedTrip(null);\r\n    setView('trips');\r\n  }\r\n  \r\n  // Delete a trip\r\n  function deleteTrip(id) {\r\n    setTrips(trips.filter(trip => trip.id !== id));\r\n    if (selectedTrip && selectedTrip.id === id) {\r\n      setSelectedTrip(null);\r\n      setView('trips');\r\n    }\r\n  }\r\n  \r\n  // Handle creating a new trip\r\n  function handleNewTrip() {\r\n    // Reset form state\r\n    setDestination('');\r\n    setStartDate('');\r\n    setEndDate('');\r\n    setBudget('');\r\n    setBudgetCategories({\r\n      accommodation: 0,\r\n      food: 0,\r\n      transportation: 0,\r\n      activities: 0,\r\n      other: 0\r\n    });\r\n    setTripNotes([]);\r\n    setTripTasks([]);\r\n    setTransports([]);\r\n    setPhotos([]);\r\n    setExternalServices([]);\r\n    \r\n    setCurrentTripId(null);\r\n    setEditMode(false);\r\n    \r\n    // Show template selector if we have templates\r\n    const savedTemplates = localStorage.getItem('tripTemplates');\r\n    if (savedTemplates && JSON.parse(savedTemplates).length > 0) {\r\n      setShowTemplateSelector(true);\r\n    } else {\r\n      // No templates, just go to planner\r\n      setView('planner');\r\n      setTab('basic');\r\n    }\r\n  }\r\n  \r\n  // Handle using a template\r\n  function handleUseTemplate(template) {\r\n    // Set trip duration\r\n    const today = new Date();\r\n    const startDate = today.toISOString().split('T')[0];\r\n    \r\n    const endDate = new Date(today);\r\n    endDate.setDate(today.getDate() + template.data.duration - 1);\r\n    \r\n    setStartDate(startDate);\r\n    setEndDate(endDate.toISOString().split('T')[0]);\r\n    \r\n    // Set budget categories\r\n    setBudgetCategories(template.data.budgetCategories);\r\n    \r\n    // Set total budget\r\n    const totalBudget = Object.values(template.data.budgetCategories).reduce((sum, val) => sum + val, 0);\r\n    setBudget(totalBudget);\r\n    \r\n    // Set tasks\r\n    setTripTasks(template.data.tasks.map(task => ({\r\n      ...task,\r\n      id: Date.now() + Math.floor(Math.random() * 1000),\r\n      completed: false\r\n    })));\r\n    \r\n    // Set notes\r\n    setTripNotes(template.data.notes.map(note => ({\r\n      ...note,\r\n      id: Date.now() + Math.floor(Math.random() * 1000)\r\n    })));\r\n    \r\n    // Set transports\r\n    setTransports(template.data.transports.map(transport => ({\r\n      ...transport,\r\n      id: Date.now() + Math.floor(Math.random() * 1000)\r\n    })));\r\n    \r\n    // Close template selector and show planner\r\n    setShowTemplateSelector(false);\r\n    setView('planner');\r\n    setTab('basic');\r\n  }\r\n  \r\n  // Add a calendar event (task)\r\n  function handleAddCalendarEvent(eventData) {\r\n    const newTask = {\r\n      id: Date.now(),\r\n      text: eventData.text,\r\n      date: eventData.date,\r\n      time: eventData.time,\r\n      category: eventData.category,\r\n      priority: eventData.priority,\r\n      completed: false\r\n    };\r\n    \r\n    setTripTasks([...tripTasks, newTask]);\r\n  }\r\n  \r\n  // Update a calendar event (task)\r\n  function handleUpdateCalendarEvent(eventData) {\r\n    setTripTasks(tripTasks.map(task => \r\n      task.id === eventData.id ? {...task, ...eventData} : task\r\n    ));\r\n  }\r\n  \r\n  // Delete a calendar event (task)\r\n  function handleDeleteCalendarEvent(eventId) {\r\n    setTripTasks(tripTasks.filter(task => task.id !== eventId));\r\n  }\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100\">\r\n      {showHeader && (\r\n        <Header \r\n          view={view} \r\n          setView={setView} \r\n          onNewTrip={handleNewTrip}\r\n          onOpenSettings={onOpenSettings}\r\n          onOpenTemplates={() => setShowTemplateManager(true)}\r\n        />\r\n      )}\r\n      \r\n      <main className=\"container mx-auto p-4 mt-6\">\r\n        {showComparison && (\r\n          <EnhancedTripComparison \r\n            trips={trips}\r\n            closeTripComparison={() => setShowComparison(false)}\r\n          />\r\n        )}\r\n        \r\n        {showTemplateManager && (\r\n          <TemplateManager \r\n            trips={trips}\r\n            onUseTemplate={handleUseTemplate}\r\n            onClose={() => setShowTemplateManager(false)}\r\n          />\r\n        )}\r\n        \r\n        {showTemplateSelector && (\r\n          <TemplateSelector\r\n            onSelectTemplate={handleUseTemplate}\r\n            onSkip={() => {\r\n              setShowTemplateSelector(false);\r\n              setView('planner');\r\n              setTab('basic');\r\n            }}\r\n          />\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'dashboard' && (\r\n          isMobile ? (\r\n            <MobileOptimizedDashboard\r\n              trips={trips}\r\n              viewTrip={viewTrip}\r\n              onNewTrip={handleNewTrip}\r\n            />\r\n          ) : (\r\n            <Dashboard \r\n              trips={trips}\r\n              viewTrip={viewTrip}\r\n              setView={setView}\r\n              onNewTrip={handleNewTrip}\r\n              userSettings={settings}\r\n              calendarComponent={\r\n                <InteractiveCalendar \r\n                  startDate={startDate}\r\n                  endDate={endDate}\r\n                  events={tripTasks}\r\n                  onDateClick={() => {}}\r\n                  onAddEvent={handleAddCalendarEvent}\r\n                  onUpdateEvent={handleUpdateCalendarEvent}\r\n                  onDeleteEvent={handleDeleteCalendarEvent}\r\n                />\r\n              }\r\n            />\r\n          )\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'planner' && (\r\n          <TripPlanner \r\n            tab={tab}\r\n            setTab={setTab}\r\n            editMode={editMode}\r\n            setEditMode={setEditMode}\r\n            currentTripId={currentTripId}\r\n            setCurrentTripId={setCurrentTripId}\r\n            destination={destination}\r\n            setDestination={setDestination}\r\n            startDate={startDate}\r\n            setStartDate={setStartDate}\r\n            endDate={endDate}\r\n            setEndDate={setEndDate}\r\n            budget={budget}\r\n            setBudget={setBudget}\r\n            budgetCategories={budgetCategories}\r\n            setBudgetCategories={setBudgetCategories}\r\n            tripNotes={tripNotes}\r\n            setTripNotes={setTripNotes}\r\n            tripTasks={tripTasks}\r\n            setTripTasks={setTripTasks}\r\n            transports={transports}\r\n            setTransports={setTransports}\r\n            photos={photos}\r\n            setPhotos={setPhotos}\r\n            externalServices={externalServices}\r\n            setExternalServices={setExternalServices}\r\n            noteTitle={noteTitle}\r\n            setNoteTitle={setNoteTitle}\r\n            noteText={noteText}\r\n            setNoteText={setNoteText}\r\n            noteCategory={noteCategory}\r\n            setNoteCategory={setNoteCategory}\r\n            transportType={transportType}\r\n            setTransportType={setTransportType}\r\n            transportFrom={transportFrom}\r\n            setTransportFrom={setTransportFrom}\r\n            transportTo={transportTo}\r\n            setTransportTo={setTransportTo}\r\n            transportPrice={transportPrice}\r\n            setTransportPrice={setTransportPrice}\r\n            photoUrl={photoUrl}\r\n            setPhotoUrl={setPhotoUrl}\r\n            photoCaption={photoCaption}\r\n            setPhotoCaption={setPhotoCaption}\r\n            serviceType={serviceType}\r\n            setServiceType={setServiceType}\r\n            serviceUrl={serviceUrl}\r\n            setServiceUrl={setServiceUrl}\r\n            serviceNote={serviceNote}\r\n            setServiceNote={setServiceNote}\r\n            getDestinationInfo={getDestinationInfo}\r\n            trips={trips}\r\n            setTrips={setTrips}\r\n            setView={setView}\r\n            userSettings={settings}\r\n          />\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'trips' && (\r\n          <TripsList \r\n            trips={trips}\r\n            viewTrip={viewTrip}\r\n            editTrip={editTrip}\r\n            deleteTrip={deleteTrip}\r\n            setView={setView}\r\n            compareTrips={() => setShowComparison(true)}\r\n            onNewTrip={handleNewTrip}\r\n            userSettings={settings}\r\n          />\r\n        )}\r\n        \r\n        {!showComparison && !showTemplateManager && !showTemplateSelector && view === 'tripDetails' && (\r\n          isMobile ? (\r\n            selectedTrip ? (\r\n              <MobileOptimizedTripDetails\r\n                trip={selectedTrip}\r\n                editTrip={editTrip}\r\n                closeTrip={closeTrip}\r\n                shareEmail={shareEmail}\r\n                setShareEmail={setShareEmail}\r\n                userSettings={settings}\r\n              />\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center p-8\">\r\n                <div className=\"bg-yellow-50 p-4 rounded-lg shadow text-center\">\r\n                  <h2 className=\"text-xl font-semibold text-yellow-800 mb-2\">No Trip Selected</h2>\r\n                  <p className=\"text-gray-600 mb-4\">Please select a trip to view its details</p>\r\n                  <button\r\n                    onClick={() => setView('trips')}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\"\r\n                  >\r\n                    View All Trips\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )\r\n          ) : (\r\n            selectedTrip ? (\r\n              <TripDetails \r\n                trip={selectedTrip}\r\n                editTrip={editTrip}\r\n                closeTrip={closeTrip}\r\n                shareEmail={shareEmail}\r\n                setShareEmail={setShareEmail}\r\n                userSettings={settings}\r\n              />\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center p-8\">\r\n                <div className=\"bg-yellow-50 p-4 rounded-lg shadow text-center\">\r\n                  <h2 className=\"text-xl font-semibold text-yellow-800 mb-2\">No Trip Selected</h2>\r\n                  <p className=\"text-gray-600 mb-4\">Please select a trip to view its details</p>\r\n                  <button\r\n                    onClick={() => setView('trips')}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\"\r\n                  >\r\n                    View All Trips\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )\r\n          )\r\n        )}\r\n      </main>\r\n      \r\n      {/* Footer with settings shortcut */}\r\n      {!isMobile && (\r\n        <footer className=\"bg-gray-800 text-white p-4 mt-12\">\r\n          <div className=\"container mx-auto flex justify-between items-center\">\r\n            <div>\r\n              <h3 className=\"text-lg font-bold\">{t('app.name')}</h3>\r\n              <p className=\"text-sm text-gray-400\">{t('app.tagline')}</p>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={onOpenSettings}\r\n                className=\"text-gray-300 hover:text-white\"\r\n              >\r\n                {t('nav.settings')}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowTemplateManager(true)}\r\n                className=\"text-gray-300 hover:text-white\"\r\n              >\r\n                {t('nav.templates')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EnhancedTripPlanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}