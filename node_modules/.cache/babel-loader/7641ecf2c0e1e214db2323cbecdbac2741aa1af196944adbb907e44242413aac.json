{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juliu\\\\Desktop\\\\web\\\\src\\\\components\\\\CheapFlights\\\\FlightDealsView.jsx\",\n  _s = $RefreshSig$();\n// src/components/CheapFlights/FlightDealsView.jsx\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { SubscriptionContext } from '../../context/SubscriptionContext';\nimport GlobalAirportSelector from './GlobalAirportSelector';\nimport DealCard from './DealCard';\nimport flightDataSharingService from '../../services/flightDataSharingService';\nimport skyscannerService from '../../services/skyscannerService';\nimport AuthContext from '../../context/AuthContext';\nimport PremiumContentGuard from '../Subscription/PremiumContentGuard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightDealsView = () => {\n  _s();\n  const [origin, setOrigin] = useState(null);\n  const [destination, setDestination] = useState(null);\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    isSubscribed\n  } = useContext(SubscriptionContext);\n  const {\n    user\n  } = useContext(AuthContext); // Get current user\n  const [remainingSignals, setRemainingSignals] = useState(3);\n  const [usedSignals, setUsedSignals] = useState(0);\n\n  // Load remaining signals on component mount\n  useEffect(() => {\n    if (user) {\n      // For free users, track signal usage\n      if (!isSubscribed) {\n        const usedCount = flightDataSharingService.getUsedSignalCount(user.id);\n        setUsedSignals(usedCount);\n        setRemainingSignals(Math.max(0, 3 - usedCount));\n      } else {\n        // Subscribed users have unlimited signals\n        setRemainingSignals('âˆž');\n      }\n    }\n  }, [user, isSubscribed]);\n  const handleSearch = async () => {\n    if (!origin || !destination) {\n      setError('Please select both origin and destination airports');\n      return;\n    }\n\n    // We'll use PremiumContentGuard for access control\n    // So this function only runs if the user still has signals or is subscribed\n\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Record signal usage for free users\n      if (!isSubscribed && user) {\n        flightDataSharingService.recordSignalUsage(user.id);\n        const newUsedCount = flightDataSharingService.getUsedSignalCount(user.id);\n        setUsedSignals(newUsedCount);\n        setRemainingSignals(Math.max(0, 3 - newUsedCount));\n      }\n\n      // Use the sharing service to efficiently get flight data\n      const flightData = await flightDataSharingService.getFlightData(origin.code, destination.code, origin.id, destination.id, skyscannerService);\n\n      // Process the data into UI-friendly format\n      const deals = processFlightData(flightData, origin, destination);\n      setSearchResults(deals);\n      if (deals.length === 0) {\n        setError('No flights found for this route. Try different airports or dates.');\n      }\n    } catch (error) {\n      console.error('Error searching flights:', error);\n      setError('An error occurred while searching for flights. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Process raw API data into UI-friendly format\n  const processFlightData = (data, origin, destination) => {\n    if (!data || !data.itineraries || data.itineraries.length === 0) {\n      return [];\n    }\n\n    // Sort by price\n    const sortedItineraries = [...data.itineraries].sort((a, b) => {\n      const priceA = a.price ? a.price.amount : Infinity;\n      const priceB = b.price ? b.price.amount : Infinity;\n      return priceA - priceB;\n    });\n\n    // Convert to deal cards format\n    return sortedItineraries.slice(0, 5).map(itinerary => {\n      // Extract all the details\n      const price = itinerary.price ? itinerary.price.amount : 0;\n      const departureTime = itinerary.legs && itinerary.legs[0] ? itinerary.legs[0].departure : new Date().toISOString();\n      const arrivalTime = itinerary.legs && itinerary.legs[0] ? itinerary.legs[0].arrival : new Date().toISOString();\n      const duration = itinerary.legs && itinerary.legs[0] ? itinerary.legs[0].durationInMinutes : 0;\n      const airline = itinerary.legs && itinerary.legs[0] && itinerary.legs[0].carriers ? itinerary.legs[0].carriers.marketing[0].name : 'Unknown Airline';\n      return {\n        id: `${origin.code}-${destination.code}-${price}-${Date.now()}`,\n        origin: origin.code,\n        originName: origin.name,\n        destination: destination.code,\n        destinationName: destination.name,\n        price,\n        departureTime,\n        arrivalTime,\n        duration,\n        airline,\n        deep_link: createDeepLink(origin.code, destination.code, departureTime)\n      };\n    });\n  };\n  const createDeepLink = (origin, destination, departureDate) => {\n    const formattedDate = new Date(departureDate).toISOString().split('T')[0];\n    return `https://www.skyscanner.com/transport/flights/${origin}/${destination}/${formattedDate}/`;\n  };\n\n  // Use PremiumContentGuard for the search button if signals are used up\n  const renderSearchButton = () => {\n    if (!isSubscribed && usedSignals >= 3) {\n      return /*#__PURE__*/_jsxDEV(PremiumContentGuard, {\n        featureId: \"flight_search\",\n        usageCount: usedSignals,\n        showUpgradeButton: true,\n        fallback: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: true,\n          className: \"w-full p-3 rounded-md font-medium text-white bg-gray-400 cursor-not-allowed\",\n          children: \"No Free Signals Remaining\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          disabled: isLoading || !origin || !destination,\n          className: `w-full p-3 rounded-md font-medium text-white\n              ${isLoading || !origin || !destination ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'}`,\n          children: isLoading ? 'Searching...' : 'Search Flights'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      disabled: isLoading || !origin || !destination,\n      className: `w-full p-3 rounded-md font-medium text-white\n          ${isLoading || !origin || !destination ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'}`,\n      children: isLoading ? 'Searching...' : 'Search Flights'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flight-deals-view p-4 md:p-6 bg-white rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Search Flight Deals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), !isSubscribed && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-blue-50 rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Free signals remaining: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: remainingSignals > 0 ? 'text-green-600' : 'text-red-600',\n            children: [remainingSignals, \"/3\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), remainingSignals === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-600 mt-1\",\n            children: \"You've used all your free signals. Subscribe for unlimited searches.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this), remainingSignals > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: \"Free users get 3 signals per month. Use them wisely!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.href = '/subscription/plans',\n          className: \"bg-blue-600 text-white px-4 py-1 rounded-md text-sm\",\n          children: \"Subscribe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:space-x-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 mb-3 md:mb-0\",\n        children: /*#__PURE__*/_jsxDEV(GlobalAirportSelector, {\n          label: \"From\",\n          value: origin,\n          onChange: setOrigin,\n          placeholder: \"Any airport in the world...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(GlobalAirportSelector, {\n          label: \"To\",\n          value: destination,\n          onChange: setDestination,\n          placeholder: \"Any airport in the world...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), renderSearchButton(), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 bg-red-100 text-red-700 rounded-md\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Flight Deals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: searchResults.map(deal => /*#__PURE__*/_jsxDEV(DealCard, {\n          deal: deal,\n          onSetAlert: () => {},\n          onSave: () => {}\n        }, deal.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightDealsView, \"sE4CtfWU3SCb2A9R1Mc+/iLkOMk=\");\n_c = FlightDealsView;\nexport default FlightDealsView;\nvar _c;\n$RefreshReg$(_c, \"FlightDealsView\");","map":{"version":3,"names":["React","useState","useEffect","useContext","SubscriptionContext","GlobalAirportSelector","DealCard","flightDataSharingService","skyscannerService","AuthContext","PremiumContentGuard","jsxDEV","_jsxDEV","FlightDealsView","_s","origin","setOrigin","destination","setDestination","searchResults","setSearchResults","isLoading","setIsLoading","error","setError","isSubscribed","user","remainingSignals","setRemainingSignals","usedSignals","setUsedSignals","usedCount","getUsedSignalCount","id","Math","max","handleSearch","recordSignalUsage","newUsedCount","flightData","getFlightData","code","deals","processFlightData","length","console","data","itineraries","sortedItineraries","sort","a","b","priceA","price","amount","Infinity","priceB","slice","map","itinerary","departureTime","legs","departure","Date","toISOString","arrivalTime","arrival","duration","durationInMinutes","airline","carriers","marketing","name","now","originName","destinationName","deep_link","createDeepLink","departureDate","formattedDate","split","renderSearchButton","featureId","usageCount","showUpgradeButton","fallback","disabled","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","href","label","value","onChange","placeholder","deal","onSetAlert","onSave","_c","$RefreshReg$"],"sources":["C:/Users/juliu/Desktop/web/src/components/CheapFlights/FlightDealsView.jsx"],"sourcesContent":["// src/components/CheapFlights/FlightDealsView.jsx\r\n\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { SubscriptionContext } from '../../context/SubscriptionContext';\r\nimport GlobalAirportSelector from './GlobalAirportSelector';\r\nimport DealCard from './DealCard';\r\nimport flightDataSharingService from '../../services/flightDataSharingService';\r\nimport skyscannerService from '../../services/skyscannerService';\r\nimport AuthContext from '../../context/AuthContext';\r\nimport PremiumContentGuard from '../Subscription/PremiumContentGuard';\r\n\r\nconst FlightDealsView = () => {\r\n  const [origin, setOrigin] = useState(null);\r\n  const [destination, setDestination] = useState(null);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { isSubscribed } = useContext(SubscriptionContext);\r\n  const { user } = useContext(AuthContext); // Get current user\r\n  const [remainingSignals, setRemainingSignals] = useState(3);\r\n  const [usedSignals, setUsedSignals] = useState(0);\r\n  \r\n  // Load remaining signals on component mount\r\n  useEffect(() => {\r\n    if (user) {\r\n      // For free users, track signal usage\r\n      if (!isSubscribed) {\r\n        const usedCount = flightDataSharingService.getUsedSignalCount(user.id);\r\n        setUsedSignals(usedCount);\r\n        setRemainingSignals(Math.max(0, 3 - usedCount));\r\n      } else {\r\n        // Subscribed users have unlimited signals\r\n        setRemainingSignals('âˆž');\r\n      }\r\n    }\r\n  }, [user, isSubscribed]);\r\n  \r\n  const handleSearch = async () => {\r\n    if (!origin || !destination) {\r\n      setError('Please select both origin and destination airports');\r\n      return;\r\n    }\r\n    \r\n    // We'll use PremiumContentGuard for access control\r\n    // So this function only runs if the user still has signals or is subscribed\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Record signal usage for free users\r\n      if (!isSubscribed && user) {\r\n        flightDataSharingService.recordSignalUsage(user.id);\r\n        const newUsedCount = flightDataSharingService.getUsedSignalCount(user.id);\r\n        setUsedSignals(newUsedCount);\r\n        setRemainingSignals(Math.max(0, 3 - newUsedCount));\r\n      }\r\n      \r\n      // Use the sharing service to efficiently get flight data\r\n      const flightData = await flightDataSharingService.getFlightData(\r\n        origin.code,\r\n        destination.code,\r\n        origin.id,\r\n        destination.id,\r\n        skyscannerService\r\n      );\r\n      \r\n      // Process the data into UI-friendly format\r\n      const deals = processFlightData(flightData, origin, destination);\r\n      \r\n      setSearchResults(deals);\r\n      \r\n      if (deals.length === 0) {\r\n        setError('No flights found for this route. Try different airports or dates.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching flights:', error);\r\n      setError('An error occurred while searching for flights. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Process raw API data into UI-friendly format\r\n  const processFlightData = (data, origin, destination) => {\r\n    if (!data || !data.itineraries || data.itineraries.length === 0) {\r\n      return [];\r\n    }\r\n    \r\n    // Sort by price\r\n    const sortedItineraries = [...data.itineraries].sort((a, b) => {\r\n      const priceA = a.price ? a.price.amount : Infinity;\r\n      const priceB = b.price ? b.price.amount : Infinity;\r\n      return priceA - priceB;\r\n    });\r\n    \r\n    // Convert to deal cards format\r\n    return sortedItineraries.slice(0, 5).map(itinerary => {\r\n      // Extract all the details\r\n      const price = itinerary.price ? itinerary.price.amount : 0;\r\n      const departureTime = itinerary.legs && itinerary.legs[0] ? \r\n        itinerary.legs[0].departure : new Date().toISOString();\r\n      const arrivalTime = itinerary.legs && itinerary.legs[0] ? \r\n        itinerary.legs[0].arrival : new Date().toISOString();\r\n      const duration = itinerary.legs && itinerary.legs[0] ? \r\n        itinerary.legs[0].durationInMinutes : 0;\r\n      const airline = itinerary.legs && itinerary.legs[0] && itinerary.legs[0].carriers ? \r\n        itinerary.legs[0].carriers.marketing[0].name : 'Unknown Airline';\r\n        \r\n      return {\r\n        id: `${origin.code}-${destination.code}-${price}-${Date.now()}`,\r\n        origin: origin.code,\r\n        originName: origin.name,\r\n        destination: destination.code,\r\n        destinationName: destination.name,\r\n        price,\r\n        departureTime,\r\n        arrivalTime,\r\n        duration,\r\n        airline,\r\n        deep_link: createDeepLink(origin.code, destination.code, departureTime)\r\n      };\r\n    });\r\n  };\r\n  \r\n  const createDeepLink = (origin, destination, departureDate) => {\r\n    const formattedDate = new Date(departureDate).toISOString().split('T')[0];\r\n    return `https://www.skyscanner.com/transport/flights/${origin}/${destination}/${formattedDate}/`;\r\n  };\r\n  \r\n  // Use PremiumContentGuard for the search button if signals are used up\r\n  const renderSearchButton = () => {\r\n    if (!isSubscribed && usedSignals >= 3) {\r\n      return (\r\n        <PremiumContentGuard \r\n          featureId=\"flight_search\"\r\n          usageCount={usedSignals}\r\n          showUpgradeButton={true}\r\n          fallback={\r\n            <button\r\n              disabled={true}\r\n              className=\"w-full p-3 rounded-md font-medium text-white bg-gray-400 cursor-not-allowed\"\r\n            >\r\n              No Free Signals Remaining\r\n            </button>\r\n          }\r\n        >\r\n          <button\r\n            onClick={handleSearch}\r\n            disabled={isLoading || !origin || !destination}\r\n            className={`w-full p-3 rounded-md font-medium text-white\r\n              ${isLoading || !origin || !destination ? \r\n                'bg-gray-400 cursor-not-allowed' : \r\n                'bg-blue-600 hover:bg-blue-700'}`}\r\n          >\r\n            {isLoading ? 'Searching...' : 'Search Flights'}\r\n          </button>\r\n        </PremiumContentGuard>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <button\r\n        onClick={handleSearch}\r\n        disabled={isLoading || !origin || !destination}\r\n        className={`w-full p-3 rounded-md font-medium text-white\r\n          ${isLoading || !origin || !destination ? \r\n            'bg-gray-400 cursor-not-allowed' : \r\n            'bg-blue-600 hover:bg-blue-700'}`}\r\n      >\r\n        {isLoading ? 'Searching...' : 'Search Flights'}\r\n      </button>\r\n    );\r\n  };\r\n  \r\n  return (\r\n    <div className=\"flight-deals-view p-4 md:p-6 bg-white rounded-lg shadow-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Search Flight Deals</h2>\r\n      \r\n      {!isSubscribed && (\r\n        <div className=\"mb-4 p-3 bg-blue-50 rounded-md\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <span className=\"font-medium\">Free signals remaining: </span>\r\n              <span className={remainingSignals > 0 ? 'text-green-600' : 'text-red-600'}>\r\n                {remainingSignals}/3\r\n              </span>\r\n              {remainingSignals === 0 && (\r\n                <p className=\"text-sm text-red-600 mt-1\">\r\n                  You've used all your free signals. Subscribe for unlimited searches.\r\n                </p>\r\n              )}\r\n              {remainingSignals > 0 && (\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Free users get 3 signals per month. Use them wisely!\r\n                </p>\r\n              )}\r\n            </div>\r\n            <button \r\n              onClick={() => window.location.href = '/subscription/plans'}\r\n              className=\"bg-blue-600 text-white px-4 py-1 rounded-md text-sm\"\r\n            >\r\n              Subscribe\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"flex flex-col md:flex-row md:space-x-4 mb-4\">\r\n        <div className=\"flex-1 mb-3 md:mb-0\">\r\n          <GlobalAirportSelector\r\n            label=\"From\"\r\n            value={origin}\r\n            onChange={setOrigin}\r\n            placeholder=\"Any airport in the world...\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"flex-1\">\r\n          <GlobalAirportSelector\r\n            label=\"To\"\r\n            value={destination}\r\n            onChange={setDestination}\r\n            placeholder=\"Any airport in the world...\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      {renderSearchButton()}\r\n      \r\n      {error && (\r\n        <div className=\"mt-4 p-3 bg-red-100 text-red-700 rounded-md\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {searchResults.length > 0 && (\r\n        <div className=\"mt-6\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Flight Deals</h3>\r\n          <div className=\"space-y-4\">\r\n            {searchResults.map(deal => (\r\n              <DealCard\r\n                key={deal.id}\r\n                deal={deal}\r\n                onSetAlert={() => {}}\r\n                onSave={() => {}}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlightDealsView;"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,mBAAmB,QAAQ,mCAAmC;AACvE,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,wBAAwB,MAAM,yCAAyC;AAC9E,OAAOC,iBAAiB,MAAM,kCAAkC;AAChE,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,mBAAmB,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtE,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACoB,SAAS,EAAEC,YAAY,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEwB;EAAa,CAAC,GAAGtB,UAAU,CAACC,mBAAmB,CAAC;EACxD,MAAM;IAAEsB;EAAK,CAAC,GAAGvB,UAAU,CAACM,WAAW,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACkB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;;EAEjD;EACAC,SAAS,CAAC,MAAM;IACd,IAAIwB,IAAI,EAAE;MACR;MACA,IAAI,CAACD,YAAY,EAAE;QACjB,MAAMM,SAAS,GAAGxB,wBAAwB,CAACyB,kBAAkB,CAACN,IAAI,CAACO,EAAE,CAAC;QACtEH,cAAc,CAACC,SAAS,CAAC;QACzBH,mBAAmB,CAACM,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGJ,SAAS,CAAC,CAAC;MACjD,CAAC,MAAM;QACL;QACAH,mBAAmB,CAAC,GAAG,CAAC;MAC1B;IACF;EACF,CAAC,EAAE,CAACF,IAAI,EAAED,YAAY,CAAC,CAAC;EAExB,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACrB,MAAM,IAAI,CAACE,WAAW,EAAE;MAC3BO,QAAQ,CAAC,oDAAoD,CAAC;MAC9D;IACF;;IAEA;IACA;;IAEAF,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF;MACA,IAAI,CAACC,YAAY,IAAIC,IAAI,EAAE;QACzBnB,wBAAwB,CAAC8B,iBAAiB,CAACX,IAAI,CAACO,EAAE,CAAC;QACnD,MAAMK,YAAY,GAAG/B,wBAAwB,CAACyB,kBAAkB,CAACN,IAAI,CAACO,EAAE,CAAC;QACzEH,cAAc,CAACQ,YAAY,CAAC;QAC5BV,mBAAmB,CAACM,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGG,YAAY,CAAC,CAAC;MACpD;;MAEA;MACA,MAAMC,UAAU,GAAG,MAAMhC,wBAAwB,CAACiC,aAAa,CAC7DzB,MAAM,CAAC0B,IAAI,EACXxB,WAAW,CAACwB,IAAI,EAChB1B,MAAM,CAACkB,EAAE,EACThB,WAAW,CAACgB,EAAE,EACdzB,iBACF,CAAC;;MAED;MACA,MAAMkC,KAAK,GAAGC,iBAAiB,CAACJ,UAAU,EAAExB,MAAM,EAAEE,WAAW,CAAC;MAEhEG,gBAAgB,CAACsB,KAAK,CAAC;MAEvB,IAAIA,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE;QACtBpB,QAAQ,CAAC,mEAAmE,CAAC;MAC/E;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdsB,OAAO,CAACtB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDC,QAAQ,CAAC,kEAAkE,CAAC;IAC9E,CAAC,SAAS;MACRF,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAMqB,iBAAiB,GAAGA,CAACG,IAAI,EAAE/B,MAAM,EAAEE,WAAW,KAAK;IACvD,IAAI,CAAC6B,IAAI,IAAI,CAACA,IAAI,CAACC,WAAW,IAAID,IAAI,CAACC,WAAW,CAACH,MAAM,KAAK,CAAC,EAAE;MAC/D,OAAO,EAAE;IACX;;IAEA;IACA,MAAMI,iBAAiB,GAAG,CAAC,GAAGF,IAAI,CAACC,WAAW,CAAC,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MAC7D,MAAMC,MAAM,GAAGF,CAAC,CAACG,KAAK,GAAGH,CAAC,CAACG,KAAK,CAACC,MAAM,GAAGC,QAAQ;MAClD,MAAMC,MAAM,GAAGL,CAAC,CAACE,KAAK,GAAGF,CAAC,CAACE,KAAK,CAACC,MAAM,GAAGC,QAAQ;MAClD,OAAOH,MAAM,GAAGI,MAAM;IACxB,CAAC,CAAC;;IAEF;IACA,OAAOR,iBAAiB,CAACS,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAACC,SAAS,IAAI;MACpD;MACA,MAAMN,KAAK,GAAGM,SAAS,CAACN,KAAK,GAAGM,SAAS,CAACN,KAAK,CAACC,MAAM,GAAG,CAAC;MAC1D,MAAMM,aAAa,GAAGD,SAAS,CAACE,IAAI,IAAIF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,GACvDF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,CAACC,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACxD,MAAMC,WAAW,GAAGN,SAAS,CAACE,IAAI,IAAIF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,GACrDF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,CAACK,OAAO,GAAG,IAAIH,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACtD,MAAMG,QAAQ,GAAGR,SAAS,CAACE,IAAI,IAAIF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,GAClDF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,CAACO,iBAAiB,GAAG,CAAC;MACzC,MAAMC,OAAO,GAAGV,SAAS,CAACE,IAAI,IAAIF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,IAAIF,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,CAACS,QAAQ,GAC/EX,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC,CAACS,QAAQ,CAACC,SAAS,CAAC,CAAC,CAAC,CAACC,IAAI,GAAG,iBAAiB;MAElE,OAAO;QACLvC,EAAE,EAAE,GAAGlB,MAAM,CAAC0B,IAAI,IAAIxB,WAAW,CAACwB,IAAI,IAAIY,KAAK,IAAIU,IAAI,CAACU,GAAG,CAAC,CAAC,EAAE;QAC/D1D,MAAM,EAAEA,MAAM,CAAC0B,IAAI;QACnBiC,UAAU,EAAE3D,MAAM,CAACyD,IAAI;QACvBvD,WAAW,EAAEA,WAAW,CAACwB,IAAI;QAC7BkC,eAAe,EAAE1D,WAAW,CAACuD,IAAI;QACjCnB,KAAK;QACLO,aAAa;QACbK,WAAW;QACXE,QAAQ;QACRE,OAAO;QACPO,SAAS,EAAEC,cAAc,CAAC9D,MAAM,CAAC0B,IAAI,EAAExB,WAAW,CAACwB,IAAI,EAAEmB,aAAa;MACxE,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAMiB,cAAc,GAAGA,CAAC9D,MAAM,EAAEE,WAAW,EAAE6D,aAAa,KAAK;IAC7D,MAAMC,aAAa,GAAG,IAAIhB,IAAI,CAACe,aAAa,CAAC,CAACd,WAAW,CAAC,CAAC,CAACgB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACzE,OAAO,gDAAgDjE,MAAM,IAAIE,WAAW,IAAI8D,aAAa,GAAG;EAClG,CAAC;;EAED;EACA,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAACxD,YAAY,IAAII,WAAW,IAAI,CAAC,EAAE;MACrC,oBACEjB,OAAA,CAACF,mBAAmB;QAClBwE,SAAS,EAAC,eAAe;QACzBC,UAAU,EAAEtD,WAAY;QACxBuD,iBAAiB,EAAE,IAAK;QACxBC,QAAQ,eACNzE,OAAA;UACE0E,QAAQ,EAAE,IAAK;UACfC,SAAS,EAAC,6EAA6E;UAAAC,QAAA,EACxF;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;QAAAJ,QAAA,eAED5E,OAAA;UACEiF,OAAO,EAAEzD,YAAa;UACtBkD,QAAQ,EAAEjE,SAAS,IAAI,CAACN,MAAM,IAAI,CAACE,WAAY;UAC/CsE,SAAS,EAAE;AACvB,gBAAgBlE,SAAS,IAAI,CAACN,MAAM,IAAI,CAACE,WAAW,GACpC,gCAAgC,GAChC,+BAA+B,EAAG;UAAAuE,QAAA,EAErCnE,SAAS,GAAG,cAAc,GAAG;QAAgB;UAAAoE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACU,CAAC;IAE1B;IAEA,oBACEhF,OAAA;MACEiF,OAAO,EAAEzD,YAAa;MACtBkD,QAAQ,EAAEjE,SAAS,IAAI,CAACN,MAAM,IAAI,CAACE,WAAY;MAC/CsE,SAAS,EAAE;AACnB,YAAYlE,SAAS,IAAI,CAACN,MAAM,IAAI,CAACE,WAAW,GACpC,gCAAgC,GAChC,+BAA+B,EAAG;MAAAuE,QAAA,EAErCnE,SAAS,GAAG,cAAc,GAAG;IAAgB;MAAAoE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC;EAEb,CAAC;EAED,oBACEhF,OAAA;IAAK2E,SAAS,EAAC,4DAA4D;IAAAC,QAAA,gBACzE5E,OAAA;MAAI2E,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAE/D,CAACnE,YAAY,iBACZb,OAAA;MAAK2E,SAAS,EAAC,gCAAgC;MAAAC,QAAA,eAC7C5E,OAAA;QAAK2E,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChD5E,OAAA;UAAA4E,QAAA,gBACE5E,OAAA;YAAM2E,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7DhF,OAAA;YAAM2E,SAAS,EAAE5D,gBAAgB,GAAG,CAAC,GAAG,gBAAgB,GAAG,cAAe;YAAA6D,QAAA,GACvE7D,gBAAgB,EAAC,IACpB;UAAA;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACNjE,gBAAgB,KAAK,CAAC,iBACrBf,OAAA;YAAG2E,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EAAC;UAEzC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACJ,EACAjE,gBAAgB,GAAG,CAAC,iBACnBf,OAAA;YAAG2E,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAE1C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNhF,OAAA;UACEiF,OAAO,EAAEA,CAAA,KAAMC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,qBAAsB;UAC5DT,SAAS,EAAC,qDAAqD;UAAAC,QAAA,EAChE;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAEDhF,OAAA;MAAK2E,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1D5E,OAAA;QAAK2E,SAAS,EAAC,qBAAqB;QAAAC,QAAA,eAClC5E,OAAA,CAACP,qBAAqB;UACpB4F,KAAK,EAAC,MAAM;UACZC,KAAK,EAAEnF,MAAO;UACdoF,QAAQ,EAAEnF,SAAU;UACpBoF,WAAW,EAAC;QAA6B;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENhF,OAAA;QAAK2E,SAAS,EAAC,QAAQ;QAAAC,QAAA,eACrB5E,OAAA,CAACP,qBAAqB;UACpB4F,KAAK,EAAC,IAAI;UACVC,KAAK,EAAEjF,WAAY;UACnBkF,QAAQ,EAAEjF,cAAe;UACzBkF,WAAW,EAAC;QAA6B;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELX,kBAAkB,CAAC,CAAC,EAEpB1D,KAAK,iBACJX,OAAA;MAAK2E,SAAS,EAAC,6CAA6C;MAAAC,QAAA,EACzDjE;IAAK;MAAAkE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAzE,aAAa,CAACyB,MAAM,GAAG,CAAC,iBACvBhC,OAAA;MAAK2E,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB5E,OAAA;QAAI2E,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5DhF,OAAA;QAAK2E,SAAS,EAAC,WAAW;QAAAC,QAAA,EACvBrE,aAAa,CAACuC,GAAG,CAAC2C,IAAI,iBACrBzF,OAAA,CAACN,QAAQ;UAEP+F,IAAI,EAAEA,IAAK;UACXC,UAAU,EAAEA,CAAA,KAAM,CAAC,CAAE;UACrBC,MAAM,EAAEA,CAAA,KAAM,CAAC;QAAE,GAHZF,IAAI,CAACpE,EAAE;UAAAwD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAIb,CACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9E,EAAA,CAlPID,eAAe;AAAA2F,EAAA,GAAf3F,eAAe;AAoPrB,eAAeA,eAAe;AAAC,IAAA2F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}