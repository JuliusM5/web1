{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useI18n}from'../../utils/i18n';// Add import for i18n\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskReminders(_ref){let{tasks,onViewTask}=_ref;const{t}=useI18n();// Add i18n hook\nconst[upcomingTasks,setUpcomingTasks]=useState([]);const[showReminders,setShowReminders]=useState(false);// Find tasks that are coming up soon (within 24 hours)\nuseEffect(()=>{const now=new Date();const tomorrow=new Date(now);tomorrow.setHours(now.getHours()+24);const upcoming=tasks.filter(task=>{if(!task.date||task.completed)return false;const taskDate=new Date(task.date);if(task.time){const[hours,minutes]=task.time.split(':');taskDate.setHours(parseInt(hours,10),parseInt(minutes,10));}return taskDate>now&&taskDate<=tomorrow;}).sort((a,b)=>{const dateA=new Date(a.date);const dateB=new Date(b.date);if(a.time){const[hoursA,minutesA]=a.time.split(':');dateA.setHours(parseInt(hoursA,10),parseInt(minutesA,10));}if(b.time){const[hoursB,minutesB]=b.time.split(':');dateB.setHours(parseInt(hoursB,10),parseInt(minutesB,10));}return dateA-dateB;});setUpcomingTasks(upcoming);// Show reminders if there are upcoming tasks\nif(upcoming.length>0){setShowReminders(true);}},[tasks]);// Format the time until a task is due\nconst formatTimeUntil=task=>{const now=new Date();const taskDate=new Date(task.date);if(task.time){const[hours,minutes]=task.time.split(':');taskDate.setHours(parseInt(hours,10),parseInt(minutes,10));}else{// If no time is set, use end of day\ntaskDate.setHours(23,59,59);}const diffMs=taskDate-now;const diffHrs=Math.floor(diffMs/(1000*60*60));const diffMins=Math.floor(diffMs%(1000*60*60)/(1000*60));if(diffHrs<=0&&diffMins<=0){return t('tasks.timeRemaining.now','Now');}else if(diffHrs<1){return t('tasks.timeRemaining.minutes','{{minutes}} min',{minutes:diffMins});}else if(diffHrs<24){return t('tasks.timeRemaining.hours','{{hours}} hr{{plural}}',{hours:diffHrs,plural:diffHrs>1?'s':''});}return t('tasks.timeRemaining.soon','Soon');};// Get priority color\nconst getPriorityColor=priority=>{switch(priority){case'high':return'border-red-500 bg-red-50';case'medium':return'border-yellow-500 bg-yellow-50';case'low':return'border-green-500 bg-green-50';default:return'border-gray-300 bg-gray-50';}};if(!showReminders||upcomingTasks.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-4 right-4 z-50 w-80 bg-white rounded-lg shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-500 text-white px-4 py-2 rounded-t-lg flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:t('tasks.upcomingTasks','Upcoming Tasks')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowReminders(false),className:\"text-white hover:text-gray-200\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto\",children:upcomingTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:`p-3 border-l-4 hover:bg-gray-50 cursor-pointer ${getPriorityColor(task.priority)}`,onClick:()=>onViewTask&&onViewTask(task),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:task.text}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full\",children:formatTimeUntil(task)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mt-1\",children:[task.date,\" \",task.time&&`${t('tasks.at','at')} ${task.time}`]})]},task.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 bg-gray-50 rounded-b-lg text-center text-sm\",children:/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 hover:text-blue-800\",onClick:()=>setShowReminders(false),children:t('tasks.dismissAll','Dismiss All')})})]});}export default TaskReminders;","map":{"version":3,"names":["React","useState","useEffect","useI18n","jsx","_jsx","jsxs","_jsxs","TaskReminders","_ref","tasks","onViewTask","t","upcomingTasks","setUpcomingTasks","showReminders","setShowReminders","now","Date","tomorrow","setHours","getHours","upcoming","filter","task","date","completed","taskDate","time","hours","minutes","split","parseInt","sort","a","b","dateA","dateB","hoursA","minutesA","hoursB","minutesB","length","formatTimeUntil","diffMs","diffHrs","Math","floor","diffMins","plural","getPriorityColor","priority","className","children","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","map","text","id"],"sources":["C:/Users/juliu/Desktop/web/src/components/Tasks/TaskReminders.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useI18n } from '../../utils/i18n'; // Add import for i18n\r\n\r\nfunction TaskReminders({ tasks, onViewTask }) {\r\n  const { t } = useI18n(); // Add i18n hook\r\n  const [upcomingTasks, setUpcomingTasks] = useState([]);\r\n  const [showReminders, setShowReminders] = useState(false);\r\n  \r\n  // Find tasks that are coming up soon (within 24 hours)\r\n  useEffect(() => {\r\n    const now = new Date();\r\n    const tomorrow = new Date(now);\r\n    tomorrow.setHours(now.getHours() + 24);\r\n    \r\n    const upcoming = tasks\r\n      .filter(task => {\r\n        if (!task.date || task.completed) return false;\r\n        \r\n        const taskDate = new Date(task.date);\r\n        if (task.time) {\r\n          const [hours, minutes] = task.time.split(':');\r\n          taskDate.setHours(parseInt(hours, 10), parseInt(minutes, 10));\r\n        }\r\n        \r\n        return taskDate > now && taskDate <= tomorrow;\r\n      })\r\n      .sort((a, b) => {\r\n        const dateA = new Date(a.date);\r\n        const dateB = new Date(b.date);\r\n        \r\n        if (a.time) {\r\n          const [hoursA, minutesA] = a.time.split(':');\r\n          dateA.setHours(parseInt(hoursA, 10), parseInt(minutesA, 10));\r\n        }\r\n        \r\n        if (b.time) {\r\n          const [hoursB, minutesB] = b.time.split(':');\r\n          dateB.setHours(parseInt(hoursB, 10), parseInt(minutesB, 10));\r\n        }\r\n        \r\n        return dateA - dateB;\r\n      });\r\n    \r\n    setUpcomingTasks(upcoming);\r\n    \r\n    // Show reminders if there are upcoming tasks\r\n    if (upcoming.length > 0) {\r\n      setShowReminders(true);\r\n    }\r\n  }, [tasks]);\r\n  \r\n  // Format the time until a task is due\r\n  const formatTimeUntil = (task) => {\r\n    const now = new Date();\r\n    const taskDate = new Date(task.date);\r\n    \r\n    if (task.time) {\r\n      const [hours, minutes] = task.time.split(':');\r\n      taskDate.setHours(parseInt(hours, 10), parseInt(minutes, 10));\r\n    } else {\r\n      // If no time is set, use end of day\r\n      taskDate.setHours(23, 59, 59);\r\n    }\r\n    \r\n    const diffMs = taskDate - now;\r\n    const diffHrs = Math.floor(diffMs / (1000 * 60 * 60));\r\n    const diffMins = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\r\n    \r\n    if (diffHrs <= 0 && diffMins <= 0) {\r\n      return t('tasks.timeRemaining.now', 'Now');\r\n    } else if (diffHrs < 1) {\r\n      return t('tasks.timeRemaining.minutes', '{{minutes}} min', { minutes: diffMins });\r\n    } else if (diffHrs < 24) {\r\n      return t('tasks.timeRemaining.hours', '{{hours}} hr{{plural}}', { \r\n        hours: diffHrs,\r\n        plural: diffHrs > 1 ? 's' : ''\r\n      });\r\n    }\r\n    \r\n    return t('tasks.timeRemaining.soon', 'Soon');\r\n  };\r\n  \r\n  // Get priority color\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return 'border-red-500 bg-red-50';\r\n      case 'medium':\r\n        return 'border-yellow-500 bg-yellow-50';\r\n      case 'low':\r\n        return 'border-green-500 bg-green-50';\r\n      default:\r\n        return 'border-gray-300 bg-gray-50';\r\n    }\r\n  };\r\n  \r\n  if (!showReminders || upcomingTasks.length === 0) {\r\n    return null;\r\n  }\r\n  \r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 z-50 w-80 bg-white rounded-lg shadow-lg border border-gray-200\">\r\n      <div className=\"bg-blue-500 text-white px-4 py-2 rounded-t-lg flex justify-between items-center\">\r\n        <div className=\"font-semibold\">{t('tasks.upcomingTasks', 'Upcoming Tasks')}</div>\r\n        <button \r\n          onClick={() => setShowReminders(false)}\r\n          className=\"text-white hover:text-gray-200\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <div className=\"max-h-96 overflow-y-auto\">\r\n        {upcomingTasks.map(task => (\r\n          <div \r\n            key={task.id} \r\n            className={`p-3 border-l-4 hover:bg-gray-50 cursor-pointer ${getPriorityColor(task.priority)}`}\r\n            onClick={() => onViewTask && onViewTask(task)}\r\n          >\r\n            <div className=\"flex justify-between\">\r\n              <div className=\"font-medium\">{task.text}</div>\r\n              <div className=\"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full\">\r\n                {formatTimeUntil(task)}\r\n              </div>\r\n            </div>\r\n            <div className=\"text-sm text-gray-500 mt-1\">\r\n              {task.date} {task.time && `${t('tasks.at', 'at')} ${task.time}`}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"px-4 py-2 bg-gray-50 rounded-b-lg text-center text-sm\">\r\n        <button className=\"text-blue-600 hover:text-blue-800\" onClick={() => setShowReminders(false)}>\r\n          {t('tasks.dismissAll', 'Dismiss All')}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskReminders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}