{"ast":null,"code":"import React,{useState,useEffect}from'react';import TaskEditModal from'../Tasks/TaskEditModal';import TaskReminders from'../Tasks/TaskReminders';import{useI18n}from'../../utils/i18n';// Import the i18n hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TasksTab(_ref){let{tripTasks,setTripTasks,startDate,endDate}=_ref;// Get i18n functionality\nconst{t}=useI18n();// Task form state\nconst[taskText,setTaskText]=useState('');const[taskDate,setTaskDate]=useState('');const[taskTime,setTaskTime]=useState('');const[taskCategory,setTaskCategory]=useState('preparation');const[taskPriority,setTaskPriority]=useState('medium');// Edit modal state\nconst[editingTask,setEditingTask]=useState(null);const[showEditModal,setShowEditModal]=useState(false);// Task filtering and display options\nconst[showCompleted,setShowCompleted]=useState(true);const[filterCategory,setFilterCategory]=useState('all');const[filterPriority,setFilterPriority]=useState('all');const[sortBy,setSortBy]=useState('date');// 'date', 'priority', 'time', or 'created'\nconst[groupBy,setGroupBy]=useState('date');// 'date', 'category', or 'none'\n// Set default task date to trip start date if available\nuseEffect(()=>{if(startDate&&!taskDate){setTaskDate(startDate);}},[startDate,taskDate]);// Add a new task\nfunction addTask(){if(taskText){const newTask={id:Date.now(),text:taskText,completed:false,date:taskDate||null,time:taskTime||null,category:taskCategory,priority:taskPriority,dependencies:[],createdAt:new Date().toISOString(),completedAt:null};setTripTasks([...tripTasks,newTask]);// Reset form fields except category and priority\nsetTaskText('');setTaskTime('');// Keep the same category and priority for quick addition of similar tasks\n}}// Open edit modal for a task\nfunction openEditModal(task){setEditingTask(task);setShowEditModal(true);}// Save edited task\nfunction saveEditedTask(editedTask){setTripTasks(tripTasks.map(task=>task.id===editedTask.id?editedTask:task));setShowEditModal(false);setEditingTask(null);}// Close the edit modal\nfunction closeEditModal(){setShowEditModal(false);setEditingTask(null);}// Toggle task completion status\nfunction toggleTaskCompleted(id){// Find the task\nconst task=tripTasks.find(t=>t.id===id);// Check if task has dependencies that aren't completed\nif(task&&!task.completed&&task.dependencies&&task.dependencies.length>0){const dependenciesComplete=task.dependencies.every(depId=>{const depTask=tripTasks.find(t=>t.id===depId);return depTask&&depTask.completed;});if(!dependenciesComplete){// Don't allow completion if dependencies aren't complete\nalert(t('tasks.dependenciesNotCompleteError','You must complete all dependencies first'));return;}}// Toggle completion status\nsetTripTasks(tripTasks.map(task=>{if(task.id===id){return{...task,completed:!task.completed,completedAt:!task.completed?new Date().toISOString():null};}return task;}));}// Delete a task\nfunction deleteTask(id){// Check if any tasks depend on this one\nconst dependentTasks=tripTasks.filter(task=>task.dependencies&&task.dependencies.includes(id));if(dependentTasks.length>0){// Ask for confirmation\nconst confirmDelete=window.confirm(t('tasks.deleteTaskWithDependentsConfirmation',`This task has ${dependentTasks.length} dependent task(s). Deleting it will remove the dependency. Continue?`,{count:dependentTasks.length}));if(!confirmDelete)return;// Remove the dependency from dependent tasks\nsetTripTasks(tripTasks.map(task=>{if(task.dependencies&&task.dependencies.includes(id)){return{...task,dependencies:task.dependencies.filter(depId=>depId!==id)};}return task;}).filter(task=>task.id!==id));}else{// No dependencies, just remove the task\nsetTripTasks(tripTasks.filter(task=>task.id!==id));}}// Filter tasks based on filter settings\nconst filteredTasks=tripTasks.filter(task=>{// Filter by completion status\nif(!showCompleted&&task.completed)return false;// Filter by category\nif(filterCategory!=='all'&&task.category!==filterCategory)return false;// Filter by priority\nif(filterPriority!=='all'&&task.priority!==filterPriority)return false;return true;});// Sort filtered tasks\nconst sortedTasks=[...filteredTasks].sort((a,b)=>{switch(sortBy){case'date':// Sort by date, null dates at the end\nif(!a.date&&!b.date)return 0;if(!a.date)return 1;if(!b.date)return-1;// If same date, sort by time if available\nif(a.date===b.date){if(!a.time&&!b.time)return 0;if(!a.time)return 1;if(!b.time)return-1;return a.time.localeCompare(b.time);}return new Date(a.date)-new Date(b.date);case'time':// Sort by time, null times at the end\nif(!a.time&&!b.time)return 0;if(!a.time)return 1;if(!b.time)return-1;return a.time.localeCompare(b.time);case'priority':// Sort by priority (high -> medium -> low)\nconst priorityOrder={high:0,medium:1,low:2};return priorityOrder[a.priority]-priorityOrder[b.priority];case'created':// Sort by creation date (newest first)\nreturn new Date(b.createdAt)-new Date(a.createdAt);default:return 0;}});// Group tasks if grouping is enabled\nlet groupedTasks=sortedTasks;if(groupBy!=='none'){const grouped={};if(groupBy==='date'){// Group by date\n// Add tasks with dates\nsortedTasks.filter(task=>task.date).forEach(task=>{if(!grouped[task.date]){grouped[task.date]=[];}grouped[task.date].push(task);});// Add undated tasks at the end\ngrouped[t('tasks.noDate','No Date')]=sortedTasks.filter(task=>!task.date);// Sort date groups chronologically\ngroupedTasks=Object.entries(grouped).sort((_ref2,_ref3)=>{let[dateA]=_ref2;let[dateB]=_ref3;if(dateA===t('tasks.noDate','No Date'))return 1;if(dateB===t('tasks.noDate','No Date'))return-1;return new Date(dateA)-new Date(dateB);});}else if(groupBy==='category'){// Group by category\nsortedTasks.forEach(task=>{if(!grouped[task.category]){grouped[task.category]=[];}grouped[task.category].push(task);});// Convert to array for rendering\ngroupedTasks=Object.entries(grouped);}}else{// If no grouping, wrap tasks in a format compatible with the rendering logic\ngroupedTasks=[[t('tasks.allTasks','All Tasks'),sortedTasks]];}// Helper to get priority color\nconst getPriorityColor=priority=>{switch(priority){case'high':return'text-red-600 bg-red-50';case'medium':return'text-yellow-600 bg-yellow-50';case'low':return'text-green-600 bg-green-50';default:return'text-gray-600 bg-gray-50';}};// Helper to format date for display\nconst formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});};// Calculate task statistics\nconst totalTasks=tripTasks.length;const completedTasks=tripTasks.filter(task=>task.completed).length;const completionPercentage=totalTasks===0?0:Math.round(completedTasks/totalTasks*100);// Check if a task has dependencies and if they're completed\nconst getDependencyStatus=task=>{if(!task.dependencies||task.dependencies.length===0){return{hasDependencies:false,allCompleted:true};}const dependenciesComplete=task.dependencies.every(depId=>{const depTask=tripTasks.find(t=>t.id===depId);return depTask&&depTask.completed;});return{hasDependencies:true,allCompleted:dependenciesComplete};};// Get unique categories from tasks\nconst categories=['all',...new Set(tripTasks.map(task=>task.category))];// Handle view task from reminders\nconst handleViewTaskFromReminder=task=>{openEditModal(task);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:t('tasks.addTask','Add Task')}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 bg-white border border-gray-200 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-1 text-sm\",children:t('tasks.taskDescription','Task Description')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:taskText,onChange:e=>setTaskText(e.target.value),placeholder:t('tasks.whatNeedsToBeDone','What needs to be done?'),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-1 text-sm\",children:t('tasks.dueDate','Due Date')}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:taskDate,onChange:e=>setTaskDate(e.target.value),min:startDate||'',max:endDate||'',className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 mb-1 text-sm\",children:[t('tasks.time','Time'),\" (\",t('tasks.optional','Optional'),\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:taskTime,onChange:e=>setTaskTime(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\"})]})]}),startDate&&endDate&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[t('tasks.tripDates','Trip Dates'),\": \",formatDate(startDate),\" \",t('tasks.to','to'),\" \",formatDate(endDate)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-1 text-sm\",children:t('tasks.category','Category')}),/*#__PURE__*/_jsxs(\"select\",{value:taskCategory,onChange:e=>setTaskCategory(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"preparation\",children:t('tasks.categories.preparation','Preparation')}),/*#__PURE__*/_jsx(\"option\",{value:\"packing\",children:t('tasks.categories.packing','Packing')}),/*#__PURE__*/_jsx(\"option\",{value:\"booking\",children:t('tasks.categories.booking','Booking')}),/*#__PURE__*/_jsx(\"option\",{value:\"activity\",children:t('tasks.categories.activity','Activity')}),/*#__PURE__*/_jsx(\"option\",{value:\"transportation\",children:t('tasks.categories.transportation','Transportation')}),/*#__PURE__*/_jsx(\"option\",{value:\"accommodation\",children:t('tasks.categories.accommodation','Accommodation')}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:t('tasks.categories.other','Other')})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-1 text-sm\",children:t('tasks.priority','Priority')}),/*#__PURE__*/_jsxs(\"select\",{value:taskPriority,onChange:e=>setTaskPriority(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:t('tasks.priorities.high','High')}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:t('tasks.priorities.medium','Medium')}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:t('tasks.priorities.low','Low')})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,disabled:!taskText,className:`w-full py-2 rounded ${!taskText?'bg-gray-300 cursor-not-allowed':'bg-blue-500 text-white hover:bg-blue-600'}`,children:t('tasks.addTask','Add Task')})]}),tripTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-blue-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-800 mb-2\",children:t('tasks.taskProgress','Task Progress')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[completedTasks,\" \",t('tasks.of','of'),\" \",totalTasks,\" \",t('tasks.completed','completed')]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[completionPercentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full\",style:{width:`${completionPercentage}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-t border-blue-200\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:t('tasks.taskBreakdown','Task Breakdown')}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-x-2 gap-y-1\",children:categories.filter(cat=>cat!=='all').map(category=>{const categoryTasks=tripTasks.filter(task=>task.category===category);const categoryCompleted=categoryTasks.filter(task=>task.completed).length;if(categoryTasks.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs capitalize\",children:[t(`tasks.categories.${category}`,category),\":\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs\",children:[categoryCompleted,\"/\",categoryTasks.length]})]},category);})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:t('tasks.yourTasks','Your Tasks')}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"text-sm bg-white border border-gray-300 rounded px-3 py-1 flex items-center\",onClick:()=>document.getElementById('task-options').classList.toggle('hidden'),children:[/*#__PURE__*/_jsx(\"span\",{children:t('tasks.options','Options')}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 ml-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"task-options\",className:\"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showCompleted,onChange:()=>setShowCompleted(!showCompleted),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:t('tasks.showCompleted','Show Completed')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:t('tasks.filterByCategory','Filter by Category')}),/*#__PURE__*/_jsxs(\"select\",{value:filterCategory,onChange:e=>setFilterCategory(e.target.value),className:\"w-full p-1 text-sm border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:t('tasks.allCategories','All Categories')}),categories.filter(cat=>cat!=='all').map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,className:\"capitalize\",children:t(`tasks.categories.${category}`,category)},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:t('tasks.filterByPriority','Filter by Priority')}),/*#__PURE__*/_jsxs(\"select\",{value:filterPriority,onChange:e=>setFilterPriority(e.target.value),className:\"w-full p-1 text-sm border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:t('tasks.allPriorities','All Priorities')}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:t('tasks.priorities.high','High')}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:t('tasks.priorities.medium','Medium')}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:t('tasks.priorities.low','Low')})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:t('tasks.sortBy','Sort By')}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"w-full p-1 text-sm border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:t('tasks.dueDate','Due Date')}),/*#__PURE__*/_jsx(\"option\",{value:\"time\",children:t('tasks.time','Time')}),/*#__PURE__*/_jsx(\"option\",{value:\"priority\",children:t('tasks.priority','Priority')}),/*#__PURE__*/_jsx(\"option\",{value:\"created\",children:t('tasks.recentlyAdded','Recently Added')})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:t('tasks.groupBy','Group By')}),/*#__PURE__*/_jsxs(\"select\",{value:groupBy,onChange:e=>setGroupBy(e.target.value),className:\"w-full p-1 text-sm border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:t('tasks.date','Date')}),/*#__PURE__*/_jsx(\"option\",{value:\"category\",children:t('tasks.category','Category')}),/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:t('tasks.noGrouping','No Grouping')})]})]})]})})]})]}),filteredTasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:t('tasks.noTasksMatch','No tasks match your filters.')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCompleted(true);setFilterCategory('all');setFilterPriority('all');},className:\"mt-2 text-blue-500 text-sm\",children:t('tasks.resetFilters','Reset Filters')})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-h-[500px] overflow-y-auto\",children:groupedTasks.map(_ref4=>{let[groupName,tasks]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-200 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 px-4 py-2 font-medium flex justify-between items-center\",children:[groupBy==='date'&&groupName!==t('tasks.noDate','No Date')?/*#__PURE__*/_jsx(\"span\",{children:formatDate(groupName)}):/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:t(`tasks.categories.${groupName}`,groupName)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[tasks.length,\" \",t('tasks.taskCount','task(s)',{count:tasks.length})]})]}),/*#__PURE__*/_jsx(\"div\",{children:tasks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-center text-sm text-gray-500\",children:t('tasks.noTasksInGroup','No tasks in this group')}):tasks.map(task=>{const{hasDependencies,allCompleted}=getDependencyStatus(task);return/*#__PURE__*/_jsxs(\"div\",{className:`flex items-start p-3 border-b border-gray-100 last:border-b-0 \n                                ${task.completed?'bg-gray-50':''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 pt-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:task.completed,onChange:()=>toggleTaskCompleted(task.id),className:\"h-4 w-4\",disabled:!task.completed&&hasDependencies&&!allCompleted,title:!task.completed&&hasDependencies&&!allCompleted?t('tasks.completeDependenciesFirst','Complete dependencies first'):\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:`${task.completed?'line-through text-gray-500':'font-medium'}`,children:task.text}),hasDependencies&&!task.completed&&/*#__PURE__*/_jsx(\"span\",{className:`ml-2 inline-flex items-center text-xs font-medium px-2 py-0.5 rounded-full\n                                        ${allCompleted?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'}`,title:allCompleted?t('tasks.dependenciesComplete','Dependencies complete'):t('tasks.dependenciesPending','Dependencies pending'),children:allCompleted?t('tasks.ready','Ready'):t('tasks.waiting','Waiting')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex flex-wrap gap-2 text-xs\",children:[task.date&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-0.5 rounded-full bg-blue-100 text-blue-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),formatDate(task.date),task.time&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\", \",task.time]})]}),/*#__PURE__*/_jsxs(\"span\",{className:`px-2 py-0.5 rounded-full flex items-center ${getPriorityColor(task.priority)}`,children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M13 10V3L4 14h7v7l9-11h-7z\"})}),t(`tasks.priorities.${task.priority}`,task.priority.charAt(0).toUpperCase()+task.priority.slice(1))]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded-full bg-gray-100 text-gray-800 capitalize\",children:t(`tasks.categories.${task.category}`,task.category)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(task),className:\"text-gray-400 hover:text-blue-500 p-1\",title:t('tasks.editTask','Edit Task'),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(task.id),className:\"text-gray-400 hover:text-red-500 p-1\",title:t('tasks.deleteTask','Delete Task'),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]},task.id);})})]},groupName);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-yellow-50 border border-yellow-200 p-3 rounded text-sm\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-yellow-800\",children:[t('tasks.taskPlanningTips','Task Planning Tips'),\":\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mt-1 ml-4 list-disc text-yellow-800\",children:[/*#__PURE__*/_jsx(\"li\",{children:t('tasks.tips.packingChecklist','Create a packing checklist before your trip')}),/*#__PURE__*/_jsx(\"li\",{children:t('tasks.tips.bookingDeadlines','Set reminders for booking deadlines')}),/*#__PURE__*/_jsx(\"li\",{children:t('tasks.tips.prioritySensitive','Mark time-sensitive tasks with high priority')}),/*#__PURE__*/_jsx(\"li\",{children:t('tasks.tips.useDependencies','Use dependencies for tasks that must be done in order')})]})]})]})]}),showEditModal&&editingTask&&/*#__PURE__*/_jsx(TaskEditModal,{task:editingTask,tasks:tripTasks,onSave:saveEditedTask,onCancel:closeEditModal,startDate:startDate,endDate:endDate}),/*#__PURE__*/_jsx(TaskReminders,{tasks:tripTasks,onViewTask:handleViewTaskFromReminder})]});}export default TasksTab;","map":{"version":3,"names":["React","useState","useEffect","TaskEditModal","TaskReminders","useI18n","jsx","_jsx","jsxs","_jsxs","TasksTab","_ref","tripTasks","setTripTasks","startDate","endDate","t","taskText","setTaskText","taskDate","setTaskDate","taskTime","setTaskTime","taskCategory","setTaskCategory","taskPriority","setTaskPriority","editingTask","setEditingTask","showEditModal","setShowEditModal","showCompleted","setShowCompleted","filterCategory","setFilterCategory","filterPriority","setFilterPriority","sortBy","setSortBy","groupBy","setGroupBy","addTask","newTask","id","Date","now","text","completed","date","time","category","priority","dependencies","createdAt","toISOString","completedAt","openEditModal","task","saveEditedTask","editedTask","map","closeEditModal","toggleTaskCompleted","find","length","dependenciesComplete","every","depId","depTask","alert","deleteTask","dependentTasks","filter","includes","confirmDelete","window","confirm","count","filteredTasks","sortedTasks","sort","a","b","localeCompare","priorityOrder","high","medium","low","groupedTasks","grouped","forEach","push","Object","entries","_ref2","_ref3","dateA","dateB","getPriorityColor","formatDate","dateString","toLocaleDateString","month","day","year","totalTasks","completedTasks","completionPercentage","Math","round","getDependencyStatus","hasDependencies","allCompleted","categories","Set","handleViewTaskFromReminder","className","children","type","value","onChange","e","target","placeholder","min","max","onClick","disabled","style","width","cat","categoryTasks","categoryCompleted","document","getElementById","classList","toggle","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","checked","_ref4","groupName","tasks","title","charAt","toUpperCase","slice","onSave","onCancel","onViewTask"],"sources":["C:/Users/juliu/Desktop/web/src/components/PlannerTabs/TasksTab.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TaskEditModal from '../Tasks/TaskEditModal';\r\nimport TaskReminders from '../Tasks/TaskReminders';\r\nimport { useI18n } from '../../utils/i18n'; // Import the i18n hook\r\n\r\nfunction TasksTab({\r\n  tripTasks,\r\n  setTripTasks,\r\n  startDate,\r\n  endDate\r\n}) {\r\n  // Get i18n functionality\r\n  const { t } = useI18n();\r\n  \r\n  // Task form state\r\n  const [taskText, setTaskText] = useState('');\r\n  const [taskDate, setTaskDate] = useState('');\r\n  const [taskTime, setTaskTime] = useState('');\r\n  const [taskCategory, setTaskCategory] = useState('preparation');\r\n  const [taskPriority, setTaskPriority] = useState('medium');\r\n  \r\n  // Edit modal state\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  \r\n  // Task filtering and display options\r\n  const [showCompleted, setShowCompleted] = useState(true);\r\n  const [filterCategory, setFilterCategory] = useState('all');\r\n  const [filterPriority, setFilterPriority] = useState('all');\r\n  const [sortBy, setSortBy] = useState('date'); // 'date', 'priority', 'time', or 'created'\r\n  const [groupBy, setGroupBy] = useState('date'); // 'date', 'category', or 'none'\r\n  \r\n  // Set default task date to trip start date if available\r\n  useEffect(() => {\r\n    if (startDate && !taskDate) {\r\n      setTaskDate(startDate);\r\n    }\r\n  }, [startDate, taskDate]);\r\n  \r\n  // Add a new task\r\n  function addTask() {\r\n    if (taskText) {\r\n      const newTask = {\r\n        id: Date.now(),\r\n        text: taskText,\r\n        completed: false,\r\n        date: taskDate || null,\r\n        time: taskTime || null,\r\n        category: taskCategory,\r\n        priority: taskPriority,\r\n        dependencies: [],\r\n        createdAt: new Date().toISOString(),\r\n        completedAt: null\r\n      };\r\n      \r\n      setTripTasks([...tripTasks, newTask]);\r\n      \r\n      // Reset form fields except category and priority\r\n      setTaskText('');\r\n      setTaskTime('');\r\n      // Keep the same category and priority for quick addition of similar tasks\r\n    }\r\n  }\r\n  \r\n  // Open edit modal for a task\r\n  function openEditModal(task) {\r\n    setEditingTask(task);\r\n    setShowEditModal(true);\r\n  }\r\n  \r\n  // Save edited task\r\n  function saveEditedTask(editedTask) {\r\n    setTripTasks(tripTasks.map(task => \r\n      task.id === editedTask.id ? editedTask : task\r\n    ));\r\n    setShowEditModal(false);\r\n    setEditingTask(null);\r\n  }\r\n  \r\n  // Close the edit modal\r\n  function closeEditModal() {\r\n    setShowEditModal(false);\r\n    setEditingTask(null);\r\n  }\r\n  \r\n  // Toggle task completion status\r\n  function toggleTaskCompleted(id) {\r\n    // Find the task\r\n    const task = tripTasks.find(t => t.id === id);\r\n    \r\n    // Check if task has dependencies that aren't completed\r\n    if (task && !task.completed && task.dependencies && task.dependencies.length > 0) {\r\n      const dependenciesComplete = task.dependencies.every(depId => {\r\n        const depTask = tripTasks.find(t => t.id === depId);\r\n        return depTask && depTask.completed;\r\n      });\r\n      \r\n      if (!dependenciesComplete) {\r\n        // Don't allow completion if dependencies aren't complete\r\n        alert(t('tasks.dependenciesNotCompleteError', 'You must complete all dependencies first'));\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Toggle completion status\r\n    setTripTasks(tripTasks.map(task => {\r\n      if (task.id === id) {\r\n        return {\r\n          ...task,\r\n          completed: !task.completed,\r\n          completedAt: !task.completed ? new Date().toISOString() : null\r\n        };\r\n      }\r\n      return task;\r\n    }));\r\n  }\r\n  \r\n  // Delete a task\r\n  function deleteTask(id) {\r\n    // Check if any tasks depend on this one\r\n    const dependentTasks = tripTasks.filter(task => \r\n      task.dependencies && task.dependencies.includes(id)\r\n    );\r\n    \r\n    if (dependentTasks.length > 0) {\r\n      // Ask for confirmation\r\n      const confirmDelete = window.confirm(\r\n        t('tasks.deleteTaskWithDependentsConfirmation', \r\n          `This task has ${dependentTasks.length} dependent task(s). Deleting it will remove the dependency. Continue?`, \r\n          { count: dependentTasks.length })\r\n      );\r\n      \r\n      if (!confirmDelete) return;\r\n      \r\n      // Remove the dependency from dependent tasks\r\n      setTripTasks(tripTasks.map(task => {\r\n        if (task.dependencies && task.dependencies.includes(id)) {\r\n          return {\r\n            ...task,\r\n            dependencies: task.dependencies.filter(depId => depId !== id)\r\n          };\r\n        }\r\n        return task;\r\n      }).filter(task => task.id !== id));\r\n    } else {\r\n      // No dependencies, just remove the task\r\n      setTripTasks(tripTasks.filter(task => task.id !== id));\r\n    }\r\n  }\r\n  \r\n  // Filter tasks based on filter settings\r\n  const filteredTasks = tripTasks.filter(task => {\r\n    // Filter by completion status\r\n    if (!showCompleted && task.completed) return false;\r\n    \r\n    // Filter by category\r\n    if (filterCategory !== 'all' && task.category !== filterCategory) return false;\r\n    \r\n    // Filter by priority\r\n    if (filterPriority !== 'all' && task.priority !== filterPriority) return false;\r\n    \r\n    return true;\r\n  });\r\n  \r\n  // Sort filtered tasks\r\n  const sortedTasks = [...filteredTasks].sort((a, b) => {\r\n    switch (sortBy) {\r\n      case 'date':\r\n        // Sort by date, null dates at the end\r\n        if (!a.date && !b.date) return 0;\r\n        if (!a.date) return 1;\r\n        if (!b.date) return -1;\r\n        // If same date, sort by time if available\r\n        if (a.date === b.date) {\r\n          if (!a.time && !b.time) return 0;\r\n          if (!a.time) return 1;\r\n          if (!b.time) return -1;\r\n          return a.time.localeCompare(b.time);\r\n        }\r\n        return new Date(a.date) - new Date(b.date);\r\n      \r\n      case 'time':\r\n        // Sort by time, null times at the end\r\n        if (!a.time && !b.time) return 0;\r\n        if (!a.time) return 1;\r\n        if (!b.time) return -1;\r\n        return a.time.localeCompare(b.time);\r\n      \r\n      case 'priority':\r\n        // Sort by priority (high -> medium -> low)\r\n        const priorityOrder = { high: 0, medium: 1, low: 2 };\r\n        return priorityOrder[a.priority] - priorityOrder[b.priority];\r\n      \r\n      case 'created':\r\n        // Sort by creation date (newest first)\r\n        return new Date(b.createdAt) - new Date(a.createdAt);\r\n        \r\n      default:\r\n        return 0;\r\n    }\r\n  });\r\n  \r\n  // Group tasks if grouping is enabled\r\n  let groupedTasks = sortedTasks;\r\n  \r\n  if (groupBy !== 'none') {\r\n    const grouped = {};\r\n    \r\n    if (groupBy === 'date') {\r\n      // Group by date\r\n      // Add tasks with dates\r\n      sortedTasks.filter(task => task.date).forEach(task => {\r\n        if (!grouped[task.date]) {\r\n          grouped[task.date] = [];\r\n        }\r\n        grouped[task.date].push(task);\r\n      });\r\n      \r\n      // Add undated tasks at the end\r\n      grouped[t('tasks.noDate', 'No Date')] = sortedTasks.filter(task => !task.date);\r\n      \r\n      // Sort date groups chronologically\r\n      groupedTasks = Object.entries(grouped)\r\n        .sort(([dateA], [dateB]) => {\r\n          if (dateA === t('tasks.noDate', 'No Date')) return 1;\r\n          if (dateB === t('tasks.noDate', 'No Date')) return -1;\r\n          return new Date(dateA) - new Date(dateB);\r\n        });\r\n    } else if (groupBy === 'category') {\r\n      // Group by category\r\n      sortedTasks.forEach(task => {\r\n        if (!grouped[task.category]) {\r\n          grouped[task.category] = [];\r\n        }\r\n        grouped[task.category].push(task);\r\n      });\r\n      \r\n      // Convert to array for rendering\r\n      groupedTasks = Object.entries(grouped);\r\n    }\r\n  } else {\r\n    // If no grouping, wrap tasks in a format compatible with the rendering logic\r\n    groupedTasks = [[t('tasks.allTasks', 'All Tasks'), sortedTasks]];\r\n  }\r\n  \r\n  // Helper to get priority color\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return 'text-red-600 bg-red-50';\r\n      case 'medium':\r\n        return 'text-yellow-600 bg-yellow-50';\r\n      case 'low':\r\n        return 'text-green-600 bg-green-50';\r\n      default:\r\n        return 'text-gray-600 bg-gray-50';\r\n    }\r\n  };\r\n  \r\n  // Helper to format date for display\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    \r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', { \r\n      month: 'short', \r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n  \r\n  // Calculate task statistics\r\n  const totalTasks = tripTasks.length;\r\n  const completedTasks = tripTasks.filter(task => task.completed).length;\r\n  const completionPercentage = totalTasks === 0 ? 0 : Math.round((completedTasks / totalTasks) * 100);\r\n  \r\n  // Check if a task has dependencies and if they're completed\r\n  const getDependencyStatus = (task) => {\r\n    if (!task.dependencies || task.dependencies.length === 0) {\r\n      return { hasDependencies: false, allCompleted: true };\r\n    }\r\n    \r\n    const dependenciesComplete = task.dependencies.every(depId => {\r\n      const depTask = tripTasks.find(t => t.id === depId);\r\n      return depTask && depTask.completed;\r\n    });\r\n    \r\n    return { hasDependencies: true, allCompleted: dependenciesComplete };\r\n  };\r\n  \r\n  // Get unique categories from tasks\r\n  const categories = ['all', ...new Set(tripTasks.map(task => task.category))];\r\n  \r\n  // Handle view task from reminders\r\n  const handleViewTaskFromReminder = (task) => {\r\n    openEditModal(task);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Add Task Form */}\r\n        <div>\r\n          <h3 className=\"font-semibold mb-3\">{t('tasks.addTask', 'Add Task')}</h3>\r\n          \r\n          <div className=\"space-y-3 bg-white border border-gray-200 p-4 rounded-lg\">\r\n            <div>\r\n              <label className=\"block text-gray-700 mb-1 text-sm\">{t('tasks.taskDescription', 'Task Description')}</label>\r\n              <input\r\n                type=\"text\"\r\n                value={taskText}\r\n                onChange={e => setTaskText(e.target.value)}\r\n                placeholder={t('tasks.whatNeedsToBeDone', 'What needs to be done?')}\r\n                className=\"w-full p-2 border border-gray-300 rounded\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-1 text-sm\">{t('tasks.dueDate', 'Due Date')}</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={taskDate}\r\n                  onChange={e => setTaskDate(e.target.value)}\r\n                  min={startDate || ''}\r\n                  max={endDate || ''}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-1 text-sm\">\r\n                  {t('tasks.time', 'Time')} ({t('tasks.optional', 'Optional')})\r\n                </label>\r\n                <input\r\n                  type=\"time\"\r\n                  value={taskTime}\r\n                  onChange={e => setTaskTime(e.target.value)}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            {startDate && endDate && (\r\n              <p className=\"text-xs text-gray-500\">\r\n                {t('tasks.tripDates', 'Trip Dates')}: {formatDate(startDate)} {t('tasks.to', 'to')} {formatDate(endDate)}\r\n              </p>\r\n            )}\r\n            \r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-1 text-sm\">{t('tasks.category', 'Category')}</label>\r\n                <select\r\n                  value={taskCategory}\r\n                  onChange={e => setTaskCategory(e.target.value)}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                >\r\n                  <option value=\"preparation\">{t('tasks.categories.preparation', 'Preparation')}</option>\r\n                  <option value=\"packing\">{t('tasks.categories.packing', 'Packing')}</option>\r\n                  <option value=\"booking\">{t('tasks.categories.booking', 'Booking')}</option>\r\n                  <option value=\"activity\">{t('tasks.categories.activity', 'Activity')}</option>\r\n                  <option value=\"transportation\">{t('tasks.categories.transportation', 'Transportation')}</option>\r\n                  <option value=\"accommodation\">{t('tasks.categories.accommodation', 'Accommodation')}</option>\r\n                  <option value=\"other\">{t('tasks.categories.other', 'Other')}</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-gray-700 mb-1 text-sm\">{t('tasks.priority', 'Priority')}</label>\r\n                <select\r\n                  value={taskPriority}\r\n                  onChange={e => setTaskPriority(e.target.value)}\r\n                  className=\"w-full p-2 border border-gray-300 rounded\"\r\n                >\r\n                  <option value=\"high\">{t('tasks.priorities.high', 'High')}</option>\r\n                  <option value=\"medium\">{t('tasks.priorities.medium', 'Medium')}</option>\r\n                  <option value=\"low\">{t('tasks.priorities.low', 'Low')}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={addTask}\r\n              disabled={!taskText}\r\n              className={`w-full py-2 rounded ${\r\n                !taskText\r\n                  ? 'bg-gray-300 cursor-not-allowed' \r\n                  : 'bg-blue-500 text-white hover:bg-blue-600'\r\n              }`}\r\n            >\r\n              {t('tasks.addTask', 'Add Task')}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Task statistics */}\r\n          {tripTasks.length > 0 && (\r\n            <div className=\"mt-4 bg-blue-50 p-3 rounded-lg\">\r\n              <h4 className=\"font-semibold text-blue-800 mb-2\">{t('tasks.taskProgress', 'Task Progress')}</h4>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm\">\r\n                  {completedTasks} {t('tasks.of', 'of')} {totalTasks} {t('tasks.completed', 'completed')}\r\n                </span>\r\n                <span className=\"text-sm font-medium\">{completionPercentage}%</span>\r\n              </div>\r\n              <div className=\"mt-3 w-full bg-gray-200 rounded-full h-2.5\">\r\n                <div\r\n                  className=\"bg-blue-600 h-2.5 rounded-full\"\r\n                  style={{ width: `${completionPercentage}%` }}\r\n                ></div>\r\n              </div>\r\n              \r\n              {/* Task breakdown by category */}\r\n              <div className=\"mt-3 pt-3 border-t border-blue-200\">\r\n                <h5 className=\"text-sm font-medium text-blue-800 mb-2\">{t('tasks.taskBreakdown', 'Task Breakdown')}</h5>\r\n                <div className=\"grid grid-cols-2 gap-x-2 gap-y-1\">\r\n                  {categories.filter(cat => cat !== 'all').map(category => {\r\n                    const categoryTasks = tripTasks.filter(task => task.category === category);\r\n                    const categoryCompleted = categoryTasks.filter(task => task.completed).length;\r\n                    \r\n                    if (categoryTasks.length === 0) return null;\r\n                    \r\n                    return (\r\n                      <div key={category} className=\"flex justify-between items-center\">\r\n                        <span className=\"text-xs capitalize\">\r\n                          {t(`tasks.categories.${category}`, category)}:\r\n                        </span>\r\n                        <span className=\"text-xs\">\r\n                          {categoryCompleted}/{categoryTasks.length}\r\n                        </span>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Tasks List with Filters */}\r\n        <div>\r\n          <div className=\"flex justify-between items-center mb-3\">\r\n            <h3 className=\"font-semibold\">{t('tasks.yourTasks', 'Your Tasks')}</h3>\r\n            \r\n            {/* Task filters/sort dropdown */}\r\n            <div className=\"relative\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"text-sm bg-white border border-gray-300 rounded px-3 py-1 flex items-center\"\r\n                onClick={() => document.getElementById('task-options').classList.toggle('hidden')}\r\n              >\r\n                <span>{t('tasks.options', 'Options')}</span>\r\n                <svg className=\"w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path>\r\n                </svg>\r\n              </button>\r\n              \r\n              <div id=\"task-options\" className=\"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200\">\r\n                <div className=\"p-3 space-y-3\">\r\n                  {/* Show/hide completed */}\r\n                  <label className=\"flex items-center cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={showCompleted}\r\n                      onChange={() => setShowCompleted(!showCompleted)}\r\n                      className=\"mr-2\"\r\n                    />\r\n                    <span className=\"text-sm\">{t('tasks.showCompleted', 'Show Completed')}</span>\r\n                  </label>\r\n                  \r\n                  {/* Category filter */}\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-500 mb-1\">{t('tasks.filterByCategory', 'Filter by Category')}</label>\r\n                    <select\r\n                      value={filterCategory}\r\n                      onChange={e => setFilterCategory(e.target.value)}\r\n                      className=\"w-full p-1 text-sm border border-gray-300 rounded\"\r\n                    >\r\n                      <option value=\"all\">{t('tasks.allCategories', 'All Categories')}</option>\r\n                      {categories.filter(cat => cat !== 'all').map(category => (\r\n                        <option key={category} value={category} className=\"capitalize\">\r\n                          {t(`tasks.categories.${category}`, category)}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  {/* Priority filter */}\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-500 mb-1\">{t('tasks.filterByPriority', 'Filter by Priority')}</label>\r\n                    <select\r\n                      value={filterPriority}\r\n                      onChange={e => setFilterPriority(e.target.value)}\r\n                      className=\"w-full p-1 text-sm border border-gray-300 rounded\"\r\n                    >\r\n                      <option value=\"all\">{t('tasks.allPriorities', 'All Priorities')}</option>\r\n                      <option value=\"high\">{t('tasks.priorities.high', 'High')}</option>\r\n                      <option value=\"medium\">{t('tasks.priorities.medium', 'Medium')}</option>\r\n                      <option value=\"low\">{t('tasks.priorities.low', 'Low')}</option>\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  {/* Sort options */}\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-500 mb-1\">{t('tasks.sortBy', 'Sort By')}</label>\r\n                    <select\r\n                      value={sortBy}\r\n                      onChange={e => setSortBy(e.target.value)}\r\n                      className=\"w-full p-1 text-sm border border-gray-300 rounded\"\r\n                    >\r\n                      <option value=\"date\">{t('tasks.dueDate', 'Due Date')}</option>\r\n                      <option value=\"time\">{t('tasks.time', 'Time')}</option>\r\n                      <option value=\"priority\">{t('tasks.priority', 'Priority')}</option>\r\n                      <option value=\"created\">{t('tasks.recentlyAdded', 'Recently Added')}</option>\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  {/* Group options */}\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-500 mb-1\">{t('tasks.groupBy', 'Group By')}</label>\r\n                    <select\r\n                      value={groupBy}\r\n                      onChange={e => setGroupBy(e.target.value)}\r\n                      className=\"w-full p-1 text-sm border border-gray-300 rounded\"\r\n                    >\r\n                      <option value=\"date\">{t('tasks.date', 'Date')}</option>\r\n                      <option value=\"category\">{t('tasks.category', 'Category')}</option>\r\n                      <option value=\"none\">{t('tasks.noGrouping', 'No Grouping')}</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {filteredTasks.length === 0 ? (\r\n            <div className=\"bg-gray-50 p-4 rounded-lg text-center\">\r\n              <p className=\"text-gray-500\">{t('tasks.noTasksMatch', 'No tasks match your filters.')}</p>\r\n              <button\r\n                onClick={() => {\r\n                  setShowCompleted(true);\r\n                  setFilterCategory('all');\r\n                  setFilterPriority('all');\r\n                }}\r\n                className=\"mt-2 text-blue-500 text-sm\"\r\n              >\r\n                {t('tasks.resetFilters', 'Reset Filters')}\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n              {/* Grouped tasks */}\r\n              <div className=\"max-h-[500px] overflow-y-auto\">\r\n                {groupedTasks.map(([groupName, tasks]) => (\r\n                  <div key={groupName} className=\"border-b border-gray-200 last:border-b-0\">\r\n                    <div className=\"bg-gray-100 px-4 py-2 font-medium flex justify-between items-center\">\r\n                      {groupBy === 'date' && groupName !== t('tasks.noDate', 'No Date') ? (\r\n                        <span>{formatDate(groupName)}</span>\r\n                      ) : (\r\n                        <span className=\"capitalize\">\r\n                          {t(`tasks.categories.${groupName}`, groupName)}\r\n                        </span>\r\n                      )}\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {tasks.length} {t('tasks.taskCount', 'task(s)', { count: tasks.length })}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      {tasks.length === 0 ? (\r\n                        <div className=\"p-3 text-center text-sm text-gray-500\">\r\n                          {t('tasks.noTasksInGroup', 'No tasks in this group')}\r\n                        </div>\r\n                      ) : (\r\n                        tasks.map(task => {\r\n                          const { hasDependencies, allCompleted } = getDependencyStatus(task);\r\n                          \r\n                          return (\r\n                            <div \r\n                              key={task.id} \r\n                              className={`flex items-start p-3 border-b border-gray-100 last:border-b-0 \r\n                                ${task.completed ? 'bg-gray-50' : ''}`}\r\n                            >\r\n                              <div className=\"flex-shrink-0 pt-1\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={task.completed}\r\n                                  onChange={() => toggleTaskCompleted(task.id)}\r\n                                  className=\"h-4 w-4\"\r\n                                  disabled={!task.completed && hasDependencies && !allCompleted}\r\n                                  title={!task.completed && hasDependencies && !allCompleted ? \r\n                                    t('tasks.completeDependenciesFirst', 'Complete dependencies first') : \"\"}\r\n                                />\r\n                              </div>\r\n                              <div className=\"ml-3 flex-1\">\r\n                                <div className=\"flex items-center\">\r\n                                  <p className={`${task.completed ? 'line-through text-gray-500' : 'font-medium'}`}>\r\n                                    {task.text}\r\n                                  </p>\r\n                                  {hasDependencies && !task.completed && (\r\n                                    <span \r\n                                      className={`ml-2 inline-flex items-center text-xs font-medium px-2 py-0.5 rounded-full\r\n                                        ${allCompleted ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}\r\n                                      title={allCompleted ? \r\n                                        t('tasks.dependenciesComplete', 'Dependencies complete') : \r\n                                        t('tasks.dependenciesPending', 'Dependencies pending')}\r\n                                    >\r\n                                      {allCompleted ? \r\n                                        t('tasks.ready', 'Ready') : \r\n                                        t('tasks.waiting', 'Waiting')}\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                                <div className=\"mt-1 flex flex-wrap gap-2 text-xs\">\r\n                                  {task.date && (\r\n                                    <span className=\"px-2 py-0.5 rounded-full bg-blue-100 text-blue-800 flex items-center\">\r\n                                      <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\r\n                                      </svg>\r\n                                      {formatDate(task.date)}\r\n                                      {task.time && (\r\n                                        <span className=\"ml-1\">, {task.time}</span>\r\n                                      )}\r\n                                    </span>\r\n                                  )}\r\n                                  <span className={`px-2 py-0.5 rounded-full flex items-center ${getPriorityColor(task.priority)}`}>\r\n                                    <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\"></path>\r\n                                    </svg>\r\n                                    {t(`tasks.priorities.${task.priority}`, task.priority.charAt(0).toUpperCase() + task.priority.slice(1))}\r\n                                  </span>\r\n                                  <span className=\"px-2 py-0.5 rounded-full bg-gray-100 text-gray-800 capitalize\">\r\n                                    {t(`tasks.categories.${task.category}`, task.category)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"ml-2 flex items-center space-x-1\">\r\n                                <button\r\n                                  onClick={() => openEditModal(task)}\r\n                                  className=\"text-gray-400 hover:text-blue-500 p-1\"\r\n                                  title={t('tasks.editTask', 'Edit Task')}\r\n                                >\r\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"></path>\r\n                                  </svg>\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => deleteTask(task.id)}\r\n                                  className=\"text-gray-400 hover:text-red-500 p-1\"\r\n                                  title={t('tasks.deleteTask', 'Delete Task')}\r\n                                >\r\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\r\n                                  </svg>\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Quick tip card */}\r\n          <div className=\"mt-4 bg-yellow-50 border border-yellow-200 p-3 rounded text-sm\">\r\n            <h4 className=\"font-semibold text-yellow-800\">{t('tasks.taskPlanningTips', 'Task Planning Tips')}:</h4>\r\n            <ul className=\"mt-1 ml-4 list-disc text-yellow-800\">\r\n              <li>{t('tasks.tips.packingChecklist', 'Create a packing checklist before your trip')}</li>\r\n              <li>{t('tasks.tips.bookingDeadlines', 'Set reminders for booking deadlines')}</li>\r\n              <li>{t('tasks.tips.prioritySensitive', 'Mark time-sensitive tasks with high priority')}</li>\r\n              <li>{t('tasks.tips.useDependencies', 'Use dependencies for tasks that must be done in order')}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Task Edit Modal */}\r\n      {showEditModal && editingTask && (\r\n        <TaskEditModal \r\n          task={editingTask}\r\n          tasks={tripTasks}\r\n          onSave={saveEditedTask}\r\n          onCancel={closeEditModal}\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n        />\r\n      )}\r\n      \r\n      {/* Task Reminders */}\r\n      <TaskReminders \r\n        tasks={tripTasks}\r\n        onViewTask={handleViewTaskFromReminder}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TasksTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}