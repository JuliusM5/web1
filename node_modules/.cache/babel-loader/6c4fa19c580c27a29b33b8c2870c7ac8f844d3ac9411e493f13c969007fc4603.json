{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juliu\\\\Desktop\\\\web\\\\src\\\\components\\\\Accessibility\\\\AccessibleModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { createFocusTrap, generateUniqueId } from '../../utils/accessibilityUtils';\nimport AccessibleButton from './AccessibleButton';\n\n/**\r\n * Accessible modal component with focus management and keyboard navigation\r\n * \r\n * @param {Object} props - Component props\r\n * @param {boolean} props.isOpen - Whether the modal is open\r\n * @param {Function} props.onClose - Function to call when modal should close\r\n * @param {string} props.title - Modal title\r\n * @param {React.ReactNode} props.children - Modal content\r\n * @param {string} props.size - Modal size ('small', 'medium', 'large', 'full')\r\n * @param {boolean} props.showCloseButton - Whether to show the close button\r\n * @param {boolean} props.closeOnBackdropClick - Whether clicking outside should close the modal\r\n * @param {boolean} props.closeOnEscape - Whether pressing Escape should close the modal\r\n * @param {string} props.className - Additional CSS classes\r\n * @returns {React.ReactElement|null} - Modal component or null if closed\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AccessibleModal({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'medium',\n  showCloseButton = true,\n  closeOnBackdropClick = true,\n  closeOnEscape = true,\n  className = ''\n}) {\n  _s();\n  const modalRef = useRef(null);\n  const headingId = useRef(generateUniqueId('modal-title')).current;\n  const descriptionId = useRef(generateUniqueId('modal-desc')).current;\n\n  // Setup focus trap when modal is opened\n  useEffect(() => {\n    if (!isOpen || !modalRef.current) return;\n\n    // Save previous active element to restore focus later\n    const previousActiveElement = document.activeElement;\n\n    // Create the focus trap\n    const removeFocusTrap = createFocusTrap(modalRef.current);\n\n    // Handle escape key\n    const handleKeyDown = event => {\n      if (closeOnEscape && event.key === 'Escape') {\n        event.preventDefault();\n        onClose();\n      }\n    };\n\n    // Add event listener for escape key\n    document.addEventListener('keydown', handleKeyDown);\n\n    // Prevent scrolling on body while modal is open\n    document.body.style.overflow = 'hidden';\n\n    // Clean up function\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = '';\n      removeFocusTrap();\n\n      // Restore focus to the element that was focused before the modal opened\n      if (previousActiveElement) {\n        previousActiveElement.focus();\n      }\n    };\n  }, [isOpen, closeOnEscape, onClose]);\n\n  // Handle backdrop click\n  const handleBackdropClick = event => {\n    if (closeOnBackdropClick && event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  // Don't render anything if the modal is closed\n  if (!isOpen) return null;\n\n  // Determine the size class\n  const sizeClasses = {\n    small: 'max-w-sm',\n    medium: 'max-w-md',\n    large: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl',\n    '6xl': 'max-w-6xl',\n    '7xl': 'max-w-7xl',\n    full: 'max-w-full'\n  };\n  const sizeClass = sizeClasses[size] || sizeClasses.medium;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 overflow-y-auto\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": headingId,\n    \"aria-describedby\": descriptionId,\n    onClick: handleBackdropClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-screen items-end justify-center p-4 sm:items-center sm:p-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: modalRef,\n        className: `relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all ${sizeClass} w-full ${className}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-3 sm:px-6 border-b border-gray-200 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            id: headingId,\n            className: \"text-lg font-medium text-gray-900\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), showCloseButton && /*#__PURE__*/_jsxDEV(AccessibleButton, {\n            onClick: onClose,\n            variant: \"secondary\",\n            size: \"small\",\n            ariaLabel: \"Close modal\",\n            className: \"!p-1\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: descriptionId,\n          className: \"p-6\",\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(AccessibleModal, \"6T1Axr/iuPqQ18XvptuP1OGQHRY=\");\n_c = AccessibleModal;\nexport default AccessibleModal;\nvar _c;\n$RefreshReg$(_c, \"AccessibleModal\");","map":{"version":3,"names":["React","useEffect","useRef","createFocusTrap","generateUniqueId","AccessibleButton","jsxDEV","_jsxDEV","AccessibleModal","isOpen","onClose","title","children","size","showCloseButton","closeOnBackdropClick","closeOnEscape","className","_s","modalRef","headingId","current","descriptionId","previousActiveElement","document","activeElement","removeFocusTrap","handleKeyDown","event","key","preventDefault","addEventListener","body","style","overflow","removeEventListener","focus","handleBackdropClick","target","currentTarget","sizeClasses","small","medium","large","xl","full","sizeClass","role","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","id","variant","ariaLabel","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/Users/juliu/Desktop/web/src/components/Accessibility/AccessibleModal.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { createFocusTrap, generateUniqueId } from '../../utils/accessibilityUtils';\r\nimport AccessibleButton from './AccessibleButton';\r\n\r\n/**\r\n * Accessible modal component with focus management and keyboard navigation\r\n * \r\n * @param {Object} props - Component props\r\n * @param {boolean} props.isOpen - Whether the modal is open\r\n * @param {Function} props.onClose - Function to call when modal should close\r\n * @param {string} props.title - Modal title\r\n * @param {React.ReactNode} props.children - Modal content\r\n * @param {string} props.size - Modal size ('small', 'medium', 'large', 'full')\r\n * @param {boolean} props.showCloseButton - Whether to show the close button\r\n * @param {boolean} props.closeOnBackdropClick - Whether clicking outside should close the modal\r\n * @param {boolean} props.closeOnEscape - Whether pressing Escape should close the modal\r\n * @param {string} props.className - Additional CSS classes\r\n * @returns {React.ReactElement|null} - Modal component or null if closed\r\n */\r\nfunction AccessibleModal({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  size = 'medium',\r\n  showCloseButton = true,\r\n  closeOnBackdropClick = true,\r\n  closeOnEscape = true,\r\n  className = '',\r\n}) {\r\n  const modalRef = useRef(null);\r\n  const headingId = useRef(generateUniqueId('modal-title')).current;\r\n  const descriptionId = useRef(generateUniqueId('modal-desc')).current;\r\n  \r\n  // Setup focus trap when modal is opened\r\n  useEffect(() => {\r\n    if (!isOpen || !modalRef.current) return;\r\n    \r\n    // Save previous active element to restore focus later\r\n    const previousActiveElement = document.activeElement;\r\n    \r\n    // Create the focus trap\r\n    const removeFocusTrap = createFocusTrap(modalRef.current);\r\n    \r\n    // Handle escape key\r\n    const handleKeyDown = (event) => {\r\n      if (closeOnEscape && event.key === 'Escape') {\r\n        event.preventDefault();\r\n        onClose();\r\n      }\r\n    };\r\n    \r\n    // Add event listener for escape key\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    \r\n    // Prevent scrolling on body while modal is open\r\n    document.body.style.overflow = 'hidden';\r\n    \r\n    // Clean up function\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n      document.body.style.overflow = '';\r\n      removeFocusTrap();\r\n      \r\n      // Restore focus to the element that was focused before the modal opened\r\n      if (previousActiveElement) {\r\n        previousActiveElement.focus();\r\n      }\r\n    };\r\n  }, [isOpen, closeOnEscape, onClose]);\r\n  \r\n  // Handle backdrop click\r\n  const handleBackdropClick = (event) => {\r\n    if (closeOnBackdropClick && event.target === event.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  \r\n  // Don't render anything if the modal is closed\r\n  if (!isOpen) return null;\r\n  \r\n  // Determine the size class\r\n  const sizeClasses = {\r\n    small: 'max-w-sm',\r\n    medium: 'max-w-md',\r\n    large: 'max-w-lg',\r\n    xl: 'max-w-xl',\r\n    '2xl': 'max-w-2xl',\r\n    '3xl': 'max-w-3xl',\r\n    '4xl': 'max-w-4xl',\r\n    '5xl': 'max-w-5xl',\r\n    '6xl': 'max-w-6xl',\r\n    '7xl': 'max-w-7xl',\r\n    full: 'max-w-full'\r\n  };\r\n  \r\n  const sizeClass = sizeClasses[size] || sizeClasses.medium;\r\n  \r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 overflow-y-auto\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby={headingId}\r\n      aria-describedby={descriptionId}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      {/* Backdrop */}\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"></div>\r\n      \r\n      {/* Modal content */}\r\n      <div className=\"flex min-h-screen items-end justify-center p-4 sm:items-center sm:p-0\">\r\n        <div\r\n          ref={modalRef}\r\n          className={`relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all ${sizeClass} w-full ${className}`}\r\n        >\r\n          {/* Modal header */}\r\n          <div className=\"bg-gray-50 px-4 py-3 sm:px-6 border-b border-gray-200 flex justify-between items-center\">\r\n            <h2 id={headingId} className=\"text-lg font-medium text-gray-900\">\r\n              {title}\r\n            </h2>\r\n            \r\n            {showCloseButton && (\r\n              <AccessibleButton\r\n                onClick={onClose}\r\n                variant=\"secondary\"\r\n                size=\"small\"\r\n                ariaLabel=\"Close modal\"\r\n                className=\"!p-1\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n                </svg>\r\n              </AccessibleButton>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Modal body */}\r\n          <div id={descriptionId} className=\"p-6\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AccessibleModal;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,eAAe,EAAEC,gBAAgB,QAAQ,gCAAgC;AAClF,OAAOC,gBAAgB,MAAM,oBAAoB;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA,SAAAC,MAAA,IAAAC,OAAA;AAeA,SAASC,eAAeA,CAAC;EACvBC,MAAM;EACNC,OAAO;EACPC,KAAK;EACLC,QAAQ;EACRC,IAAI,GAAG,QAAQ;EACfC,eAAe,GAAG,IAAI;EACtBC,oBAAoB,GAAG,IAAI;EAC3BC,aAAa,GAAG,IAAI;EACpBC,SAAS,GAAG;AACd,CAAC,EAAE;EAAAC,EAAA;EACD,MAAMC,QAAQ,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMkB,SAAS,GAAGlB,MAAM,CAACE,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAACiB,OAAO;EACjE,MAAMC,aAAa,GAAGpB,MAAM,CAACE,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAACiB,OAAO;;EAEpE;EACApB,SAAS,CAAC,MAAM;IACd,IAAI,CAACQ,MAAM,IAAI,CAACU,QAAQ,CAACE,OAAO,EAAE;;IAElC;IACA,MAAME,qBAAqB,GAAGC,QAAQ,CAACC,aAAa;;IAEpD;IACA,MAAMC,eAAe,GAAGvB,eAAe,CAACgB,QAAQ,CAACE,OAAO,CAAC;;IAEzD;IACA,MAAMM,aAAa,GAAIC,KAAK,IAAK;MAC/B,IAAIZ,aAAa,IAAIY,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;QAC3CD,KAAK,CAACE,cAAc,CAAC,CAAC;QACtBpB,OAAO,CAAC,CAAC;MACX;IACF,CAAC;;IAED;IACAc,QAAQ,CAACO,gBAAgB,CAAC,SAAS,EAAEJ,aAAa,CAAC;;IAEnD;IACAH,QAAQ,CAACQ,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;;IAEvC;IACA,OAAO,MAAM;MACXV,QAAQ,CAACW,mBAAmB,CAAC,SAAS,EAAER,aAAa,CAAC;MACtDH,QAAQ,CAACQ,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,EAAE;MACjCR,eAAe,CAAC,CAAC;;MAEjB;MACA,IAAIH,qBAAqB,EAAE;QACzBA,qBAAqB,CAACa,KAAK,CAAC,CAAC;MAC/B;IACF,CAAC;EACH,CAAC,EAAE,CAAC3B,MAAM,EAAEO,aAAa,EAAEN,OAAO,CAAC,CAAC;;EAEpC;EACA,MAAM2B,mBAAmB,GAAIT,KAAK,IAAK;IACrC,IAAIb,oBAAoB,IAAIa,KAAK,CAACU,MAAM,KAAKV,KAAK,CAACW,aAAa,EAAE;MAChE7B,OAAO,CAAC,CAAC;IACX;EACF,CAAC;;EAED;EACA,IAAI,CAACD,MAAM,EAAE,OAAO,IAAI;;EAExB;EACA,MAAM+B,WAAW,GAAG;IAClBC,KAAK,EAAE,UAAU;IACjBC,MAAM,EAAE,UAAU;IAClBC,KAAK,EAAE,UAAU;IACjBC,EAAE,EAAE,UAAU;IACd,KAAK,EAAE,WAAW;IAClB,KAAK,EAAE,WAAW;IAClB,KAAK,EAAE,WAAW;IAClB,KAAK,EAAE,WAAW;IAClB,KAAK,EAAE,WAAW;IAClB,KAAK,EAAE,WAAW;IAClBC,IAAI,EAAE;EACR,CAAC;EAED,MAAMC,SAAS,GAAGN,WAAW,CAAC3B,IAAI,CAAC,IAAI2B,WAAW,CAACE,MAAM;EAEzD,oBACEnC,OAAA;IACEU,SAAS,EAAC,oCAAoC;IAC9C8B,IAAI,EAAC,QAAQ;IACb,cAAW,MAAM;IACjB,mBAAiB3B,SAAU;IAC3B,oBAAkBE,aAAc;IAChC0B,OAAO,EAAEX,mBAAoB;IAAAzB,QAAA,gBAG7BL,OAAA;MAAKU,SAAS,EAAC;IAAyD;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAG/E7C,OAAA;MAAKU,SAAS,EAAC,uEAAuE;MAAAL,QAAA,eACpFL,OAAA;QACE8C,GAAG,EAAElC,QAAS;QACdF,SAAS,EAAE,6FAA6F6B,SAAS,WAAW7B,SAAS,EAAG;QAAAL,QAAA,gBAGxIL,OAAA;UAAKU,SAAS,EAAC,yFAAyF;UAAAL,QAAA,gBACtGL,OAAA;YAAI+C,EAAE,EAAElC,SAAU;YAACH,SAAS,EAAC,mCAAmC;YAAAL,QAAA,EAC7DD;UAAK;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,EAEJtC,eAAe,iBACdP,OAAA,CAACF,gBAAgB;YACf2C,OAAO,EAAEtC,OAAQ;YACjB6C,OAAO,EAAC,WAAW;YACnB1C,IAAI,EAAC,OAAO;YACZ2C,SAAS,EAAC,aAAa;YACvBvC,SAAS,EAAC,MAAM;YAAAL,QAAA,eAEhBL,OAAA;cAAKU,SAAS,EAAC,SAAS;cAACwC,IAAI,EAAC,MAAM;cAACC,MAAM,EAAC,cAAc;cAACC,OAAO,EAAC,WAAW;cAACC,KAAK,EAAC,4BAA4B;cAAAhD,QAAA,eAC/GL,OAAA;gBAAMsD,aAAa,EAAC,OAAO;gBAACC,cAAc,EAAC,OAAO;gBAACC,WAAW,EAAC,GAAG;gBAACC,CAAC,EAAC;cAAsB;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU,CACnB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGN7C,OAAA;UAAK+C,EAAE,EAAEhC,aAAc;UAACL,SAAS,EAAC,KAAK;UAAAL,QAAA,EACpCA;QAAQ;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAClC,EAAA,CA9HQV,eAAe;AAAAyD,EAAA,GAAfzD,eAAe;AAgIxB,eAAeA,eAAe;AAAC,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}