{"ast":null,"code":"import React,{useState,useEffect}from'react';// Simple airport input component (replacing AirportAutocomplete)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SimpleAirportInput(_ref){let{placeholder,onSelect,selectedAirport}=_ref;const[inputValue,setInputValue]=useState('');// Update input value when selectedAirport changes\nuseEffect(()=>{if(selectedAirport){setInputValue(`${selectedAirport.city} (${selectedAirport.code})`);}else{setInputValue('');}},[selectedAirport]);const handleInputChange=e=>{setInputValue(e.target.value);};const handleKeyDown=e=>{// Simulate selecting an airport on Enter key\nif(e.key==='Enter'&&inputValue.trim()){// Parse city and code from input (assuming format \"City (CODE)\")\nconst match=inputValue.match(/(.*)\\s*\\(([A-Z]{3})\\)/);if(match){onSelect({city:match[1].trim(),code:match[2],country:'Unknown'// Placeholder\n});}else{// If not in expected format, create simple object with input as city\nonSelect({city:inputValue,code:inputValue.substring(0,3).toUpperCase(),country:'Unknown'});}}};return/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:placeholder,value:inputValue,onChange:handleInputChange,onKeyDown:handleKeyDown});}function LocationSelector(_ref2){let{onLocationChange}=_ref2;const[origin,setOrigin]=useState(null);const[destination,setDestination]=useState(null);const[error,setError]=useState('');// Remove the unused loading state\nuseEffect(()=>{// Only trigger the change when both origin and destination are selected\nif(origin&&destination){onLocationChange({origin,destination});}},[origin,destination,onLocationChange]);const handleSwapLocations=()=>{// Swap origin and destination\nconst temp=origin;setOrigin(destination);setDestination(temp);};const validateAndSetOrigin=airport=>{if(airport&&destination&&airport.code===destination.code){setError('Origin and destination cannot be the same');}else{setError('');setOrigin(airport);}};const validateAndSetDestination=airport=>{if(airport&&origin&&airport.code===origin.code){setError('Origin and destination cannot be the same');}else{setError('');setDestination(airport);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center gap-4 relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-2/5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"From\"}),/*#__PURE__*/_jsx(SimpleAirportInput,{placeholder:\"Departure city or airport\",onSelect:validateAndSetOrigin,selectedAirport:origin})]}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 md:static md:transform-none bg-blue-500 text-white p-2 rounded-full shadow-md hidden md:block hover:bg-blue-600\",onClick:handleSwapLocations,\"aria-label\":\"Swap origin and destination\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-2/5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"To\"}),/*#__PURE__*/_jsx(SimpleAirportInput,{placeholder:\"Arrival city or airport\",onSelect:validateAndSetDestination,selectedAirport:destination})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-red-500 text-sm\",children:error})]});}export default LocationSelector;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SimpleAirportInput","_ref","placeholder","onSelect","selectedAirport","inputValue","setInputValue","city","code","handleInputChange","e","target","value","handleKeyDown","key","trim","match","country","substring","toUpperCase","type","className","onChange","onKeyDown","LocationSelector","_ref2","onLocationChange","origin","setOrigin","destination","setDestination","error","setError","handleSwapLocations","temp","validateAndSetOrigin","airport","validateAndSetDestination","children","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/juliu/Desktop/web/src/components/CheapFlights/LocationSelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Simple airport input component (replacing AirportAutocomplete)\r\nfunction SimpleAirportInput({ placeholder, onSelect, selectedAirport }) {\r\n  const [inputValue, setInputValue] = useState('');\r\n  \r\n  // Update input value when selectedAirport changes\r\n  useEffect(() => {\r\n    if (selectedAirport) {\r\n      setInputValue(`${selectedAirport.city} (${selectedAirport.code})`);\r\n    } else {\r\n      setInputValue('');\r\n    }\r\n  }, [selectedAirport]);\r\n  \r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n  \r\n  const handleKeyDown = (e) => {\r\n    // Simulate selecting an airport on Enter key\r\n    if (e.key === 'Enter' && inputValue.trim()) {\r\n      // Parse city and code from input (assuming format \"City (CODE)\")\r\n      const match = inputValue.match(/(.*)\\s*\\(([A-Z]{3})\\)/);\r\n      if (match) {\r\n        onSelect({\r\n          city: match[1].trim(),\r\n          code: match[2],\r\n          country: 'Unknown' // Placeholder\r\n        });\r\n      } else {\r\n        // If not in expected format, create simple object with input as city\r\n        onSelect({\r\n          city: inputValue,\r\n          code: inputValue.substring(0, 3).toUpperCase(),\r\n          country: 'Unknown'\r\n        });\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n      placeholder={placeholder}\r\n      value={inputValue}\r\n      onChange={handleInputChange}\r\n      onKeyDown={handleKeyDown}\r\n    />\r\n  );\r\n}\r\n\r\nfunction LocationSelector({ onLocationChange }) {\r\n  const [origin, setOrigin] = useState(null);\r\n  const [destination, setDestination] = useState(null);\r\n  const [error, setError] = useState('');\r\n  // Remove the unused loading state\r\n  \r\n  useEffect(() => {\r\n    // Only trigger the change when both origin and destination are selected\r\n    if (origin && destination) {\r\n      onLocationChange({ origin, destination });\r\n    }\r\n  }, [origin, destination, onLocationChange]);\r\n\r\n  const handleSwapLocations = () => {\r\n    // Swap origin and destination\r\n    const temp = origin;\r\n    setOrigin(destination);\r\n    setDestination(temp);\r\n  };\r\n\r\n  const validateAndSetOrigin = (airport) => {\r\n    if (airport && destination && airport.code === destination.code) {\r\n      setError('Origin and destination cannot be the same');\r\n    } else {\r\n      setError('');\r\n      setOrigin(airport);\r\n    }\r\n  };\r\n\r\n  const validateAndSetDestination = (airport) => {\r\n    if (airport && origin && airport.code === origin.code) {\r\n      setError('Origin and destination cannot be the same');\r\n    } else {\r\n      setError('');\r\n      setDestination(airport);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-4 mb-6\">\r\n      <div className=\"flex flex-col md:flex-row items-center gap-4 relative\">\r\n        {/* Origin input */}\r\n        <div className=\"w-full md:w-2/5\">\r\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n            From\r\n          </label>\r\n          <SimpleAirportInput\r\n            placeholder=\"Departure city or airport\"\r\n            onSelect={validateAndSetOrigin}\r\n            selectedAirport={origin}\r\n          />\r\n        </div>\r\n\r\n        {/* Swap button */}\r\n        <button\r\n          className=\"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 md:static md:transform-none bg-blue-500 text-white p-2 rounded-full shadow-md hidden md:block hover:bg-blue-600\"\r\n          onClick={handleSwapLocations}\r\n          aria-label=\"Swap origin and destination\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"></path>\r\n          </svg>\r\n        </button>\r\n\r\n        {/* Destination input */}\r\n        <div className=\"w-full md:w-2/5\">\r\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n            To\r\n          </label>\r\n          <SimpleAirportInput\r\n            placeholder=\"Arrival city or airport\"\r\n            onSelect={validateAndSetDestination}\r\n            selectedAirport={destination}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error message */}\r\n      {error && (\r\n        <div className=\"mt-2 text-red-500 text-sm\">\r\n          {error}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LocationSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}